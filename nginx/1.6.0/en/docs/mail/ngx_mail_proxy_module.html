<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Module ngx_mail_proxy_module</title><style type="text/css">body { background: white; color: black; font-family: Georgia, serif; margin: 0; padding: .5em .5em .5em 1.5em; } p { text-align: justify; } table.news p { margin-top: 0; } table.news td { vertical-align: baseline; } table.news .date { text-align: right; padding-right: 0.5em; white-space: nowrap; } table.donors td { vertical-align: baseline; } table.donors li { text-align: left; } div.directive, #banner { background: #F2F2F2; margin: 1em 0 1em -1em; padding: .7em .7em .7em 1em; } div.directive { border-top: 2px solid #DDD; } div.directive th { padding-left: 0; padding-right: .5em; vertical-align: baseline; text-align: left; font-weight: normal; } div.directive td { vertical-align: baseline; } div.directive pre { padding: 0; margin: 0; } div.directive p { margin: .5em 0 0 .1em; font-size: .8em; } #banner { margin: 0 0 0 -1em; } a.notrans { color: gray; text-decoration:none; } span.initial { font-size: 200%; float: left; padding-right: 10pt;} ul, ol { margin: .5em 0 1em 1em; padding: 0 .5em; } ol { list-style-position: inside; } li { text-align: justify; padding: .5em 0 0 1px; } .compact li { padding-top: 0; } dl { margin: .5em 0 1em 0; } dt { margin: .5em 0; } .compact dt { margin-bottom: .2em; } dd { margin-left: 1.5em; padding-left: 1px; text-align: justify; } td.list { background: #F2F2F2; } blockquote { margin: 1em 0 1em 1em; padding: .5em; } li blockquote, dd blockquote { margin: .7em 0; } blockquote.note { border: 1px dotted #999; text-align: justify; } blockquote.example { border-left: 1px solid #BBB; } blockquote.example pre { padding: 0; margin: 0; } sup { font-size: 50%; }</style><script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-27974099-2']);
        _gaq.push(['_setDomainName', 'nginx.org']);
        _gaq.push(['_trackPageview']);

        (function() {
           var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
           ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
           var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script></head><body><table width="100%"><tr><td width="70%"><div id="banner"><center><table><tr><td align="center"><strong>Looking to make your web app faster? Look no further!</strong></td></tr><tr><td align="center"><i>NGINX Plus for HTTP load balancing, caching and SSL offload —
                            <a href="http://nginx.com/products/">Free 30-Day Trial</a>.</i></td></tr></table></center></div></td><td align="right"><a href="http://nginx.org"><img src="../../../nginx.gif" alt="nginx" border="0"></a></td></tr><tr><td width="70%"><center><h3>Module ngx_mail_proxy_module</h3></center></td><td rowspan="2" align="right" valign="top"><br>english<br><a href="http://nginx.org/ru/docs/mail/ngx_mail_proxy_module.html">русский</a><br><br><a class="notrans">简体中文</a><br><a class="notrans">עברית</a><br><a class="notrans">日本語</a><br><a class="notrans">türkçe</a><br><a class="notrans">italiano</a><br><br><a href="http://nginx.org/">news</a><br><a href="http://nginx.org/en/">about</a><br><a href="http://nginx.org/en/download.html">download</a><br><a href="http://nginx.org/en/security_advisories.html">security advisories</a><br><a href="../index.html">documentation</a><br><a href="http://nginx.org/en/pgp_keys.html">pgp keys</a><br><a href="../faq.html">faq</a><br><a href="http://nginx.org/en/links.html">links</a><br><a href="http://nginx.org/en/books.html">books</a><br><a href="http://nginx.org/en/support.html">support</a><br><a href="http://nginx.org/en/donation.html">donation</a><br><br><a href="http://trac.nginx.org/nginx">trac</a><br><a href="http://wiki.nginx.org/">wiki</a><br><a href="http://twitter.com/nginxorg">twitter</a><br><a href="http://nginx.com/">nginx.com</a><br><a href="http://nginx.com/blog/">blog</a><br></td></tr><tr><td valign="top"><table width="100%"><tr><td align="left"><a href="ngx_mail_proxy_module.html#directives">Directives</a><br>     <a href="ngx_mail_proxy_module.html#proxy_buffer">proxy_buffer</a><br>     <a href="ngx_mail_proxy_module.html#proxy_pass_error_message">proxy_pass_error_message</a><br>     <a href="ngx_mail_proxy_module.html#proxy_timeout">proxy_timeout</a><br>     <a href="ngx_mail_proxy_module.html#xclient">xclient</a><br></td></tr></table>

<a name="directives"></a><center><h4>Directives</h4></center><a name="proxy_buffer"></a><div class="directive"><table cellspacing="0">
                <tr>
                <th>
            Syntax:
                </th>
                <td>
            <code><strong>proxy_buffer</strong> <code><i>size</i></code>;</code><br>
                </td>
                </tr>
            
                <tr>
                <th>
            Default:
                </th>
                <td>
            <pre>proxy_buffer 4k|8k;</pre>
                </td>
                </tr>
            
                <tr>
                <th>
            Context:
                </th>
                <td>
            <code>mail</code>, <code>server</code><br>
                </td>
                </tr>
            </table></div><p>
Sets the size of the buffer used for proxying.
By default, the buffer size is equal to one memory page.
Depending on a platform, it is either 4K or 8K.
</p><a name="proxy_pass_error_message"></a><div class="directive"><table cellspacing="0">
                <tr>
                <th>
            Syntax:
                </th>
                <td>
            <code><strong>proxy_pass_error_message</strong> <code>on</code> | <code>off</code>;</code><br>
                </td>
                </tr>
            
                <tr>
                <th>
            Default:
                </th>
                <td>
            <pre>proxy_pass_error_message off;</pre>
                </td>
                </tr>
            
                <tr>
                <th>
            Context:
                </th>
                <td>
            <code>mail</code>, <code>server</code><br>
                </td>
                </tr>
            </table></div><p>
Indicates whether to pass the error message obtained during
the authentication on the backend to the client.
</p><p>
Usually, if the authentication in nginx is a success,
the backend cannot return an error.
If it nevertheless returns an error,
it means some internal error has occurred.
In such case the backend message can contain information
that should not be shown to the client.
However, responding with an error for the correct password
is a normal behavior for some POP3 servers.
For example, CommuniGatePro informs a user about
<a href="http://www.stalker.com/CommuniGatePro/Alerts.html#Quota">mailbox
overflow</a> or other events by periodically outputting the
<a href="http://www.stalker.com/CommuniGatePro/POP.html#Alerts">authentication
error</a>.
The directive should be enabled in this case.
</p><a name="proxy_timeout"></a><div class="directive"><table cellspacing="0">
                <tr>
                <th>
            Syntax:
                </th>
                <td>
            <code><strong>proxy_timeout</strong> <code><i>timeout</i></code>;</code><br>
                </td>
                </tr>
            
                <tr>
                <th>
            Default:
                </th>
                <td>
            <pre>proxy_timeout 24h;</pre>
                </td>
                </tr>
            
                <tr>
                <th>
            Context:
                </th>
                <td>
            <code>mail</code>, <code>server</code><br>
                </td>
                </tr>
            </table></div><p>
Defines a timeout used after the proxying to the backend had started.
</p><a name="xclient"></a><div class="directive"><table cellspacing="0">
                <tr>
                <th>
            Syntax:
                </th>
                <td>
            <code><strong>xclient</strong> <code>on</code> | <code>off</code>;</code><br>
                </td>
                </tr>
            
                <tr>
                <th>
            Default:
                </th>
                <td>
            <pre>xclient on;</pre>
                </td>
                </tr>
            
                <tr>
                <th>
            Context:
                </th>
                <td>
            <code>mail</code>, <code>server</code><br>
                </td>
                </tr>
            </table></div><p>
Enables or disables the passing of the
<a href="http://www.postfix.org/XCLIENT_README.html">XCLIENT</a>
command with client parameters when connecting to the SMTP backend.
</p><p>
With <code>XCLIENT</code>, the MTA is able to write client information
to the log and apply various limitations based on this data.
</p><p>
If <code>XCLIENT</code> is enabled
then nginx passes the following commands when connecting to the backend:
</p> <ul class="compact">
<li>
<code>EHLO</code> with the
<a href="ngx_mail_core_module.html#server_name">server name</a>
</li>

<li>
<code>
XCLIENT
</code>
</li>

<li>
<code>EHLO</code> or <code>HELO</code>,
as passed by the client
</li>
</ul><p> 
</p><p>
If the name
<a href="ngx_mail_core_module.html#resolver">found</a>
by the client IP address points to the same address,
it is passed in the <code>NAME</code> parameter
of the <code>XCLIENT</code> command.
If the name could not be found, points to a different address,
or <a href="ngx_mail_core_module.html#resolver">resolver</a> is not specified,
the <code>[UNAVAILABLE]</code> is passed
in the <code>NAME</code> parameter.
If an error has occurred in the process of resolving,
the <code>[TEMPUNAVAIL]</code> value is used.
</p><p>
If <code>XCLIENT</code> is disabled
then nginx passes the <code>EHLO</code> command with the
<a href="ngx_mail_core_module.html#server_name">server name</a>
when connecting to the backend if the client has passed
<code>EHLO</code>,
or <code>HELO</code> with the server name, otherwise.
</p>

</td></tr></table></body></html>
