
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Git Magic - Capítulo 1. Introdução</title>
  <link rel="stylesheet" type="text/css" href="default.css">
  <meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
  <link rel="home" href="index.html" title="Magia Git">
  <link rel="up" href="index.html" title="Magia Git">
  <link rel="prev" href="index.html" title="Prefácio">
  <link rel="next" href="ch02.html" title=
  "Capítulo 2. Truques básicos">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
alink="#0000FF">
    <div class="toc">
      <ul>
<li><b>Git Magic</b></li>
        <li>
          <span class="preface"><a href=
          "index.html">Prefácio</a></span>

          <ul>
            <li><span class="section"><a href=
            "index.html#_agradecimentos">Agradecimentos!</a></span></li>

            <li><span class="section"><a href=
            "index.html#_licen%C3%A7a">Licença</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch01.html">1.
          Introdução</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch01.html#_trabalhar_%C3%A9_divertido">Trabalhar é
            Divertido</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_controle_de_vers%C3%B5es">Controle de
            Versões</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_controle_distribu%C3%ADdo">Controle
            distribuído</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_uma_supersti%C3%A7%C3%A3o">Uma
            superstição</a></span></li>

            <li><span class="section"><a href=
            "ch01.html#_conflitos_de_mesclagem_merge">Conflitos de
            mesclagem (Merge)</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch02.html">2. Truques
          básicos</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch02.html#_salvando_estados">Salvando
            estados</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_adicionar_remover_renomear">Adicionar,
            Remover, Renomear</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_desfazer_refazer_avan%C3%A7ado">Desfazer/Refazer
            avançado</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_revertendo">Revertendo</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_gera%C3%A7%C3%A3o_do_changelog">Geração do
            Changelog</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_download_de_arquivos">Download de
            arquivos</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_a_%C3%BAltima_vers%C3%A3o">A Última
            Versão</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_publica%C3%A7%C3%A3o_instant%C3%A2nea">Publicação
            instantânea</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_o_que_eu_fiz">O que eu fiz?</a></span></li>

            <li><span class="section"><a href=
            "ch02.html#_exerc%C3%ADcios">Exercícios</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch03.html">3. Um pouco de
          clonagem</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch03.html#_sincronizando_computadores">Sincronizando
            Computadores</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_controle_cl%C3%A1ssico_de_c%C3%B3digo">Controle
            clássico de código</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_codigo_fonte_secreto">Codigo-fonte
            secreto</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_repositorios_vazios">Repositorios
            Vazios</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_push_versus_pull">Push versus
            Pull</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_fazendo_um_fork_do_projeto">Fazendo um Fork
            do Projeto</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_backup_supremos">Backup
            Supremos</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_multitarefa_na_velocidade_da_luz">Multitarefa
            na velocidade da luz</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_controle_de_vers%C3%B5es_de_guerrilha">Controle
            de Versões de Guerrilha</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_mercurial">Mercurial</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_bazaar">Bazaar</a></span></li>

            <li><span class="section"><a href=
            "ch03.html#_por_que_uso_o_git">Por que uso o
            Git?</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch04.html">4. Bruxarias
          com branch</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch04.html#_a_tecla_chefe">A “tecla”
            chefe</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_trabalho_porco">Trabalho
            porco</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_corre%C3%A7%C3%B5es_r%C3%A1pidas">Correções
            rápidas</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_merging">Merging</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_fluxo_ininterrupto">Fluxo
            ininterrupto</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_reorganizando_uma_bagun%C3%A7a">Reorganizando
            uma Bagunça</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_gerenciando_os_branches">Gerenciando os
            Branches</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_branches_tempor%C3%A1rios">Branches
            Temporários</a></span></li>

            <li><span class="section"><a href=
            "ch04.html#_trabalhe_como_quiser">Trabalhe como
            quiser</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch05.html">5. Lições de
          historia</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch05.html#_eu_corrijo">Eu corrijo</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_8230_e_tem_mais">… e tem
            mais</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_altera%C3%A7%C3%B5es_locais_por_%C3%BAltimo">
            Alterações locais por último</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_reescrevendo_o_hist%C3%B3rico">Reescrevendo
            o histórico</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_fazendo_hist%C3%B3ria">Fazendo
            história</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_onde_foi_que_tudo_deu_errado">Onde foi que
            tudo deu errado?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_quem_fez_tudo_dar_errado">Quem fez tudo dar
            errado?</a></span></li>

            <li><span class="section"><a href=
            "ch05.html#_experi%C3%AAncia_pessoal">Experiência
            pessoal</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch06.html">6. Git
          Multiplayer</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch06.html#_quem_sou_eu">Quem sou eu?</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_sob_ssh_http">Git sob SSH,
            HTTP</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_git_sobre_qualquer_coisa">Git sobre
            qualquer coisa</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_patches_a_moeda_universal">Patches: A moeda
            Universal</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_sinto_muito_mas_mudamos">Sinto muito, mas
            mudamos</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_branches_remotos">Branches
            Remotos</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_remotos_m%C3%BAltiplos">Remotos
            Múltiplos</a></span></li>

            <li><span class="section"><a href=
            "ch06.html#_minhas_preferencias">Minhas
            preferencias</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch07.html">7. Grão-Mestre
          Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch07.html#_disponibiliza%C3%A7%C3%A3o_de_c%C3%B3digo">Disponibilização
            de Código</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_commit_do_que_mudou">Commit do que
            Mudou</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_meu_commit_%C3%A9_muito_grande">Meu Commit
            é muito Grande!</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_o_indice_a_%C3%A1rea_de_atua%C3%A7%C3%A3o_do_git">
            O Indice: A Área de Atuação do Git</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_n%C3%A3o_perca_a_cabe%C3%A7a_head">Não
            perca a CABEÇA (HEAD)</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_explorando_o_head">Explorando o
            HEAD</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_baseando_se_no_git">Baseando se no
            Git</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_manobras_radicais">Manobras
            Radicais</a></span></li>

            <li><span class="section"><a href=
            "ch07.html#_preven%C3%A7%C3%A3o_a_maus_commits">Prevenção
            a maus Commits</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch08.html">8. Segredos
          Revelados</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch08.html#_invisibilidade">Invisibilidade</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_integridade">Integridade</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_intelig%C3%AAncia">Inteligência</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_indexando">Indexando</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_origem_do_git">Origem do
            Git</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_o_banco_de_dados_de_objetos">O Banco de
            Dados de Objetos</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_blobs">Blobs</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_%C3%A1rvores">Árvores</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_commits">Commits</a></span></li>

            <li><span class="section"><a href=
            "ch08.html#_indistingu%C3%ADvel_da_magia">Indistinguível
            da Magia</a></span></li>
          </ul>
        </li>

        <li>
          <span class="chapter"><a href="ch09.html">9. Apêndice A:
          Deficiências do Git</a></span>

          <ul>
            <li><span class="section"><a href=
            "ch09.html#_pontos_fracos_do_sha1">Pontos fracos do
            SHA1</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_microsoft_windows">Microsoft
            Windows</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_arquivos_independentes">Arquivos
            Independentes</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_quem_est%C3%A1_editando_o_que">Quem Está
            Editando O Que?</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_arquivo_do_hist%C3%B3rico">Arquivo do
            Histórico</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_clone_inicial">Clone
            Inicial</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_projetos_vol%C3%A1teis">Projetos
            Voláteis</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_contador_global">Contador
            Global</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_subdiret%C3%B3rios_vazios">Subdiretórios
            Vazios</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_commit_inicial">Commit
            Inicial</a></span></li>

            <li><span class="section"><a href=
            "ch09.html#_peculiaridades_da_interface">Peculiaridades
            da Interface</a></span></li>
          </ul>
        </li>

        <li><span class="chapter"><a href="ch10.html">10. Apendice
        B: Traduzindo esse guia</a></span></li>
      </ul>
    </div>
<div class="content">
  <div class="chapter" title="Capítulo 1. Introdução">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title"><a name=
          "_introdu%C3%A7%C3%A3o"></a>Capítulo 1. Introdução</h2>
        </div>
      </div>
    </div>

    <p>Usaremos uma analogia para falar sobre controle de versões.
    Veja <a class="ulink" href=
    "http://en.wikipedia.org/wiki/Revision_control" target="_top">o
    verbete Sistema de Controle de Versões</a> para uma explicação
    mais formal.</p>

    <div class="section" title="Trabalhar é Divertido">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_trabalhar_%C3%A9_divertido"></a>Trabalhar é
            Divertido</h2>
          </div>
        </div>
      </div>

      <p>Divirto-me com jogos para computador quase a minha vida
      toda. Em contrapartida, só comecei a usar sistemas de
      controle de versões quando adulto. Suspeito que não fui o
      único, e comparar os dois pode tornar estes conceitos mais
      fáceis de explicar e entender.</p>

      <p>Pense na edição de seu código, documento, ou qualquer
      outra coisa, como jogar um jogo. Uma vez que tenha feito
      muitos progressos, e gostaria de de salvá-los. Para isso,
      você clica em “Salvar” no seu editor preferido.</p>

      <p>Porém, isto vai sobrescrever a versão anterior. É como nos
      antigos jogos onde você só tinha uma espaço para salvar: você
      pode salvar, mas nunca mais poderá voltar a um estado salvo
      anteriormente. O que é um pena, pois o estado anterior era
      uma parte muito divertida do jogo e você gostaria de poder
      revisitá-lo outra hora. Ou pior, o último estado salvo é
      dificílimo e você terá que recomeçar.</p>
    </div>

    <div class="section" title="Controle de Versões">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_controle_de_vers%C3%B5es"></a>Controle de
            Versões</h2>
          </div>
        </div>
      </div>

      <p>Ao editar, você pode “Salvar como …” num arquivo
      diferente, ou copiar o arquivo antes de sobrescrevê-lo se
      você quiser manter as versões anteriores. Pode também
      comprimí-los para economizar espaço. Isto é uma forma
      rudimentar e muito trabalhosa de controle de versões. Jogos
      de computador aperfeiçoaram este método, muitos deles
      acrescentam automaticamente a data e a hora aos estados
      salvos.</p>

      <p>Vamos dificultar um pouco. Digamos que são um monte de
      arquivos juntos, como os fontes do seu projeto, ou arquivos
      para um website. Agora se quiser manter suas versões
      anteriores, terá que arquivar todo um diretório ou vários.
      Manter muitas versões na mão é inconveniente e rapidamente se
      tornará caro.</p>

      <p>Em alguns jogos de computador, um estado salvo consiste de
      um diretório cheio de arquivos. Estes jogos escondem estes
      detalhes do jogador e lhe apresentam uma interface
      conveniente para gerenciar as diferentes versões neste
      diretório.</p>

      <p>Sistemas de controle de versões não são diferentes. Todos
      têm uma boa interface para gerenciar seu diretório de
      versões. Você pode salvar o diretório sempre que desejar, e
      pode rever qualquer um dos estados salvos quando quiser. Ao
      contrário da maioria dos jogos de computador, eles são
      geralmente mais espertos na economia de espaço. Normalmente,
      apenas uns poucos arquivos mudam de versão para versão, e com
      poucas diferenças. Armazenar as diferenças, ao invés de todos
      os arquivos, economiza espaço.</p>
    </div>

    <div class="section" title="Controle distribuído">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_controle_distribu%C3%ADdo"></a>Controle
            distribuído</h2>
          </div>
        </div>
      </div>

      <p>Agora imagine um jogo de computador muito difícil. Tão
      difícil de terminar que vários jogadores experientes pelo
      mundo decidem formar uma equipe e compartilhar seus estados
      salvos do jogo para tentar vencê-lo. Speedruns são exemplos
      reais: jogadores especializados em diferentes níveis do mesmo
      jogo colaboram na produção de resultados incríveis.</p>

      <p>Como você configura um sistema para que todos possam obter
      facilmente o que os outros salvarem? E salvar novos
      estados?</p>

      <p>Nos velhos tempos, todos os projetos utilizavam um
      controle de versões centralizado. Um servidor em algum lugar
      mantinha os jogos salvos. Ninguém mais teria todos os jogos.
      Cada jogador mantinha apenas alguns jogos salvos em suas
      maquinas. Quando algum jogador quiser avançar no jogo, ele
      pega o ultimo jogo salvo do servidor, joga um pouco, salva e
      manda de volta para o servidor para que os outros possam
      usar.</p>

      <p>E se um jogador quiser pegar um jogo antigo salvo por
      algum motivo? Talvez o jogo atual salvo esteja em um nível
      impossível de jogar devido alguém ter esquecido um objeto
      três níveis atrás, e é preciso encontrar o último jogo salvo
      que está em um nível que pode ser completado com sucesso. Ou
      talvez queira comparar dois jogos salvos para saber o quanto
      um jogador avançou.</p>

      <p>Podem existir vários motivos para ver uma versão antiga,
      mas o modus operandi é o mesmo. Têm que solicitar ao servidor
      centralizado a versão antiga. E quanto mais jogos salvos
      forem necessários, maior é o tráfego de informação.</p>

      <p>A nova geração de sistemas de controle de versões, dentre
      eles o Git, é conhecida como sistemas distribuídos, e pode
      ser pensada como uma generalização dos sistemas
      centralizados. Quando os jogadores baixam do servidor
      principal, eles recebem todos os jogos salvos, e não apenas o
      mais recente. É como se estivessem espelhando o servidor
      principal.</p>

      <p>A primeira operação de clonagem pode ser bem demorada,
      especialmente se há um longo histórico, mas é compensada no
      longo prazo. Um benefício imediato é que, se por qualquer
      razão desejar uma antiga versão, o trafego de informação com
      o servidor é desnecessário.</p>
    </div>

    <div class="section" title="Uma superstição">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_uma_supersti%C3%A7%C3%A3o"></a>Uma superstição</h2>
          </div>
        </div>
      </div>

      <p>Um equívoco popular é que sistemas distribuídos estão mal
      adaptados a projetos que exijam um repositório central
      oficial. Nada poderia estar mais longe da verdade. Fotografar
      alguém não irá roubar a sua alma. Igualmente, clonar o
      repositório master não diminui sua importância.</p>

      <p>Uma boa comparação inicial é: qualquer coisa que um
      sistema centralizado de controle de versões faz, um sistema
      distribuído de controle de versões bem concebido pode fazer
      melhor. Recursos de rede são simplesmente mais onerosos que
      recursos locais. Embora vejamos mais adiante que existem
      inconvenientes numa abordagem distribuída, é menos provável
      que alguém faça comparações errôneas com esta regra de
      ouro.</p>

      <p>Um pequeno projeto pode precisar de apenas uma fração dos
      recursos oferecidos pelo sistema, mas utilizar um sistema que
      não permite expansão é como utilizar os algarismos romanos
      quando calculamos com números pequenos.</p>

      <p>E mais, seu projeto pode crescer além da suas
      expectativas. Usando Git, desde o inicio é como ter um
      canivete suíço, embora o use na maioria das vezes para abrir
      garrafas. No dia que necessitar, desesperadamente, de uma
      chave de fenda você agradecerá por ter mais do que um abridor
      de garrafas.</p>
    </div>

    <div class="section" title="Conflitos de mesclagem (Merge)">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title"><a name=
            "_conflitos_de_mesclagem_merge"></a>Conflitos de
            mesclagem (Merge)</h2>
          </div>
        </div>
      </div>

      <p>Neste tópico, nossa analogia com jogos de computador
      torna-se ruim. Em vez disso, vamos considerar novamente a
      edição de um documento.</p>

      <p>Suponha que Alice insira uma linha no início do arquivo, e
      Bob uma no final. Ambos enviam suas alterações. A maioria dos
      sistemas irá de maneira automática e reativa deduzir o plano
      de ação: aceitando e mesclando as mudanças, assim as
      alterações de Alice e Bob serão aplicadas.</p>

      <p>Agora suponha que ambos, Alice e Bob, façam alterações
      distintas na mesma linha. Tornando impossível resolver o
      conflito sem intervenção humana. A segunda pessoa, entre
      Alice e Bob, que enviar suas alterações será informado do
      conflito, e escolherá se aplica sua alteração sobre a do
      outro, ou revisa a linha para manter ambas as alterações.</p>

      <p>Situações muito mais complexas podem surgir. Sistemas de
      controle de versões são capazes de resolver os casos mais
      simples, e deixar os casos mais difíceis para nós
      resolvermos. Normalmente seu comportamento é
      configurável.</p>
    </div>
  </div><script type="text/javascript" src="find_selflink.js">
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1901330-2");
  pageTracker._initData();
  pageTracker._trackPageview();
  </script>
</div>
</div><div class="footer"><a href="/~blynn/">Ben Lynn</a></div>
</body>
</html>

