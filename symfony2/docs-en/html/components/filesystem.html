
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Filesystem Component &mdash; Symfony2Docs 2.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-2.3.1/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/2.3.1/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-2.3.1/css/bootstrap-responsive.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-2.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Symfony2Docs 2.2 documentation" href="../index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
<div class="container">
  
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="brand" href="../index.html">Symfony</a>
      <span class="navbar-text pull-left"><b>2.2</b></span>

      <div class="nav-collapse">
        <ul class="nav">
          <li class="divider-vertical"></li>
          
            <li class="dropdown globaltoc-container">
  <a href="../index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="simple">
</ul>
</ul>
</li>
            <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">The Filesystem Component</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#mkdir">Mkdir</a></li>
<li><a class="reference internal" href="#exists">Exists</a></li>
<li><a class="reference internal" href="#copy">Copy</a></li>
<li><a class="reference internal" href="#touch">Touch</a></li>
<li><a class="reference internal" href="#chown">Chown</a></li>
<li><a class="reference internal" href="#chgrp">Chgrp</a></li>
<li><a class="reference internal" href="#chmod">Chmod</a></li>
<li><a class="reference internal" href="#remove">Remove</a></li>
<li><a class="reference internal" href="#rename">Rename</a></li>
<li><a class="reference internal" href="#symlink">symlink</a></li>
<li><a class="reference internal" href="#makepathrelative">makePathRelative</a></li>
<li><a class="reference internal" href="#mirror">mirror</a></li>
<li><a class="reference internal" href="#isabsolutepath">isAbsolutePath</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling">Error Handling</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          
          
            
          
          
            <li>
  <a href="../_sources/components/filesystem.txt"
     rel="nofollow">Source</a></li>
          
        </ul>

        
          
<form class="navbar-search pull-right" style="margin-bottom:-3px;" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

  
  <div class="section" id="the-filesystem-component">
<span id="index-0"></span><h1>The Filesystem Component<a class="headerlink" href="#the-filesystem-component" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div>The Filesystem components provides basic utilities for the filesystem.</div></blockquote>
<p class="versionadded">
<span class="versionmodified">New in version 2.1: </span>The Filesystem Component is new to Symfony 2.1. Previously, the <tt class="docutils literal"><span class="pre">Filesystem</span></tt>
class was located in the <tt class="docutils literal"><span class="pre">HttpKernel</span></tt> component.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>You can install the component in many different ways:</p>
<ul class="simple">
<li>Use the official Git repository (<a class="reference external" href="https://github.com/symfony/Filesystem">https://github.com/symfony/Filesystem</a>);</li>
<li>Install it via Composer (<tt class="docutils literal"><span class="pre">symfony/filesystem</span></tt> on <a class="reference external" href="https://packagist.org/packages/symfony/filesystem">Packagist</a>).</li>
</ul>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Filesystem.html" title="Symfony\Component\Filesystem\Filesystem"><span class="pre">Filesystem</span></a></tt> class is the unique
endpoint for filesystem operations:</p>
<div class="highlight-python"><pre>use Symfony\Component\Filesystem\Filesystem;
use Symfony\Component\Filesystem\Exception\IOException;

$fs = new Filesystem();

try {
    $fs-&gt;mkdir('/tmp/random/dir/' . mt_rand());
} catch (IOException $e) {
    echo "An error occurred while creating your directory";
}</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Methods <tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Filesystem.html#method_mkdir" title="Symfony\Component\Filesystem\Filesystem::mkdir()"><span class="pre">mkdir()</span></a></tt>,
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Filesystem.html#method_exists" title="Symfony\Component\Filesystem\Filesystem::exists()"><span class="pre">exists()</span></a></tt>,
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Filesystem.html#method_touch" title="Symfony\Component\Filesystem\Filesystem::touch()"><span class="pre">touch()</span></a></tt>,
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Filesystem.html#method_remove" title="Symfony\Component\Filesystem\Filesystem::remove()"><span class="pre">remove()</span></a></tt>,
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Filesystem.html#method_chmod" title="Symfony\Component\Filesystem\Filesystem::chmod()"><span class="pre">chmod()</span></a></tt>,
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Filesystem.html#method_chown" title="Symfony\Component\Filesystem\Filesystem::chown()"><span class="pre">chown()</span></a></tt> and
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Filesystem.html#method_chgrp" title="Symfony\Component\Filesystem\Filesystem::chgrp()"><span class="pre">chgrp()</span></a></tt> can receive a
string, an array or any object implementing <tt class="docutils literal"><a class="reference external" href="http://php.net/manual/en/class.traversable.php" title="Traversable"><span class="pre">Traversable</span></a></tt> as
the target argument.</p>
</div>
<div class="section" id="mkdir">
<h3>Mkdir<a class="headerlink" href="#mkdir" title="Permalink to this headline">¶</a></h3>
<p>Mkdir creates directory. On posix filesystems, directories are created with a
default mode value <cite>0777</cite>. You can use the second argument to set your own mode:</p>
<div class="highlight-python"><pre>$fs-&gt;mkdir('/tmp/photos', 0700);</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can pass an array or any <tt class="docutils literal"><a class="reference external" href="http://php.net/manual/en/class.traversable.php" title="Traversable"><span class="pre">Traversable</span></a></tt> object as the first
argument.</p>
</div>
</div>
<div class="section" id="exists">
<h3>Exists<a class="headerlink" href="#exists" title="Permalink to this headline">¶</a></h3>
<p>Exists checks for the presence of all files or directories and returns false if a
file is missing:</p>
<div class="highlight-python"><pre>// this directory exists, return true
$fs-&gt;exists('/tmp/photos');

// rabbit.jpg exists, bottle.png does not exists, return false
$fs-&gt;exists(array('rabbit.jpg', 'bottle.png'));</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can pass an array or any <tt class="docutils literal"><a class="reference external" href="http://php.net/manual/en/class.traversable.php" title="Traversable"><span class="pre">Traversable</span></a></tt> object as the first
argument.</p>
</div>
</div>
<div class="section" id="copy">
<h3>Copy<a class="headerlink" href="#copy" title="Permalink to this headline">¶</a></h3>
<p>This method is used to copy files. If the target already exists, the file is
copied only if the source modification date is earlier than the target. This
behavior can be overridden by the third boolean argument:</p>
<div class="highlight-python"><pre>// works only if image-ICC has been modified after image.jpg
$fs-&gt;copy('image-ICC.jpg', 'image.jpg');

// image.jpg will be overridden
$fs-&gt;copy('image-ICC.jpg', 'image.jpg', true);</pre>
</div>
</div>
<div class="section" id="touch">
<h3>Touch<a class="headerlink" href="#touch" title="Permalink to this headline">¶</a></h3>
<p>Touch sets access and modification time for a file. The current time is used by
default. You can set your own with the second argument. The third argument is
the access time:</p>
<div class="highlight-python"><pre>// set modification time to the current timestamp
$fs-&gt;touch('file.txt');
// set modification time 10 seconds in the future
$fs-&gt;touch('file.txt', time() + 10);
// set access time 10 seconds in the past
$fs-&gt;touch('file.txt', time(), time() - 10);</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can pass an array or any <tt class="docutils literal"><a class="reference external" href="http://php.net/manual/en/class.traversable.php" title="Traversable"><span class="pre">Traversable</span></a></tt> object as the first
argument.</p>
</div>
</div>
<div class="section" id="chown">
<h3>Chown<a class="headerlink" href="#chown" title="Permalink to this headline">¶</a></h3>
<p>Chown is used to change the owner of a file. The third argument is a boolean
recursive option:</p>
<div class="highlight-python"><pre>// set the owner of the lolcat video to www-data
$fs-&gt;chown('lolcat.mp4', 'www-data');
// change the owner of the video directory recursively
$fs-&gt;chown('/video', 'www-data', true);</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can pass an array or any <tt class="docutils literal"><a class="reference external" href="http://php.net/manual/en/class.traversable.php" title="Traversable"><span class="pre">Traversable</span></a></tt> object as the first
argument.</p>
</div>
</div>
<div class="section" id="chgrp">
<h3>Chgrp<a class="headerlink" href="#chgrp" title="Permalink to this headline">¶</a></h3>
<p>Chgrp is used to change the group of a file. The third argument is a boolean
recursive option:</p>
<div class="highlight-python"><pre>// set the group of the lolcat video to nginx
$fs-&gt;chgrp('lolcat.mp4', 'nginx');
// change the group of the video directory recursively
$fs-&gt;chgrp('/video', 'nginx', true);</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can pass an array or any <tt class="docutils literal"><a class="reference external" href="http://php.net/manual/en/class.traversable.php" title="Traversable"><span class="pre">Traversable</span></a></tt> object as the first
argument.</p>
</div>
</div>
<div class="section" id="chmod">
<h3>Chmod<a class="headerlink" href="#chmod" title="Permalink to this headline">¶</a></h3>
<p>Chmod is used to change the mode of a file. The third argument is a boolean
recursive option:</p>
<div class="highlight-python"><pre>// set the mode of the video to 0600
$fs-&gt;chmod('video.ogg', 0600);
// change the mod of the src directory recursively
$fs-&gt;chmod('src', 0700, 0000, true);</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can pass an array or any <tt class="docutils literal"><a class="reference external" href="http://php.net/manual/en/class.traversable.php" title="Traversable"><span class="pre">Traversable</span></a></tt> object as the first
argument.</p>
</div>
</div>
<div class="section" id="remove">
<h3>Remove<a class="headerlink" href="#remove" title="Permalink to this headline">¶</a></h3>
<p>Remove let&#8217;s you remove files, symlink, directories easily:</p>
<div class="highlight-python"><pre>$fs-&gt;remove(array('symlink', '/path/to/directory', 'activity.log'));</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can pass an array or any <tt class="docutils literal"><a class="reference external" href="http://php.net/manual/en/class.traversable.php" title="Traversable"><span class="pre">Traversable</span></a></tt> object as the first
argument.</p>
</div>
</div>
<div class="section" id="rename">
<h3>Rename<a class="headerlink" href="#rename" title="Permalink to this headline">¶</a></h3>
<p>Rename is used to rename files and directories:</p>
<div class="highlight-python"><pre>//rename a file
$fs-&gt;rename('/tmp/processed_video.ogg', '/path/to/store/video_647.ogg');
//rename a directory
$fs-&gt;rename('/tmp/files', '/path/to/store/files');</pre>
</div>
</div>
<div class="section" id="symlink">
<h3>symlink<a class="headerlink" href="#symlink" title="Permalink to this headline">¶</a></h3>
<p>Creates a symbolic link from the target to the destination. If the filesystem
does not support symbolic links, a third boolean argument is available:</p>
<div class="highlight-python"><pre>// create a symbolic link
$fs-&gt;symlink('/path/to/source', '/path/to/destination');
// duplicate the source directory if the filesystem
// does not support symbolic links
$fs-&gt;symlink('/path/to/source', '/path/to/destination', true);</pre>
</div>
</div>
<div class="section" id="makepathrelative">
<h3>makePathRelative<a class="headerlink" href="#makepathrelative" title="Permalink to this headline">¶</a></h3>
<p>Return the relative path of a directory given another one:</p>
<div class="highlight-python"><pre>// returns '../'
$fs-&gt;makePathRelative(
    '/var/lib/symfony/src/Symfony/',
    '/var/lib/symfony/src/Symfony/Component'
);
// returns 'videos'
$fs-&gt;makePathRelative('/tmp', '/tmp/videos');</pre>
</div>
</div>
<div class="section" id="mirror">
<h3>mirror<a class="headerlink" href="#mirror" title="Permalink to this headline">¶</a></h3>
<p>Mirrors a directory:</p>
<div class="highlight-python"><pre>$fs-&gt;mirror('/path/to/source', '/path/to/target');</pre>
</div>
</div>
<div class="section" id="isabsolutepath">
<h3>isAbsolutePath<a class="headerlink" href="#isabsolutepath" title="Permalink to this headline">¶</a></h3>
<p>isAbsolutePath returns true if the given path is absolute, false otherwise:</p>
<div class="highlight-python"><pre>// return true
$fs-&gt;isAbsolutePath('/tmp');
// return true
$fs-&gt;isAbsolutePath('c:\\Windows');
// return false
$fs-&gt;isAbsolutePath('tmp');
// return false
$fs-&gt;isAbsolutePath('../dir');</pre>
</div>
</div>
</div>
<div class="section" id="error-handling">
<h2>Error Handling<a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h2>
<p>Whenever something wrong happens, an exception implementing
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Exception/ExceptionInterface.html" title="Symfony\Component\Filesystem\Exception\ExceptionInterface"><span class="pre">ExceptionInterface</span></a></tt> is
thrown.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Prior to version 2.1, <tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Filesystem.html#method_mkdir" title="Symfony\Component\Filesystem\Filesystem::mkdir()"><span class="pre">mkdir()</span></a></tt>
returned a boolean and did not throw exceptions. As of 2.1, a
<tt class="docutils literal"><a class="reference external" href="http://api.symfony.com/master/Symfony/Component/Filesystem/Exception/IOException.html" title="Symfony\Component\Filesystem\Exception\IOException"><span class="pre">IOException</span></a></tt> is
thrown if a directory creation fails.</p>
</div>
</div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Symfony Team.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>