<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><meta charset=utf-8>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>EXPRESSÕES REGULARES: Os Metacaracteres: Grupo: o pop (...)</TITLE>
 <LINK HREF="guia-er-26.html" REL=next>
 <LINK HREF="guia-er-24.html" REL=previous>
 <LINK HREF="guia-er.html#toc2" REL=contents>
</HEAD>
<body bgcolor="white" text=black>
<A HREF="guia-er-26.html">Página seguinte</A>
<A HREF="guia-er-24.html">Página anterior</A>
<A HREF="guia-er.html#toc2">Índice</A>
<HR>
<H2>2.17 Grupo: o pop (...)</H2>

<P>
<P>Assim como artistas famosos e personalidades que conseguem arrastar multidões, o grupo tem o dom de juntar vários tipos de sujeitos em um mesmo local. Dentro de um grupo podemos ter um ou mais caracteres, metacarateres e inclusive outros grupos! Como em uma expressão matemática, os parênteses definem um grupo, e seu conteúdo pode ser visto como um bloco na expressão.
<P>Todos os metacaracteres quantificadores que vimos anteriormente, podem ter seu poder ampliado pelo grupo, pois ele lhes dá mais abrangência. E o ou, pelo contrário, tem sua abrangência limitada pelo grupo, e pode parecer estranho, mas é essa limitação que lhe dá mais poder.
<P>Em um exemplo simples, <B><CODE>(ai)+</CODE></B> agrupa a palavra "ai" e esse grupo está quantificado pelo mais. Isso quer dizer que casamos várias repetições da palavra, como <B><EM>ai</EM></B>, <B><EM>aiai</EM></B>, <B><EM>aiaiai</EM></B>, ... E assim podemos agrupar tudo o que quisermos, literais e metacaracteres, e quantificá-los:
<P>
<BLOCKQUOTE><CODE>
<PRE>
(ha!)+                  ha!, ha!ha!, ha!ha!ha!, ...
(\.[0-9]){3}            .0.6.2, .2.8.9, .6.6.6, ...
(www\.)?zz\.com         www.zz.com, zz.com
</PRE>
</CODE></BLOCKQUOTE>
<P>E em especial nosso amigo ou ganha limites e seu poder cresce:
<P>
<BLOCKQUOTE><CODE>
<PRE>
boa-(tarde|noite)       boa-tarde, boa-noite
(#|n\.|núm) 6           # 6, n. 6, núm 6
(in|con)?certo          incerto, concerto, certo
</PRE>
</CODE></BLOCKQUOTE>
<P>Note que o grupo não altera o sentido da ER, apenas serve como marcador. Podemos criar subgrupos também, então imagine que você esteja procurando o nome de um supermercado em uma listagem e não sabe se este é um mercado, supermercado ou um hipermercado.
<P>
<BLOCKQUOTE><CODE>
<PRE>
(super|hiper)mercado
</PRE>
</CODE></BLOCKQUOTE>
<P>Consegue casar as duas últimas possibilidades, mas note que nas alternativas <EM>super</EM> e <EM>hiper</EM> temos um trecho <B><EM>per</EM></B> comum aos dois, então podíamos "alternativizar" apenas as diferenças <EM>su</EM> e <EM>hi</EM>:
<P>
<BLOCKQUOTE><CODE>
<PRE>
(su|hi)permercado
</PRE>
</CODE></BLOCKQUOTE>
<P>Precisamos também casar apenas o <EM>mercado</EM> sem os aumentativos, então temos de agrupá-los e torná-los opcionais:
<P>
<BLOCKQUOTE><CODE>
<PRE>
((su|hi)per)?mercado
</PRE>
</CODE></BLOCKQUOTE>
<P>Pronto! Temos a ER que buscávamos e ainda esbanjamos habilidade utilizando um grupo dentro do outro.
<P>
<BLOCKQUOTE>
<EM>Ei! E se tivesse minimercado também?</EM>
</BLOCKQUOTE>
<P>
<BLOCKQUOTE><CODE>
<PRE>
(mini|(su|hi)per)?mercado
</PRE>
</CODE></BLOCKQUOTE>
<P>E assim vai... Acho que já deu para notar quão poderosas e complexas podem ficar nossas ERs ao utilizarmos grupos, não? Mas não acaba por aqui! Acompanhe o retrovisor na seqüência.
<P>
<BLOCKQUOTE>
<EM>Espera! E se eu quiser casar um par de parênteses literais?</EM>
</BLOCKQUOTE>
<P>Ah! Lembra-se do escape criptonita? Basta tirar o poder dos parênteses, escapando-os. Veja um exemplo na ER para procurar declarações de função em códigos de programas como <EM>Minha_Funcao()</EM>
<P>
<BLOCKQUOTE><CODE>
<PRE>
[A-Za-z0-9_]+\(\)
</PRE>
</CODE></BLOCKQUOTE>
<P>Ou ainda, caso acentuação seja permitida em nomes de função (lembre-se das classes POSIX!):
<P>
<BLOCKQUOTE><CODE>
<PRE>
[[:alnum:]_]+\(\)
</PRE>
</CODE></BLOCKQUOTE>
<P>
<H3>Resumão</H3>

<P>
<P>
<UL>
<LI>Grupos servem para agrupar.</LI>
<LI>Grupos são muito poderosos.</LI>
<LI>Grupos podem conter grupos.</LI>
<LI>Grupos são quantificáveis.</LI>
</UL>
<HR>
<A HREF="guia-er-26.html">Página seguinte</A>
<A HREF="guia-er-24.html">Página anterior</A>
<A HREF="guia-er.html#toc2">Índice</A>
</BODY>
</HTML>
