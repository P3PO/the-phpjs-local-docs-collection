<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>EXPRESSÕES REGULARES: Como lidar com...: ERs pré-processadas e cruas</TITLE>
 <LINK HREF="guia-er-44.html" REL=next>
 <LINK HREF="guia-er-42.html" REL=previous>
 <LINK HREF="guia-er.html#toc5" REL=contents>
</HEAD>
<body bgcolor="white" text=black>
<A HREF="guia-er-44.html">Página seguinte</A>
<A HREF="guia-er-42.html">Página anterior</A>
<A HREF="guia-er.html#toc5">Índice</A>
<HR>
<H2>5.2 ERs pré-processadas e cruas</H2>

<P>
<P>Algumas linguagens recebem a ER como um dado do tipo "string", e não simplesmente como uma ER pronta. Essa <EM>string</EM> é primeiramente interpretada pela linguagem, e só depois é passada ao robozinho. Mas o que exatamente isso quer dizer? Muitas coisas.
<P>Primeiro, esse tratamento prévio não é algo específico das ERs, pois também acontece com qualquer <EM>string</EM> na linguagem, seja para ecoar uma mensagem na tela, seja para fazer indexação. Trechos da ER podem ser confundidos com variáveis e outras estruturas especiais, como, por exemplo, a ER <B><CODE>$nome</CODE></B> poderia ser expandida para o conteúdo da variável <CODE>$nome</CODE>. Mas o que geralmente pega mesmo é a interpretação de escapes, incluindo os barra-letras.
<P>Isso nos afeta diretamente ao escrever uma ER, pois imagine que queremos casar um <CODE>\t</CODE> literal, então escapamos o escape: <B><CODE>\\t</CODE></B>. Mas ao receber essa <EM>string</EM>, a linguagem primeiro a interpreta, e quando vê dois escapes seguidos, o que faz? O troca por apenas um, pois <B><CODE>\\</CODE></B> representa um escape literal. Com isso nosso robozinho recebe a ER <B><CODE>\t</CODE></B>, que por sua vez será interpretado como um TAB literal e nossa busca falhará. Nesse caso, temos de prever o pré-processamento e escapar duplamente <B><CODE>\\\\t</CODE></B>, para que o robozinho receba o <B><CODE>\\t</CODE></B> que queríamos.
<P>Felizmente, para que não precisemos ficar escapando tudo duplicado, a maioria dessas linguagens tem maneiras de se especificar uma "string crua" ("raw string"), que não é interpretada e é passada diretamente ao robozinho. Detalhes de como fazer isso estão no capítulo específico da cada linguagem, mais adiante. Mas essa característica também tem seu lado bom. Como alguns robozinhos não suportam os barra-letras, esse pré-processamento os reconhece e os converte, passando-os literais para o robô.
<P>Concluindo, se a linguagem que você usa recebe as ERs como <EM>strings</EM>, descubra como deixá-las cruas, ou fique com dor de cabeça de tanto escapar os escapes...
<P>
<HR>
<A HREF="guia-er-44.html">Página seguinte</A>
<A HREF="guia-er-42.html">Página anterior</A>
<A HREF="guia-er.html#toc5">Índice</A>
</BODY>
</HTML>
