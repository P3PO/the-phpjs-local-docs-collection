<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>EXPRESSÕES REGULARES: Os Metacaracteres: Opcional: o opcional ?</TITLE>
 <LINK HREF="guia-er-15.html" REL=next>
 <LINK HREF="guia-er-13.html" REL=previous>
 <LINK HREF="guia-er.html#toc2" REL=contents>
</HEAD>
<body bgcolor="white" text=black>
<A HREF="guia-er-15.html">Página seguinte</A>
<A HREF="guia-er-13.html">Página anterior</A>
<A HREF="guia-er.html#toc2">Índice</A>
<HR>
<H2>2.6 Opcional: o opcional ?</H2>

<P>
<P>O opcional é um quantificador que não esquenta a cabeça, para ele pode ter ou não a ocorrência da entidade anterior, pois ele a repete 0 ou 1 vez. Por exemplo, a ER <B><CODE>6?</CODE></B> significa zero ou uma ocorrência do número 6. Se tiver um 6, beleza, casamento efetuado. Se não tiver, beleza também. Isso torna o 6 opcional (daí o nome), que tendo ou não, a ER casa. Veja mais um exemplo, o plural. A ER <B><CODE>ondas?</CODE></B> tem a letra <CODE>s</CODE> marcada como opcional, então ela casa <B><EM>onda</EM></B> e <B><EM>ondas</EM></B>.
<P>/!\ ATENÇÃO /!\ cada letra normal é um átomo da ER, então o opcional é aplicado somente ao s e não à palavra toda.
<P>
<BLOCKQUOTE>
<EM>E essa tal de entidade pode ser um metacaractere então?</EM>
</BLOCKQUOTE>
<P>Claro! Agora vamos começar a ver o poder de uma expressão regular. Já vimos o metacaractere lista e agora vimos o opcional, que tal fazermos uma lista opcional? Voltando um pouco àquele exemplo da palavra <EM>fala</EM>, vamos fazer a ER <B><CODE>fala[r!]?</CODE></B>. Mmmmmm, as ERs estão começando a ficar interessantes não? Mas antes de analisar essa ER, uma dica que vale ouro, memorize já: <EM>leia a ER átomo por átomo, da esquerda para a direita</EM>. Repetindo: <EM>leia a ER átomo por átomo, da esquerda para a direita</EM>.
<P>
<H3>Como ler uma ER</H3>

<P>
<P>É bem simples, uma ER se lê exatamente como o robozinho (lembra quem ele é?) leria. Primeiro lê-se átomo por átomo, depois entende-se o todo e depois se analisa as possibilidades. Na nossa ER <B><CODE>fala[r!]?</CODE></B> em questão, sua leitura fica: um <CODE>f</CODE> seguido de um <CODE>a</CODE>, seguido de um <CODE>l</CODE>, seguido de um <CODE>a</CODE>, seguido de: ou <CODE>r</CODE>, ou <CODE>!</CODE>, ambos opcionais.
<P>Essa leitura é <B>essencial</B> para o entendimento da ER. Ela pode em um primeiro momento ser feita em voz alta, de maneira repetitiva, até esse processo se tornar natural. Depois ela pode ser feita mentalmente mesmo, e de maneira automática. É como você está fazendo agora repetindo mentalmente estas palavras escritas aqui enquanto as lê. Você não percebe, faz normalmente.
<P>Feita a leitura, agora temos de entender o todo, ou seja, temos um trecho literal <EM>fala</EM>, seguido de uma lista opcional de caracteres. Para descobrirmos as possibilidades, é o <EM>fala</EM> seguido de cada um dos itens da lista e por fim seguido por nenhum deles, pois a lista é opcional. Então fica:
<P>
<BLOCKQUOTE><CODE>
<PRE>
fala[r!]?       falar, fala!, fala
</PRE>
</CODE></BLOCKQUOTE>
<P>Pronto! Desvendamos os segredos da ER. É claro, esta é pequena e fácil, mas o que são ER grandes senão várias partes pequenas agrupadas? O principal é dominar essa leitura por átomos. O resto é ler devagar até chegar ao final. Não há segredo.
<P>Então voltemos ao nosso exemplo de marcações HTML, podemos facilmente incluir agora as marcações que fecham o trecho, em que a única diferença é que vem uma barra / antes da letra:
<P>
<BLOCKQUOTE><CODE>
<PRE>
&lt;/?[BIPbip]&gt;      &lt;/B&gt;, &lt;/I&gt;, &lt;/P&gt;, &lt;/b&gt;, &lt;/i&gt;, &lt;/p&gt;, &lt;B&gt;, &lt;I&gt;, &lt;P&gt;, &lt;b&gt;, &lt;i&gt;, &lt;p&gt;
</PRE>
</CODE></BLOCKQUOTE>
<P>Por alguns segundos, contemple a ER anterior. Estamos começando a dizer <B>muito</B> com <B>poucos</B> caracteres, sendo específicos. Vamos continuar que vai ficar cada vez mais interessante.
<P>
<H3>Resumão</H3>

<P>
<P>
<UL>
<LI>O opcional é opcional.</LI>
<LI>O opcional é útil para procurar palavras no singular e plural.</LI>
<LI>Podemos tornar opcionais caracteres e metacaracteres.</LI>
<LI>Leia a ER átomo por átomo, da esquerda para a direita.</LI>
<LI>Leia a ER, entenda o todo e analise as possibilidades.</LI>
</UL>
<HR>
<A HREF="guia-er-15.html">Página seguinte</A>
<A HREF="guia-er-13.html">Página anterior</A>
<A HREF="guia-er.html#toc2">Índice</A>
</BODY>
</HTML>
