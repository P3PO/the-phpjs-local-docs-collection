<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD><meta charset=utf-8>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>EXPRESSÕES REGULARES: Os Metacaracteres: Lista negada: a experiente [^...]</TITLE>
 <LINK HREF="guia-er-13.html" REL=next>
 <LINK HREF="guia-er-11.html" REL=previous>
 <LINK HREF="guia-er.html#toc2" REL=contents>
</HEAD>
<body bgcolor="white" text=black>
<A HREF="guia-er-13.html">Página seguinte</A>
<A HREF="guia-er-11.html">Página anterior</A>
<A HREF="guia-er.html#toc2">Índice</A>
<HR>
<H2>2.4 Lista negada: a experiente [^...]</H2>

<P>
<P>Nem tão exigente quanto a lista nem tão necessitada quanto o ponto, temos a lista negada, que pelas suas más experiências passadas, <EM>sabe o que não serve para ela casar</EM>.
<P>
<BLOCKQUOTE>
<EM>Ei ei ei, você falou que não ia mais falar sobre lista!!!</EM>
</BLOCKQUOTE>
<P>É rapidinho. A lista negada é exatamente igual à lista, podendo ter caracteres literais, intervalos e classes POSIX. Tudo o que se aplica a lista normal, se aplica à negada também.
<P>A única diferença é que ela possui lógica inversa, ou seja, ela casará com qualquer coisa, <B>fora</B> os componentes listados.
<P>Observe que a diferença em sua notação é que o primeiro caractere da lista é um circunflexo, ele indica que esta é uma lista negada. Então se <B><CODE>[0-9]</CODE></B> são números, <B><CODE>[^0-9]</CODE></B> é qualquer coisa fora números. Pode ser letras, símbolos, espaço em branco, qualquer coisa, menos números.
<P>Mas tem de ser alguma coisa. Só porque ela é uma lista negada isso não significa que ela pode casar "nada".
<P>Explicando em outras palavras, se você diz "qualquer coisa fora números", deve haver <EM>outra coisa</EM> no lugar dos números e não simplesmente "se não houver números". Então essa ER não casaria uma linha vazia por exemplo.
<P>/!\ ATENÇÃO /!\ "qualquer coisa fora alguns caracteres" não inclui "nenhum caractere".
<P>Como o traço e o colchete que fecha, o circunflexo é especial, então para colocarmos um <B><CODE>^</CODE></B> literal em uma lista, precisamos pô-lo em qualquer posição que não seja a primeira. Assim <B><CODE>[A-Z^]</CODE></B> casa maiúsculas e o circunflexo e <B><CODE>[^A-Z^]</CODE></B> casa tudo fora isso.
<P>Ah! As <B>classes POSIX</B> também podem ser negadas, então <B><CODE>[^[:digit:]]</CODE></B> casa "qualquer coisa fora números".
<P>A lista negada é muito útil quando você sabe exatamente o que não pode ter em uma posição, como um erro ortográfico ou de escrita. Por exemplo, como mandam as regras da boa escrita, sempre após caracteres de pontuação como a vírgula ou o ponto, devemos ter um espaço em branco os separando do resto do texto. Então vamos procurar por qualquer coisa que não o espaço após a pontuação:
<P>
<BLOCKQUOTE><CODE>
<PRE>
[:;,.!?][^ ]
</PRE>
</CODE></BLOCKQUOTE>
<P>Ou, ainda, explicitando melhor nosso objetivo:
<P>
<BLOCKQUOTE><CODE>
<PRE>
[[:punct:]][^ ]
</PRE>
</CODE></BLOCKQUOTE>
<P>
<H3>Resumão</H3>

<P>
<P>
<UL>
<LI>Uma lista negada segue todas as regras de uma lista normal.</LI>
<LI>Um <B><CODE>^</CODE></B> literal não deve ser o primeiro item da lista.</LI>
<LI>[:classes POSIX:] podem ser negadas.</LI>
<LI>A lista negada sempre deve casar algo.</LI>
</UL>
<HR>
<A HREF="guia-er-13.html">Página seguinte</A>
<A HREF="guia-er-11.html">Página anterior</A>
<A HREF="guia-er.html#toc2">Índice</A>
</BODY>
</HTML>
