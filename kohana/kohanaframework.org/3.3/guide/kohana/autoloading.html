<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Loading Classes | Kohana User Guide</title>

<script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok8v=02fcfa4f56/"},atok:"eee59e90a8282bcfc7cd8af99a42a3da",petok:"3e04d98dc83bedfcb4111790173b9ca932a740fd-1394799552-1800",zone:"kohanaframework.org",rocket:"0",apps:{"ga_key":{"ua":"UA-27864271-1","ga_bs":"2"}}}];var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=!0;a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok8v=b064e16429/cloudflare.min.js";b.parentNode.insertBefore(a,b);}}catch(e){};
//]]>
</script>
<link type="text/css" href="../../guide-media/css/print.css" rel="stylesheet" media="print" />
<link type="text/css" href="../../guide-media/css/screen.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../../guide-media/css/kodoc.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../../guide-media/css/shCore.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../../guide-media/css/shThemeKodoc.css" rel="stylesheet" media="screen" />

<script type="text/javascript" src="../../guide-media/js/jquery.min.js"></script>
<script type="text/javascript" src="../../guide-media/js/jquery.cookie.js"></script>
<script type="text/javascript" src="../../guide-media/js/kodoc.js"></script>
<script type="text/javascript" src="../../guide-media/js/shCore.js"></script>
<script type="text/javascript" src="../../guide-media/js/shBrushPhp.js"></script>

<!--[if lt IE 9]>
<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
<![endif]-->
<script type="text/javascript">
/* <![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-27864271-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&&"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&&"Event"in FB&&"subscribe"in FB.Event&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&&"events"in twttr&&"bind"in twttr.events&&twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&&a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&]+=([^&]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]> */
</script>
</head>
<body>

	<div id="kodoc-header">
		<div class="container">
			<a href="http://kohanaframework.org/" id="kodoc-logo">
				<img src="../../guide-media/img/kohana.png" />
			</a>
			<div id="kodoc-menu">
				<ul>
					<li class="guide first">
						<a href="../../guide.1.html">User Guide</a>
					</li>
										<li class="api">
						<a href="../../guide-api.html">API Browser</a>
					</li>
									</ul>
			</div>
		</div>
	</div>

	<div id="kodoc-content">
		<div class="wrapper">
			<div class="container">
				<div class="span-22 prefix-1 suffix-1">
					<ul id="kodoc-breadcrumb">
																				<li><a href="../../guide.1.html">User Guide</a></li>
																											<li><a href="../kohana.1.html">Kohana</a></li>
																											<li class="last">Loading Classes</li>
																		</ul>
				</div>
				<div class="span-6 prefix-1">
					<div id="kodoc-topics">
						<h2 id="kohana"><a href="index.html">Kohana</a></h2>

<ul>
<li><a href="install.html">Installation</a></li>
<li><span>Getting Started</span>

<ul>
<li><a href="conventions.html">Conventions and Style</a></li>
<li><a href="mvc.1.html">Model View Controller</a>

<ul>
<li><a href="mvc/controllers.html">Controllers</a></li>
<li><a href="mvc/models.html">Models</a></li>
<li><a href="mvc/views.html">Views</a></li>
</ul></li>
<li><a href="files.1.html">Cascading Filesystem</a>

<ul>
<li><a href="files/classes.html">Class Files</a></li>
<li><a href="files/config.html">Config Files</a></li>
<li><a href="files/i18n.html">Translation Files</a></li>
<li><a href="files/messages.html">Message Files</a></li>
</ul></li>
<li><a href="config.html">Configuration</a></li>
<li><a href="flow.html">Request Flow</a></li>
<li><a href="bootstrap.html">Bootstrap</a></li>
<li><a href="modules.html">Modules</a></li>
<li><a href="routing.html">Routing</a></li>
<li><a href="errors.html">Error Handling</a></li>
<li><a href="tips.html">Tips &amp; Common Mistakes</a></li>
<li><a href="upgrading.html">Upgrading from v3.2</a></li>
</ul></li>
<li><span>Basic Usage</span>

<ul>
<li><a href="debugging.html">Debugging</a></li>
<li><a href="autoloading.html">Loading Classes</a></li>
<li><a href="extension.html">Transparent Extension</a></li>
<li><a href="helpers.html">Helpers</a></li>
<li><a href="requests.html">Requests</a></li>
<li><a href="sessions.html">Sessions</a></li>
<li><a href="cookies.html">Cookies</a></li>
<li><a href="fragments.html">Fragments</a></li>
<li><a href="profiling.html">Profiling</a></li>
</ul></li>
<li><a href="security.1.html">Security</a>

<ul>
<li><a href="security/xss.html">XSS</a></li>
<li><a href="security/validation.html">Validation</a></li>
<li><a href="security/cookies.html">Cookies</a></li>
<li><a href="security/database.html">Database</a></li>
<li><a href="security/encryption.html">Encryption</a></li>
<li><a href="security/deploying.html">Deploying</a></li>
</ul></li>
<li><span>Tutorials</span>

<ul>
<li><a href="tutorials/hello-world.html">Hello World</a></li>
<li><a href="tutorials/simple-mvc.html">Simple MVC</a></li>
<li><a href="tutorials/error-pages.html">Custom Error Pages</a></li>
<li><a href="tutorials/clean-urls.html">Clean URLs</a></li>
<li><a href="tutorials/sharing-kohana.html">Sharing Kohana</a></li>
<li><a href="tutorials/library-kohana.html">Kohana as a Library</a></li>
<li><a href="tutorials/git.html">Working with Git</a></li>
</ul></li>
</ul>
					</div>
				</div>
				<div id="kodoc-body" class="span-16 suffix-1 last">
					<h1 id="loading-classes">Loading Classes</h1>

<div class="page-toc">
					<a href="autoloading.html#loading-classes">Loading Classes</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;				<a href="autoloading.html#custom-autoloaders">Custom Autoloaders</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				<a href="autoloading.html#example-zend">Example: Zend</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				<a href="autoloading.html#download-and-install-the-zend-framework-files">Download and install the Zend Framework files</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				<a href="autoloading.html#include-zends-autoloader-in-your-bootstrap">Include Zend's Autoloader in your bootstrap</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				<a href="autoloading.html#usage-example">Usage example</a><br />
	</div>
<p>Kohana supports the <a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md">PSR-0</a> autoloading specification as of version 3.3. This allows you to take advantage of PHP <a href="http://php.net/manual/language.oop5.autoload.php">autoloading</a>, removing the need to call <a href="http://php.net/include">include</a> or <a href="http://php.net/require">require</a> before using a class. When you use a class Kohana will find and include the class file for you. For instance, when you want to use the <a href="../../guide-api/Cookie.html#set">Cookie::set</a> method, you simply call:</p>

<pre><code>Cookie::set('mycookie', 'any string value');
</code></pre>

<p>Or to load an <a href="../../guide-api/Encrypt.html">Encrypt</a> instance, just call <a href="../../guide-api/Encrypt.html#instance">Encrypt::instance</a>:</p>

<pre><code>$encrypt = Encrypt::instance();
</code></pre>

<p>Classes are loaded via the <a href="http://kohanaframework.org/3.3/guide-api/Kohana#auto_load">Kohana::auto_load</a> method, which makes a simple conversion from class name to file name:</p>

<ol>
<li>Classes are placed in the <code>classes/</code> directory of the <a href="files.1.html">filesystem</a></li>
<li>Any underscore characters in the class name are converted to slashes</li>
<li>The filename must match the case of the class</li>
</ol>

<p>When calling a class that has not been loaded (eg: <code>Session_Cookie</code>), Kohana will search the filesystem using <a href="http://kohanaframework.org/3.3/guide-api/Kohana#find_file">Kohana::find_file</a> for a file named <code>classes/Session/Cookie.php</code>.</p>

<p>If your classes do not follow this convention, they cannot be autoloaded by Kohana.  You will have to manually included your files, or add your own <a href="http://us3.php.net/manual/en/function.spl-autoload-register.php">autoload function.</a></p>

<h2 id="custom-autoloaders">Custom Autoloaders</h2>

<p>Kohana's default autoloader is enabled in <code>application/bootstrap.php</code> using <a href="http://php.net/spl_autoload_register">spl_autoload_register</a>:</p>

<pre><code>spl_autoload_register(array('Kohana', 'auto_load'));
</code></pre>

<p>This allows <a href="http://kohanaframework.org/3.3/guide-api/Kohana#auto_load">Kohana::auto_load</a> to attempt to find and include any class that does not yet exist when the class is first used as long as it follows the PSR-0 specification. If you wish to support the previous Kohana filename convention (using lowercase filesnames), an additional autoloader is provided by Kohana:</p>

<pre><code>spl_autoload_register(array('Kohana', 'auto_load_lowercase'));
</code></pre>

<h3 id="example-zend">Example: Zend</h3>

<p>You can easily gain access to other libraries if they include an autoloader.  For example, here is how to enable Zend's autoloader so you can use Zend libraries in your Kohana application.</p>

<h4 id="download-and-install-the-zend-framework-files">Download and install the Zend Framework files</h4>

<ul>
<li><a href="http://framework.zend.com/download/latest">Download the latest Zend Framework files</a>.</li>
<li>Create a <code>vendor</code> directory at <code>application/vendor</code>. This keeps third party software separate from your application classes.</li>
<li>Move the decompressed Zend folder containing Zend Framework to <code>application/vendor/Zend</code>.</li>
</ul>

<h4 id="include-zends-autoloader-in-your-bootstrap">Include Zend's Autoloader in your bootstrap</h4>

<p>Somewhere in <code>application/bootstrap.php</code>, copy the following code:</p>

<pre><code>/**
 * Enable Zend Framework autoloading
 */
if ($path = Kohana::find_file('vendor', 'Zend/Loader'))
{
    ini_set('include_path',
    ini_get('include_path').PATH_SEPARATOR.dirname(dirname($path)));

    require_once 'Zend/Loader/Autoloader.php';
    Zend_Loader_Autoloader::getInstance();
}
</code></pre>

<h4 id="usage-example">Usage example</h4>

<p>You can now autoload any Zend Framework classes from inside your Kohana application.</p>

<pre><code>if ($validate($this-&gt;request-&gt;post()))
{
    $mailer = new Zend_Mail;

    $mailer-&gt;setBodyHtml($view)
        -&gt;setFrom(Kohana::$config-&gt;load('site')-&gt;email_from)
        -&gt;addTo($email)
        -&gt;setSubject($message)
        -&gt;send();
}
</code></pre>

									</div>
			</div>
		</div>
	</div>

	<div id="kodoc-footer">
		<div class="container">
			<div class="span-12">
							<p>&copy; 2008–2012 Kohana Team</p>
						</div>
			<div class="span-12 last right">
			<p>Powered by <a href="http://kohanaframework.org/">Kohana</a> v3.3.1</p>
			</div>
		</div>
	</div>

</body>
</html>
