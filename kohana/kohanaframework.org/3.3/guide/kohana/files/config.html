<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Config Files | Kohana User Guide</title>

<script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok8v=02fcfa4f56/"},atok:"eee59e90a8282bcfc7cd8af99a42a3da",petok:"59e5db4edc715c0fc1959b8265c4d713d39c348e-1394799548-1800",zone:"kohanaframework.org",rocket:"0",apps:{"ga_key":{"ua":"UA-27864271-1","ga_bs":"2"}}}];var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=!0;a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok8v=b064e16429/cloudflare.min.js";b.parentNode.insertBefore(a,b);}}catch(e){};
//]]>
</script>
<link type="text/css" href="../../../guide-media/css/print.css" rel="stylesheet" media="print" />
<link type="text/css" href="../../../guide-media/css/screen.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../../../guide-media/css/kodoc.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../../../guide-media/css/shCore.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../../../guide-media/css/shThemeKodoc.css" rel="stylesheet" media="screen" />

<script type="text/javascript" src="../../../guide-media/js/jquery.min.js"></script>
<script type="text/javascript" src="../../../guide-media/js/jquery.cookie.js"></script>
<script type="text/javascript" src="../../../guide-media/js/kodoc.js"></script>
<script type="text/javascript" src="../../../guide-media/js/shCore.js"></script>
<script type="text/javascript" src="../../../guide-media/js/shBrushPhp.js"></script>

<!--[if lt IE 9]>
<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
<![endif]-->
<script type="text/javascript">
/* <![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-27864271-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&&"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&&"Event"in FB&&"subscribe"in FB.Event&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&&"events"in twttr&&"bind"in twttr.events&&twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&&a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&]+=([^&]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]> */
</script>
</head>
<body>

	<div id="kodoc-header">
		<div class="container">
			<a href="http://kohanaframework.org/" id="kodoc-logo">
				<img src="../../../guide-media/img/kohana.png" />
			</a>
			<div id="kodoc-menu">
				<ul>
					<li class="guide first">
						<a href="../../../guide.1.html">User Guide</a>
					</li>
										<li class="api">
						<a href="../../../guide-api.html">API Browser</a>
					</li>
									</ul>
			</div>
		</div>
	</div>

	<div id="kodoc-content">
		<div class="wrapper">
			<div class="container">
				<div class="span-22 prefix-1 suffix-1">
					<ul id="kodoc-breadcrumb">
																				<li><a href="../../../guide.1.html">User Guide</a></li>
																											<li><a href="../../kohana.1.html">Kohana</a></li>
																											<li class="last">Config Files</li>
																		</ul>
				</div>
				<div class="span-6 prefix-1">
					<div id="kodoc-topics">
						<h2 id="kohana"><a href="../index.html">Kohana</a></h2>

<ul>
<li><a href="../install.html">Installation</a></li>
<li><span>Getting Started</span>

<ul>
<li><a href="../conventions.html">Conventions and Style</a></li>
<li><a href="../mvc.1.html">Model View Controller</a>

<ul>
<li><a href="../mvc/controllers.html">Controllers</a></li>
<li><a href="../mvc/models.html">Models</a></li>
<li><a href="../mvc/views.html">Views</a></li>
</ul></li>
<li><a href="../files.1.html">Cascading Filesystem</a>

<ul>
<li><a href="classes.html">Class Files</a></li>
<li><a href="config.html">Config Files</a></li>
<li><a href="i18n.html">Translation Files</a></li>
<li><a href="messages.html">Message Files</a></li>
</ul></li>
<li><a href="../config.html">Configuration</a></li>
<li><a href="../flow.html">Request Flow</a></li>
<li><a href="../bootstrap.html">Bootstrap</a></li>
<li><a href="../modules.html">Modules</a></li>
<li><a href="../routing.html">Routing</a></li>
<li><a href="../errors.html">Error Handling</a></li>
<li><a href="../tips.html">Tips &amp; Common Mistakes</a></li>
<li><a href="../upgrading.html">Upgrading from v3.2</a></li>
</ul></li>
<li><span>Basic Usage</span>

<ul>
<li><a href="../debugging.html">Debugging</a></li>
<li><a href="../autoloading.html">Loading Classes</a></li>
<li><a href="../extension.html">Transparent Extension</a></li>
<li><a href="../helpers.html">Helpers</a></li>
<li><a href="../requests.html">Requests</a></li>
<li><a href="../sessions.html">Sessions</a></li>
<li><a href="../cookies.html">Cookies</a></li>
<li><a href="../fragments.html">Fragments</a></li>
<li><a href="../profiling.html">Profiling</a></li>
</ul></li>
<li><a href="../security.1.html">Security</a>

<ul>
<li><a href="../security/xss.html">XSS</a></li>
<li><a href="../security/validation.html">Validation</a></li>
<li><a href="../security/cookies.html">Cookies</a></li>
<li><a href="../security/database.html">Database</a></li>
<li><a href="../security/encryption.html">Encryption</a></li>
<li><a href="../security/deploying.html">Deploying</a></li>
</ul></li>
<li><span>Tutorials</span>

<ul>
<li><a href="../tutorials/hello-world.html">Hello World</a></li>
<li><a href="../tutorials/simple-mvc.html">Simple MVC</a></li>
<li><a href="../tutorials/error-pages.html">Custom Error Pages</a></li>
<li><a href="../tutorials/clean-urls.html">Clean URLs</a></li>
<li><a href="../tutorials/sharing-kohana.html">Sharing Kohana</a></li>
<li><a href="../tutorials/library-kohana.html">Kohana as a Library</a></li>
<li><a href="../tutorials/git.html">Working with Git</a></li>
</ul></li>
</ul>
					</div>
				</div>
				<div id="kodoc-body" class="span-16 suffix-1 last">
					<h1 id="config-files">Config Files</h1>

<div class="page-toc">
					<a href="config.html#config-files">Config Files</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;				<a href="config.html#merge">Merge</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;				<a href="config.html#creating-your-own-config-files">Creating your own config files</a><br />
	</div>
<p>Configuration files are used to store any kind of configuration needed for a module, class, or anything else you want.  They are plain PHP files, stored in the <code>config/</code> directory, which return an associative array:</p>

<pre><code>&lt;?php defined('SYSPATH') OR die('No direct script access.');

return array(
    'setting' =&gt; 'value',
    'options' =&gt; array(
        'foo' =&gt; 'bar',
    ),
);
</code></pre>

<p>If the above configuration file was called <code>myconf.php</code>, you could access it using:</p>

<pre><code>$config = Kohana::$config-&gt;load('myconf');
$options = $config-&gt;get('options')
</code></pre>

<h2 id="merge">Merge</h2>

<p>Configuration files are slightly different from most other files within the <a href="../files.1.html">cascading filesystem</a> in that they are <strong>merged</strong> rather than overloaded. This means that all configuration files with the same file path are combined to produce the final configuration. The end result is that you can overload <em>individual</em> settings rather than duplicating an entire file.</p>

<p>For example, if we wanted to change or add to an entry in the inflector configuration file, we would not need to duplicate all the other entries from the default configuration file.</p>

<pre><code>// config/inflector.php

&lt;?php defined('SYSPATH') OR die('No direct script access.');

return array(
    'irregular' =&gt; array(
        'die' =&gt; 'dice', // does not exist in default config file
        'mouse' =&gt; 'mouses', // overrides 'mouse' =&gt; 'mice' in the default config file
);
</code></pre>

<h2 id="creating-your-own-config-files">Creating your own config files</h2>

<p>Let's say we want a config file to store and easily change things like the title of a website, or the google analytics code.  We would create a config file, let's call it <code>site.php</code>:</p>

<pre><code>// config/site.php

&lt;?php defined('SYSPATH') OR die('No direct script access.');

return array(
    'title' =&gt; 'Our Shiny Website',
    'analytics' =&gt; FALSE, // analytics code goes here, set to FALSE to disable
);
</code></pre>

<p>We could now call <code>Kohana::$config-&gt;load('site.title')</code> to get the site name, and <code>Kohana::$config-&gt;load('site.analytics')</code> to get the analytics code.</p>

<p>Let's say we want an archive of versions of some software.  We could use config files to store each version, and include links to download, documentation, and issue tracking.</p>

<pre><code>// config/versions.php

&lt;?php defined('SYSPATH') OR die('No direct script access.');

return array(
    '1.0.0' =&gt; array(
        'codename' =&gt; 'Frog',
        'download' =&gt; 'files/ourapp-1.0.0.tar.gz',
        'documentation' =&gt; 'docs/1.0.0',
        'released' =&gt; '06/05/2009',
        'issues' =&gt; 'link/to/bug/tracker',
    ),
    '1.1.0' =&gt; array(
        'codename' =&gt; 'Lizard',
        'download' =&gt; 'files/ourapp-1.1.0.tar.gz',
        'documentation' =&gt; 'docs/1.1.0',
        'released' =&gt; '10/15/2009',
        'issues' =&gt; 'link/to/bug/tracker',
    ),
    /// ... etc ...
);
</code></pre>

<p>You could then do the following:</p>

<pre><code>// In your controller
$view-&gt;versions = Kohana::$config-&gt;load('versions');

// In your view:
foreach ($versions as $version)
{
    // echo some html to display each version
}
</code></pre>

									</div>
			</div>
		</div>
	</div>

	<div id="kodoc-footer">
		<div class="container">
			<div class="span-12">
							<p>&copy; 2008–2012 Kohana Team</p>
						</div>
			<div class="span-12 last right">
			<p>Powered by <a href="http://kohanaframework.org/">Kohana</a> v3.3.1</p>
			</div>
		</div>
	</div>

</body>
</html>
