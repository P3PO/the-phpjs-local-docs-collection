<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Cache | Kohana User Guide</title>

<script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok8v=02fcfa4f56/"},atok:"eee59e90a8282bcfc7cd8af99a42a3da",petok:"6b736853d69f1da621f1b24955404fbb62c5b0c7-1394799180-1800",zone:"kohanaframework.org",rocket:"0",apps:{"ga_key":{"ua":"UA-27864271-1","ga_bs":"2"}}}];var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=!0;a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok8v=b064e16429/cloudflare.min.js";b.parentNode.insertBefore(a,b);}}catch(e){};
//]]>
</script>
<link type="text/css" href="../guide-media/css/print.css" rel="stylesheet" media="print" />
<link type="text/css" href="../guide-media/css/screen.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../guide-media/css/kodoc.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../guide-media/css/shCore.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../guide-media/css/shThemeKodoc.css" rel="stylesheet" media="screen" />

<script type="text/javascript" src="../guide-media/js/jquery.min.js"></script>
<script type="text/javascript" src="../guide-media/js/jquery.cookie.js"></script>
<script type="text/javascript" src="../guide-media/js/kodoc.js"></script>
<script type="text/javascript" src="../guide-media/js/shCore.js"></script>
<script type="text/javascript" src="../guide-media/js/shBrushPhp.js"></script>

<!--[if lt IE 9]>
<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
<![endif]-->
<script type="text/javascript">
/* <![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-27864271-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&&"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&&"Event"in FB&&"subscribe"in FB.Event&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&&"events"in twttr&&"bind"in twttr.events&&twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&&a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&]+=([^&]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]> */
</script>
</head>
<body>

	<div id="kodoc-header">
		<div class="container">
			<a href="http://kohanaframework.org/" id="kodoc-logo">
				<img src="../guide-media/img/kohana.png" />
			</a>
			<div id="kodoc-menu">
				<ul>
					<li class="guide first">
						<a href="http://kohanaframework.org/3.3/guide">User Guide</a>
					</li>
										<li class="api">
						<a href="http://kohanaframework.org/3.3/guide-api">API Browser</a>
					</li>
									</ul>
			</div>
		</div>
	</div>

	<div id="kodoc-content">
		<div class="wrapper">
			<div class="container">
				<div class="span-22 prefix-1 suffix-1">
					<ul id="kodoc-breadcrumb">
																				<li><a href="http://kohanaframework.org/3.3/guide">User Guide</a></li>
																											<li><a href="cache.html">Cache</a></li>
																		</ul>
				</div>
				<div class="span-6 prefix-1">
					<div id="kodoc-topics">
						<h2 id="cache"><a href="cache/index.html">Cache</a></h2>

<ul>
<li><a href="cache/config.html">Configuration</a></li>
<li><a href="cache/usage.html">Usage</a></li>
</ul>
					</div>
				</div>
				<div id="kodoc-body" class="span-16 suffix-1 last">
					<h1 id="about-kohana-cache">About Kohana Cache</h1>

<div class="page-toc">
					<a href="cache.html#about-kohana-cache">About Kohana Cache</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;				<a href="cache.html#supported-cache-engines">Supported cache engines</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;				<a href="cache.html#introduction-to-caching">Introduction to caching</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;				<a href="cache.html#what-the-kohana-cache-module-does-and-does-not-do">What the Kohana Cache module does (and does not do)</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;				<a href="cache.html#choosing-a-cache-provider">Choosing a cache provider</a><br />
					&nbsp;&nbsp;&nbsp;&nbsp;				<a href="cache.html#minimum-requirements">Minimum requirements</a><br />
	</div>
<p><a href="http://kohanaframework.org/3.3/guide-api/Kohana_Cache">Kohana_Cache</a> provides a common interface to a variety of caching engines. <a href="http://kohanaframework.org/3.3/guide-api/Cache_Tagging">Cache_Tagging</a> is
supported where available natively to the cache system. Kohana Cache supports multiple 
instances of cache engines through a grouped singleton pattern.</p>

<h2 id="supported-cache-engines">Supported cache engines</h2>

<ul>
<li>APC (<a href="http://kohanaframework.org/3.3/guide-api/Cache_Apc">Cache_Apc</a>)</li>
<li>File (<a href="http://kohanaframework.org/3.3/guide-api/Cache_File">Cache_File</a>)</li>
<li>Memcached (<a href="http://kohanaframework.org/3.3/guide-api/Cache_Memcache">Cache_Memcache</a>)</li>
<li>Memcached-tags (<a href="http://kohanaframework.org/3.3/guide-api/Cache_Memcachetag">Cache_Memcachetag</a>)</li>
<li>SQLite (<a href="http://kohanaframework.org/3.3/guide-api/Cache_Sqlite">Cache_Sqlite</a>)</li>
<li>Wincache</li>
</ul>

<h2 id="introduction-to-caching">Introduction to caching</h2>

<p>Caching should be implemented with consideration. Generally, caching the result of resources
is faster than reprocessing them. Choosing what, how and when to cache is vital. <a href="http://php.net/manual/en/book.apc.php">PHP APC</a> is one of the fastest caching systems available, closely followed by <a href="http://memcached.org/">Memcached</a>. <a href="http://www.sqlite.org/">SQLite</a> and File caching are two of the slowest cache methods, however usually faster than reprocessing
a complex set of instructions.</p>

<p>Caching engines that use memory are considerably faster than file based alternatives. But
memory is limited whereas disk space is plentiful. If caching large datasets, such as large database result sets, it is best to use file caching.</p>

<p>[!!] Cache drivers require the relevant PHP extensions to be installed. APC, eAccelerator, Memecached and Xcache all require non-standard PHP extensions.</p>

<h2 id="what-the-kohana-cache-module-does-and-does-not-do">What the Kohana Cache module does (and does not do)</h2>

<p>This module provides a simple abstracted interface to a wide selection of popular PHP cache engines. The caching API provides the basic caching methods implemented across all solutions, memory, network or disk based. Basic key / value storing is supported by all drivers, with additional tagging and garbage collection support where implemented or required.</p>

<p><em>Kohana Cache</em> does not provide HTTP style caching for clients (web browsers) and/or proxies (<em>Varnish</em>, <em>Squid</em>). There are other Kohana modules that provide this functionality.</p>

<h2 id="choosing-a-cache-provider">Choosing a cache provider</h2>

<p>Getting and setting values to cache is very simple when using the <em>Kohana Cache</em> interface. The hardest choice is choosing which cache engine to use. When choosing a caching engine, the following criteria must be considered:</p>

<ol>
<li><strong>Does the cache need to be distributed?</strong>
This is an important consideration as it will severely limit the options available to solutions such as Memcache when a distributed solution is required.</li>
<li><strong>Does the cache need to be fast?</strong>
In almost all cases retrieving data from a cache is faster than execution. However generally memory based caching is considerably faster than disk based caching (see table below).</li>
<li><strong>How much cache is required?</strong>
Cache is not endless, and memory based caches are subject to a considerably more limited storage resource.</li>
</ol>

<table>
<thead>
<tr>
  <th>Driver</th>
  <th>Storage</th>
  <th>Speed</th>
  <th>Tags</th>
  <th>Distributed</th>
  <th>Automatic Garbage Collection</th>
  <th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
  <td>APC</td>
  <td><strong>Memory</strong></td>
  <td>Excellent</td>
  <td>No</td>
  <td>No</td>
  <td>Yes</td>
  <td>Widely available PHP opcode caching solution, improves php execution performance</td>
</tr>
<tr>
  <td>Wincache</td>
  <td><strong>Memory</strong></td>
  <td>Excellent</td>
  <td>No</td>
  <td>No</td>
  <td>Yes</td>
  <td>Windows variant of APC</td>
</tr>
<tr>
  <td>File</td>
  <td><strong>Disk</strong></td>
  <td>Poor</td>
  <td>No</td>
  <td>No</td>
  <td>No</td>
  <td>Marginally faster than execution</td>
</tr>
<tr>
  <td>Memcache (tag)</td>
  <td><strong>Memory</strong></td>
  <td>Good</td>
  <td>No (yes)</td>
  <td>Yes</td>
  <td>Yes</td>
  <td>Generally fast distributed solution, but has a speed hit due to variable network latency and serialization</td>
</tr>
<tr>
  <td>Sqlite</td>
  <td><strong>Disk</strong></td>
  <td>Poor</td>
  <td>Yes</td>
  <td>No</td>
  <td>No</td>
  <td>Marginally faster than execution</td>
</tr>
</tbody>
</table>

<p>It is possible to have hybrid cache solutions that use a combination of the engines above in different contexts. This is supported with <em>Kohana Cache</em> as well</p>

<h2 id="minimum-requirements">Minimum requirements</h2>

<ul>
<li>Kohana 3.0.4</li>
<li>PHP 5.2.4 or greater</li>
</ul>

									</div>
			</div>
		</div>
	</div>

	<div id="kodoc-footer">
		<div class="container">
			<div class="span-12">
							<p>&copy; 2008–2012 Kohana Team</p>
						</div>
			<div class="span-12 last right">
			<p>Powered by <a href="http://kohanaframework.org/">Kohana</a> v3.3.1</p>
			</div>
		</div>
	</div>

</body>
</html>
