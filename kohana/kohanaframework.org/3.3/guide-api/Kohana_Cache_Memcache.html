<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Kohana_Cache_Memcache | Kohana User Guide</title>

<script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok8v=02fcfa4f56/"},atok:"eee59e90a8282bcfc7cd8af99a42a3da",petok:"2663144d5f1e2dbf20c2d676874125cb6ea9a15d-1394799502-1800",zone:"kohanaframework.org",rocket:"0",apps:{"ga_key":{"ua":"UA-27864271-1","ga_bs":"2"}}}];var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=!0;a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok8v=b064e16429/cloudflare.min.js";b.parentNode.insertBefore(a,b);}}catch(e){};
//]]>
</script>
<link type="text/css" href="../guide-media/css/print.css" rel="stylesheet" media="print" />
<link type="text/css" href="../guide-media/css/screen.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../guide-media/css/kodoc.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../guide-media/css/shCore.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../guide-media/css/shThemeKodoc.css" rel="stylesheet" media="screen" />

<script type="text/javascript" src="../guide-media/js/jquery.min.js"></script>
<script type="text/javascript" src="../guide-media/js/jquery.cookie.js"></script>
<script type="text/javascript" src="../guide-media/js/kodoc.js"></script>
<script type="text/javascript" src="../guide-media/js/shCore.js"></script>
<script type="text/javascript" src="../guide-media/js/shBrushPhp.js"></script>

<!--[if lt IE 9]>
<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
<![endif]-->
<script type="text/javascript">
/* <![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-27864271-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&&"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&&"Event"in FB&&"subscribe"in FB.Event&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&&"events"in twttr&&"bind"in twttr.events&&twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&&a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&]+=([^&]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]> */
</script>
</head>
<body>

	<div id="kodoc-header">
		<div class="container">
			<a href="http://kohanaframework.org/" id="kodoc-logo">
				<img src="../guide-media/img/kohana.png" />
			</a>
			<div id="kodoc-menu">
				<ul>
					<li class="guide first">
						<a href="../guide.1.html">User Guide</a>
					</li>
										<li class="api">
						<a href="../guide-api.html">API Browser</a>
					</li>
									</ul>
			</div>
		</div>
	</div>

	<div id="kodoc-content">
		<div class="wrapper">
			<div class="container">
				<div class="span-22 prefix-1 suffix-1">
					<ul id="kodoc-breadcrumb">
																				<li><a href="../guide.1.html">User Guide</a></li>
																											<li><a href="../guide-api.html">API Browser</a></li>
																											<li class="last">Kohana_Cache_Memcache</li>
																		</ul>
				</div>
				<div class="span-6 prefix-1">
					<div id="kodoc-topics">
						
<h2>Modules</h2>
<ol class="menu">
<li><span><strong>Kohana</strong></span>
	<ol>
			<li>							<li><a href="Debug.html">Debug</a></li>
							<li><a href="HTTP_Cache.html">HTTP_Cache</a></li>
							<li><a href="I18n.html">I18n</a></li>
							<li><a href="http://kohanaframework.org/3.3/guide-api/Kohana">Kohana</a></li>
							<li><a href="Kohana_Config_Writer.html">Kohana_Config_Writer</a></li>
							<li><a href="Request.html">Request</a></li>
							<li><a href="Request_Client.html">Request_Client</a></li>
							<li><a href="Request_Client_Curl.html">Request_Client_Curl</a></li>
							<li><a href="Request_Client_External.html">Request_Client_External</a></li>
							<li><a href="Request_Client_HTTP.html">Request_Client_HTTP</a></li>
							<li><a href="Request_Client_Internal.html">Request_Client_Internal</a></li>
							<li><a href="Request_Client_Stream.html">Request_Client_Stream</a></li>
							<li><a href="Response.html">Response</a></li>
							<li><a href="Route.html">Route</a></li>
							<li><a href="UTF8.html">UTF8</a></li>
							<li><a href="View.html">View</a></li>
								</li>
			<li><span>Configuration</span>
			<ol>							<li><a href="Config.html">Config</a></li>
							<li><a href="Config_File.html">Config_File</a></li>
							<li><a href="Config_Group.html">Config_Group</a></li>
							<li><a href="Kohana_Config_File_Reader.html">Kohana_Config_File_Reader</a></li>
							<li><a href="Kohana_Config_Reader.html">Kohana_Config_Reader</a></li>
							<li><a href="Kohana_Config_Source.html">Kohana_Config_Source</a></li>
						</ol>		</li>
			<li><span>Controller</span>
			<ol>							<li><a href="Controller.html">Controller</a></li>
							<li><a href="Controller_Template.html">Controller_Template</a></li>
							<li><a href="Controller_Welcome.html">Controller_Welcome</a></li>
						</ol>		</li>
			<li><span>Exceptions</span>
			<ol>							<li><a href="HTTP_Exception.html">HTTP_Exception</a></li>
							<li><a href="HTTP_Exception_300.html">HTTP_Exception_300</a></li>
							<li><a href="HTTP_Exception_301.html">HTTP_Exception_301</a></li>
							<li><a href="HTTP_Exception_302.html">HTTP_Exception_302</a></li>
							<li><a href="HTTP_Exception_303.html">HTTP_Exception_303</a></li>
							<li><a href="HTTP_Exception_304.html">HTTP_Exception_304</a></li>
							<li><a href="HTTP_Exception_305.html">HTTP_Exception_305</a></li>
							<li><a href="HTTP_Exception_307.html">HTTP_Exception_307</a></li>
							<li><a href="HTTP_Exception_400.html">HTTP_Exception_400</a></li>
							<li><a href="HTTP_Exception_401.html">HTTP_Exception_401</a></li>
							<li><a href="HTTP_Exception_402.html">HTTP_Exception_402</a></li>
							<li><a href="HTTP_Exception_403.html">HTTP_Exception_403</a></li>
							<li><a href="HTTP_Exception_404.html">HTTP_Exception_404</a></li>
							<li><a href="HTTP_Exception_405.html">HTTP_Exception_405</a></li>
							<li><a href="HTTP_Exception_406.html">HTTP_Exception_406</a></li>
							<li><a href="HTTP_Exception_407.html">HTTP_Exception_407</a></li>
							<li><a href="HTTP_Exception_408.html">HTTP_Exception_408</a></li>
							<li><a href="HTTP_Exception_409.html">HTTP_Exception_409</a></li>
							<li><a href="HTTP_Exception_410.html">HTTP_Exception_410</a></li>
							<li><a href="HTTP_Exception_411.html">HTTP_Exception_411</a></li>
							<li><a href="HTTP_Exception_412.html">HTTP_Exception_412</a></li>
							<li><a href="HTTP_Exception_413.html">HTTP_Exception_413</a></li>
							<li><a href="HTTP_Exception_414.html">HTTP_Exception_414</a></li>
							<li><a href="HTTP_Exception_415.html">HTTP_Exception_415</a></li>
							<li><a href="HTTP_Exception_416.html">HTTP_Exception_416</a></li>
							<li><a href="HTTP_Exception_417.html">HTTP_Exception_417</a></li>
							<li><a href="HTTP_Exception_500.html">HTTP_Exception_500</a></li>
							<li><a href="HTTP_Exception_501.html">HTTP_Exception_501</a></li>
							<li><a href="HTTP_Exception_502.html">HTTP_Exception_502</a></li>
							<li><a href="HTTP_Exception_503.html">HTTP_Exception_503</a></li>
							<li><a href="HTTP_Exception_504.html">HTTP_Exception_504</a></li>
							<li><a href="HTTP_Exception_505.html">HTTP_Exception_505</a></li>
							<li><a href="HTTP_Exception_Expected.html">HTTP_Exception_Expected</a></li>
							<li><a href="HTTP_Exception_Redirect.html">HTTP_Exception_Redirect</a></li>
							<li><a href="Kohana_Exception.html">Kohana_Exception</a></li>
							<li><a href="Request_Client_Recursion_Exception.html">Request_Client_Recursion_Exception</a></li>
							<li><a href="Request_Exception.html">Request_Exception</a></li>
							<li><a href="Session_Exception.html">Session_Exception</a></li>
							<li><a href="UTF8_Exception.html">UTF8_Exception</a></li>
							<li><a href="Validation_Exception.html">Validation_Exception</a></li>
							<li><a href="View_Exception.html">View_Exception</a></li>
						</ol>		</li>
			<li><span>HTTP</span>
			<ol>							<li><a href="HTTP.html">HTTP</a></li>
							<li><a href="HTTP_Header.html">HTTP_Header</a></li>
							<li><a href="HTTP_Message.html">HTTP_Message</a></li>
							<li><a href="HTTP_Request.html">HTTP_Request</a></li>
							<li><a href="HTTP_Response.html">HTTP_Response</a></li>
						</ol>		</li>
			<li><span>Helpers</span>
			<ol>							<li><a href="Arr.html">Arr</a></li>
							<li><a href="Cookie.html">Cookie</a></li>
							<li><a href="Date.html">Date</a></li>
							<li><a href="Feed.html">Feed</a></li>
							<li><a href="File.html">File</a></li>
							<li><a href="Form.html">Form</a></li>
							<li><a href="Fragment.html">Fragment</a></li>
							<li><a href="HTML.html">HTML</a></li>
							<li><a href="Inflector.html">Inflector</a></li>
							<li><a href="Num.html">Num</a></li>
							<li><a href="profiler.html">Profiler</a></li>
							<li><a href="Task_Help.html">Task_Help</a></li>
							<li><a href="Text.html">Text</a></li>
							<li><a href="URL.html">URL</a></li>
							<li><a href="Upload.html">Upload</a></li>
						</ol>		</li>
			<li><span>Logging</span>
			<ol>							<li><a href="Log.html">Log</a></li>
							<li><a href="Log_File.html">Log_File</a></li>
							<li><a href="Log_StdErr.html">Log_StdErr</a></li>
							<li><a href="Log_StdOut.html">Log_StdOut</a></li>
							<li><a href="Log_Syslog.html">Log_Syslog</a></li>
							<li><a href="Log_Writer.html">Log_Writer</a></li>
						</ol>		</li>
			<li><span>Minion</span>
			<ol>							<li><a href="Minion_Exception.html">Minion_Exception</a></li>
							<li><a href="Minion_Exception_InvalidTask.html">Minion_Exception_InvalidTask</a></li>
						</ol>		</li>
			<li><span>Models</span>
			<ol>							<li><a href="Model.html">Model</a></li>
						</ol>		</li>
			<li><span>Security</span>
			<ol>							<li><a href="Encrypt.html">Encrypt</a></li>
							<li><a href="Security.html">Security</a></li>
							<li><a href="Valid.html">Valid</a></li>
							<li><a href="Validation.html">Validation</a></li>
						</ol>		</li>
			<li><span>Session</span>
			<ol>							<li><a href="Session.html">Session</a></li>
							<li><a href="Session_Cookie.html">Session_Cookie</a></li>
							<li><a href="Session_Native.html">Session_Native</a></li>
						</ol>		</li>
		</ol>
<li><span><strong>Kohana/Auth</strong></span>
	<ol>
			<li>							<li><a href="Auth.html">Auth</a></li>
							<li><a href="Auth_File.html">Auth_File</a></li>
							<li><a href="Auth_ORM.html">Auth_ORM</a></li>
							<li><a href="Model_Auth_Role.html">Model_Auth_Role</a></li>
							<li><a href="Model_Auth_User.html">Model_Auth_User</a></li>
							<li><a href="Model_Auth_User_Token.html">Model_Auth_User_Token</a></li>
							<li><a href="Model_Role.html">Model_Role</a></li>
							<li><a href="Model_User.html">Model_User</a></li>
							<li><a href="Model_User_Token.html">Model_User_Token</a></li>
								</li>
		</ol>
<li><span><strong>Kohana/Cache</strong></span>
	<ol>
			<li>							<li><a href="Cache.html">Cache</a></li>
							<li><a href="Cache_Apc.html">Cache_Apc</a></li>
							<li><a href="Cache_Arithmetic.html">Cache_Arithmetic</a></li>
							<li><a href="Cache_Exception.html">Cache_Exception</a></li>
							<li><a href="Cache_File.html">Cache_File</a></li>
							<li><a href="Cache_GarbageCollect.html">Cache_GarbageCollect</a></li>
							<li><a href="Cache_Memcache.html">Cache_Memcache</a></li>
							<li><a href="Cache_MemcacheTag.html">Cache_MemcacheTag</a></li>
							<li><a href="Cache_Sqlite.html">Cache_Sqlite</a></li>
							<li><a href="Cache_Tagging.html">Cache_Tagging</a></li>
							<li><a href="Cache_Wincache.html">Cache_Wincache</a></li>
								</li>
		</ol>
<li><span><strong>Kohana/Codebench</strong></span>
	<ol>
			<li>							<li><a href="Codebench.html">Codebench</a></li>
								</li>
			<li><span>Controllers</span>
			<ol>							<li><a href="Controller_Codebench.html">Controller_Codebench</a></li>
						</ol>		</li>
			<li><span>Tests</span>
			<ol>							<li><a href="Bench_ArrCallback.html">Bench_ArrCallback</a></li>
							<li><a href="Bench_AutoLinkEmails.html">Bench_AutoLinkEmails</a></li>
							<li><a href="Bench_DateSpan.html">Bench_DateSpan</a></li>
							<li><a href="Bench_ExplodeLimit.html">Bench_ExplodeLimit</a></li>
							<li><a href="http://kohanaframework.org/3.3/guide-api/Bench_GruberURL">Bench_GruberURL</a></li>
							<li><a href="Bench_LtrimDigits.html">Bench_LtrimDigits</a></li>
							<li><a href="Bench_MDDoBaseURL.html">Bench_MDDoBaseURL</a></li>
							<li><a href="Bench_MDDoImageURL.html">Bench_MDDoImageURL</a></li>
							<li><a href="Bench_MDDoIncludeViews.html">Bench_MDDoIncludeViews</a></li>
							<li><a href="Bench_StripNullBytes.html">Bench_StripNullBytes</a></li>
							<li><a href="http://kohanaframework.org/3.3/guide-api/Bench_Transliterate">Bench_Transliterate</a></li>
							<li><a href="Bench_URLSite.html">Bench_URLSite</a></li>
							<li><a href="Bench_UserFuncArray.html">Bench_UserFuncArray</a></li>
							<li><a href="http://kohanaframework.org/3.3/guide-api/Bench_ValidColor">Bench_ValidColor</a></li>
							<li><a href="http://kohanaframework.org/3.3/guide-api/Bench_ValidURL">Bench_ValidURL</a></li>
						</ol>		</li>
		</ol>
<li><span><strong>Kohana/Database</strong></span>
	<ol>
			<li>							<li><a href="DB.html">DB</a></li>
							<li><a href="Database.html">Database</a></li>
							<li><a href="Database_Expression.html">Database_Expression</a></li>
								</li>
			<li><span>Configuration</span>
			<ol>							<li><a href="Config_Database.html">Config_Database</a></li>
							<li><a href="Config_Database_Reader.html">Config_Database_Reader</a></li>
							<li><a href="Config_Database_Writer.html">Config_Database_Writer</a></li>
						</ol>		</li>
			<li><span>Drivers</span>
			<ol>							<li><a href="Database_MySQL.html">Database_MySQL</a></li>
							<li><a href="Database_PDO.html">Database_PDO</a></li>
						</ol>		</li>
			<li><span>Exceptions</span>
			<ol>							<li><a href="Database_Exception.html">Database_Exception</a></li>
						</ol>		</li>
			<li><span>Models</span>
			<ol>							<li><a href="Model_Database.html">Model_Database</a></li>
						</ol>		</li>
			<li><span>Query</span>
			<ol>							<li><a href="Database_Query.html">Database_Query</a></li>
							<li><a href="Database_Query_Builder.html">Database_Query_Builder</a></li>
							<li><a href="Database_Query_Builder_Delete.html">Database_Query_Builder_Delete</a></li>
							<li><a href="Database_Query_Builder_Insert.html">Database_Query_Builder_Insert</a></li>
							<li><a href="Database_Query_Builder_Join.html">Database_Query_Builder_Join</a></li>
							<li><a href="Database_Query_Builder_Select.html">Database_Query_Builder_Select</a></li>
							<li><a href="Database_Query_Builder_Update.html">Database_Query_Builder_Update</a></li>
							<li><a href="Database_Query_Builder_Where.html">Database_Query_Builder_Where</a></li>
						</ol>		</li>
			<li><span>Query/Result</span>
			<ol>							<li><a href="Database_MySQL_Result.html">Database_MySQL_Result</a></li>
							<li><a href="Database_Result.html">Database_Result</a></li>
							<li><a href="Database_Result_Cached.html">Database_Result_Cached</a></li>
						</ol>		</li>
			<li><span>Session</span>
			<ol>							<li><a href="Session_Database.html">Session_Database</a></li>
						</ol>		</li>
		</ol>
<li><span><strong>Kohana/Image</strong></span>
	<ol>
			<li>							<li><a href="Image.html">Image</a></li>
								</li>
			<li><span>Drivers</span>
			<ol>							<li><a href="Image_GD.html">Image_GD</a></li>
							<li><a href="Image_Imagick.html">Image_Imagick</a></li>
						</ol>		</li>
		</ol>
<li><span><strong>Kohana/ORM</strong></span>
	<ol>
			<li>							<li><a href="ORM.html">ORM</a></li>
							<li><a href="ORM_Validation_Exception.html">ORM_Validation_Exception</a></li>
								</li>
		</ol>
<li><span><strong>Kohana/UnitTest</strong></span>
	<ol>
			<li>							<li><a href="Unittest_Database_TestCase.html">Unittest_Database_TestCase</a></li>
							<li><a href="Unittest_Tests.html">Unittest_Tests</a></li>
								</li>
		</ol>
<li><span><strong>Kohana/Userguide</strong></span>
	<ol>
			<li>							<li><a href="Kodoc.html">Kodoc</a></li>
							<li><a href="Kodoc_Class.html">Kodoc_Class</a></li>
							<li><a href="Kodoc_Markdown.html">Kodoc_Markdown</a></li>
							<li><a href="Kodoc_Method.html">Kodoc_Method</a></li>
							<li><a href="Kodoc_Method_Param.html">Kodoc_Method_Param</a></li>
							<li><a href="Kodoc_Property.html">Kodoc_Property</a></li>
								</li>
			<li><span>Controllers</span>
			<ol>							<li><a href="Controller_Userguide.html">Controller_Userguide</a></li>
						</ol>		</li>
			<li><span>Undocumented</span>
			<ol>							<li><a href="Kodoc_Missing.html">Kodoc_Missing</a></li>
						</ol>		</li>
		</ol>
<li><span><strong>[Unknown]</strong></span>
	<ol>
			<li>							<li><a href="Minion_CLI.html">Minion_CLI</a></li>
							<li><a href="Minion_Task.html">Minion_Task</a></li>
							<li><a href="Unittest_Helpers.html">Unittest_Helpers</a></li>
							<li><a href="Unittest_TestCase.html">Unittest_TestCase</a></li>
							<li><a href="Unittest_TestSuite.html">Unittest_TestSuite</a></li>
								</li>
		</ol>
</ol>					</div>
				</div>
				<div id="kodoc-body" class="span-16 suffix-1 last">
					<h1>
	<small></small> Kohana_Cache_Memcache		<br/><small>extends <a href="Cache.html">Cache</a></small>
		<br/><small>extends <a href="Kohana_Cache.html">Kohana_Cache</a></small>
	</h1>

<p class="interfaces"><small>
Implements:
<a href="Cache_Arithmetic.html">Cache_Arithmetic</a> | <a href="Kohana_Cache_Arithmetic.html">Kohana_Cache_Arithmetic</a></small>
</p>

<p class="note">
This class is a transparent base class for <a href="Cache_Memcache.html">Cache_Memcache</a> and
should not be accessed directly.
</p>

<p><a href="http://kohanaframework.org/3.3/guide/api/Kohana_Cache">Kohana Cache</a> Memcache driver,</p>

<h3 id="supported-cache-engines">Supported cache engines</h3>

<ul>
<li><a href="http://www.php.net/manual/en/book.memcache.php">Memcache</a></li>
<li><a href="http://code.google.com/p/memcached-tags/">Memcached-tags</a></li>
</ul>

<h3 id="configuration-example">Configuration example</h3>

<p>Below is an example of a <em>memcache</em> server configuration.</p>

<pre><code>return array(
     'default'   =&gt; array(                          // Default group
             'driver'         =&gt; 'memcache',        // using Memcache driver
             'servers'        =&gt; array(             // Available server definitions
                    // First memcache server server
                    array(
                         'host'             =&gt; 'localhost',
                         'port'             =&gt; 11211,
                         'persistent'       =&gt; FALSE
                         'weight'           =&gt; 1,
                         'timeout'          =&gt; 1,
                         'retry_interval'   =&gt; 15,
                         'status'           =&gt; TRUE,
            'instant_death'    =&gt; TRUE,
                         'failure_callback' =&gt; array('className', 'classMethod')
                    ),
                    // Second memcache server
                    array(
                         'host'             =&gt; '192.168.1.5',
                         'port'             =&gt; 22122,
                         'persistent'       =&gt; TRUE
                    )
             ),
             'compression'    =&gt; FALSE,             // Use compression?
      ),
)
</code></pre>

<p>In cases where only one cache group is required, if the group is named <code>default</code> there is
no need to pass the group name when instantiating a cache instance.</p>

<h4 id="general-cache-group-configuration-settings">General cache group configuration settings</h4>

<p>Below are the settings available to all types of cache driver.</p>

<table>
<thead>
<tr>
  <th>Name</th>
  <th>Required</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>driver</td>
  <td><strong>YES</strong></td>
  <td>(<em>string</em>) The driver type to use</td>
</tr>
<tr>
  <td>servers</td>
  <td><strong>YES</strong></td>
  <td>(<em>array</em>) Associative array of server details, must include a <strong>host</strong> key. (see <em>Memcache server configuration</em> below)</td>
</tr>
<tr>
  <td>compression</td>
  <td><strong>NO</strong></td>
  <td>(<em>boolean</em>) Use data compression when caching</td>
</tr>
</tbody>
</table>

<h4 id="memcache-server-configuration">Memcache server configuration</h4>

<p>The following settings should be used when defining each memcache server</p>

<table>
<thead>
<tr>
  <th>Name</th>
  <th>Required</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>host</td>
  <td><strong>YES</strong></td>
  <td>(<em>string</em>) The host of the memcache server, i.e. <strong>localhost</strong>; or <strong>127.0.0.1</strong>; or <strong>memcache.domain.tld</strong></td>
</tr>
<tr>
  <td>port</td>
  <td><strong>NO</strong></td>
  <td>(<em>integer</em>) Point to the port where memcached is listening for connections. Set this parameter to 0 when using UNIX domain sockets.  Default <strong>11211</strong></td>
</tr>
<tr>
  <td>persistent</td>
  <td><strong>NO</strong></td>
  <td>(<em>boolean</em>) Controls the use of a persistent connection. Default <strong>TRUE</strong></td>
</tr>
<tr>
  <td>weight</td>
  <td><strong>NO</strong></td>
  <td>(<em>integer</em>) Number of buckets to create for this server which in turn control its probability of it being selected. The probability is relative to the total weight of all servers. Default <strong>1</strong></td>
</tr>
<tr>
  <td>timeout</td>
  <td><strong>NO</strong></td>
  <td>(<em>integer</em>) Value in seconds which will be used for connecting to the daemon. Think twice before changing the default value of 1 second - you can lose all the advantages of caching if your connection is too slow. Default <strong>1</strong></td>
</tr>
<tr>
  <td>retry_interval</td>
  <td><strong>NO</strong></td>
  <td>(<em>integer</em>) Controls how often a failed server will be retried, the default value is 15 seconds. Setting this parameter to -1 disables automatic retry. Default <strong>15</strong></td>
</tr>
<tr>
  <td>status</td>
  <td><strong>NO</strong></td>
  <td>(<em>boolean</em>) Controls if the server should be flagged as online. Default <strong>TRUE</strong></td>
</tr>
<tr>
  <td>failure_callback</td>
  <td><strong>NO</strong></td>
  <td>(<em><a href="http://www.php.net/manual/en/language.pseudo-types.php#language.types.callback">callback</a></em>) Allows the user to specify a callback function to run upon encountering an error. The callback is run before failover is attempted. The function takes two parameters, the hostname and port of the failed server. Default <strong>NULL</strong></td>
</tr>
</tbody>
</table>

<h3 id="system-requirements">System requirements</h3>

<ul>
<li>Kohana 3.0.x</li>
<li>PHP 5.2.4 or greater</li>
<li>Memcache (plus Memcached-tags for native tagging support)</li>
<li>Zlib</li>
</ul>

<dl class="tags">
<dt>package</dt>
<dd>Kohana/Cache</dd>
<dt>category</dt>
<dd>Base</dd>
<dt>version</dt>
<dd>2.0</dd>
<dt>author</dt>
<dd>Kohana Team</dd>
<dt>copyright</dt>
<dd>&copy; 2009-2012 Kohana Team</dd>
<dt>license</dt>
<dd><a href="http://kohanaphp.com/license">http://kohanaphp.com/license</a></dd>
</dl>

<p class="note">
Class declared in <tt>MODPATH/cache/classes/Kohana/Cache/Memcache.php</tt> on line 83.
</p>

<div class="toc">
	<div class="constants">
		<h3>Constants</h3>
		<ul>
							<li><a href="Kohana_Cache_Memcache.html#constant:CACHE_CEILING">CACHE_CEILING</a></li>
					<li><a href="Kohana_Cache_Memcache.html#constant:DEFAULT_EXPIRE">DEFAULT_EXPIRE</a></li>
						</ul>
	</div>
	<div class="properties">
		<h3>Properties</h3>
		<ul>
							<li><a href="Kohana_Cache_Memcache.html#property:default">$default</a></li>
					<li><a href="Kohana_Cache_Memcache.html#property:instances">$instances</a></li>
					<li><a href="Kohana_Cache_Memcache.html#property:_config">$_config</a></li>
					<li><a href="Kohana_Cache_Memcache.html#property:_default_config">$_default_config</a></li>
					<li><a href="Kohana_Cache_Memcache.html#property:_flags">$_flags</a></li>
					<li><a href="Kohana_Cache_Memcache.html#property:_memcache">$_memcache</a></li>
						</ul>
	</div>
	<div class="methods">
		<h3>Methods</h3>
		<ul>
							<li><a href="Kohana_Cache_Memcache.html#_failed_request">_failed_request()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#decrement">decrement()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#delete">delete()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#delete_all">delete_all()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#get">get()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#increment">increment()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#set">set()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#__clone">__clone()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#config">config()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#instance">instance()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#__construct">__construct()</a></li>
					<li><a href="Kohana_Cache_Memcache.html#_sanitize_id">_sanitize_id()</a></li>
						</ul>
	</div>
</div>

<div class="clearfix"></div>

<div class="constants">
<h1 id="constants">Constants</h1>
<dl>
<dt><h4 id="constant:CACHE_CEILING">CACHE_CEILING</h4></dt>
<dd><pre class="debug"><small>integer</small> 2592000</pre></dd>
<dt><h4 id="constant:DEFAULT_EXPIRE">DEFAULT_EXPIRE</h4></dt>
<dd><pre class="debug"><small>integer</small> 3600</pre></dd>
</dl>
</div>

<h1 id="properties">Properties</h1>
<div class="properties">
<dl>
<dt><h4 id="property:default"><small>public static</small>  <code>string</code> $default</h4></dt>
<dd><p>default driver to use</p>
</dd>
<dd><pre class="debug"><small>string</small><span>(4)</span> "file"</pre></dd>
<dt><h4 id="property:instances"><small>public static</small>  <code>Kohana_Cache</code> $instances</h4></dt>
<dd><p>instances</p>
</dd>
<dd><pre class="debug"><small>array</small><span>(0)</span> </pre></dd>
<dt><h4 id="property:_config"><small>protected</small>  <code>Config</code> $_config</h4></dt>
<dd></dd>
<dd></dd>
<dd><small>Default value:</small><br/><pre class="debug"><small>array</small><span>(0)</span> </pre></dd>
<dt><h4 id="property:_default_config"><small>protected</small>  <code>array</code> $_default_config</h4></dt>
<dd><p>The default configuration for the memcached server</p>
</dd>
<dd></dd>
<dd><small>Default value:</small><br/><pre class="debug"><small>array</small><span>(0)</span> </pre></dd>
<dt><h4 id="property:_flags"><small>protected</small>  <code>string</code> $_flags</h4></dt>
<dd><p>Flags to use when storing values</p>
</dd>
<dd></dd>
<dd><small>Default value:</small><br/><pre class="debug"><small>NULL</small></pre></dd>
<dt><h4 id="property:_memcache"><small>protected</small>  <code>Memcache</code> $_memcache</h4></dt>
<dd><p>Memcache resource</p>
</dd>
<dd></dd>
<dd><small>Default value:</small><br/><pre class="debug"><small>NULL</small></pre></dd>
</dl>
</div>

<h1 id="methods">Methods</h1>
<div class="methods">
<div class="method">

<h3 id="_failed_request">
	<small>public</small> _failed_request( <small>string</small> <span class="param" title="$hostname">$hostname</span> , <small>integer</small> <span class="param" title="$port">$port</span> )
	<small>(defined in <a href="Kohana_Cache_Memcache.html">Kohana_Cache_Memcache</a>)</small>
</h3>

<div class="description">
<p>Callback method for Memcache::failure_callback to use if any Memcache call
on a particular server fails. This method switches off that instance of the
server if the configuration setting <code>instant_death</code> is set to <code>TRUE</code>.</p>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$hostname</strong>
<small>required</small> - $hostname</li>
<li>
<code>integer</code>
<strong>$port</strong>
<small>required</small> - $port</li>
</ul>

<h4>Tags</h4>
<ul class="tags">
<li>Since - 3.0.8</ul>
<h4>Return Values</h4>
<ul class="return">
<li><code>void|boolean</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function _failed_request($hostname, $port)
{
	if ( ! $this-&gt;_config[&#039;instant_death&#039;])
		return;

	// Setup non-existent host
	$host = FALSE;

	// Get host settings from configuration
	foreach ($this-&gt;_config[&#039;servers&#039;] as $server)
	{
		// Merge the defaults, since they won&#039;t always be set
		$server += $this-&gt;_default_config;
		// We&#039;re looking at the failed server
		if ($hostname == $server[&#039;host&#039;] and $port == $server[&#039;port&#039;])
		{
			// Server to disable, since it failed
			$host = $server;
			continue;
		}
	}

	if ( ! $host)
		return;
	else
	{
		return $this-&gt;_memcache-&gt;setServerParams(
			$host[&#039;host&#039;],
			$host[&#039;port&#039;],
			$host[&#039;timeout&#039;],
			$host[&#039;retry_interval&#039;],
			FALSE, // Server is offline
			array($this, &#039;_failed_request&#039;
			));
	}
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="decrement">
	<small>public</small> decrement( <small>string</small> <span class="param" title="Id of cache entry to decrement">$id</span> [, <small>int</small> <span class="param" title="Step value to decrement by">$step</span> <small>= <small>integer</small> 1</small> ] )
	<small>(defined in <a href="Kohana_Cache_Memcache.html">Kohana_Cache_Memcache</a>)</small>
</h3>

<div class="description">
<p>Decrements a given value by the step value supplied.
Useful for shared counters and other persistent integer based
tracking.</p>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$id</strong>
<small>required</small> - Id of cache entry to decrement</li>
<li>
<code>int</code>
<strong>$step</strong>
<small> = <small>integer</small> 1</small> - Step value to decrement by</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>integer</code></li>
<li><code>boolean</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function decrement($id, $step = 1)
{
	return $this-&gt;_memcache-&gt;decrement($id, $step);
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="delete">
	<small>public</small> delete( <small>string</small> <span class="param" title="Id of entry to delete">$id</span> [, <small>integer</small> <span class="param" title="Timeout of entry, if zero item is deleted immediately, otherwise the item will delete after the specified value in seconds">$timeout</span> <small>= <small>integer</small> 0</small> ] )
	<small>(defined in <a href="Kohana_Cache_Memcache.html">Kohana_Cache_Memcache</a>)</small>
</h3>

<div class="description">
<p>Delete a cache entry based on id</p>

<pre><code>// Delete the 'foo' cache entry immediately
Cache::instance('memcache')-&gt;delete('foo');

// Delete the 'bar' cache entry after 30 seconds
Cache::instance('memcache')-&gt;delete('bar', 30);
</code></pre>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$id</strong>
<small>required</small> - Id of entry to delete</li>
<li>
<code>integer</code>
<strong>$timeout</strong>
<small> = <small>integer</small> 0</small> - Timeout of entry, if zero item is deleted immediately, otherwise the item will delete after the specified value in seconds</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>boolean</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function delete($id, $timeout = 0)
{
	// Delete the id
	return $this-&gt;_memcache-&gt;delete($this-&gt;_sanitize_id($id), $timeout);
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="delete_all">
	<small>public</small> delete_all( )
	<small>(defined in <a href="Kohana_Cache_Memcache.html">Kohana_Cache_Memcache</a>)</small>
</h3>

<div class="description">
<p>Delete all cache entries.</p>

<p>Beware of using this method when
using shared memory cache systems, as it will wipe every
entry within the system for all clients.</p>

<pre><code>// Delete all cache entries in the default group
Cache::instance('memcache')-&gt;delete_all();
</code></pre>
</div>



<h4>Return Values</h4>
<ul class="return">
<li><code>boolean</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function delete_all()
{
	$result = $this-&gt;_memcache-&gt;flush();

	// We must sleep after flushing, or overwriting will not work!
	// @see http://php.net/manual/en/function.memcache-flush.php#81420
	sleep(1);

	return $result;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="get">
	<small>public</small> get( <small>string</small> <span class="param" title="Id of cache to entry">$id</span> [, <small>string</small> <span class="param" title="Default value to return if cache miss">$default</span> <small>= <small>NULL</small></small> ] )
	<small>(defined in <a href="Kohana_Cache_Memcache.html">Kohana_Cache_Memcache</a>)</small>
</h3>

<div class="description">
<p>Retrieve a cached value entry by id.</p>

<pre><code>// Retrieve cache entry from memcache group
$data = Cache::instance('memcache')-&gt;get('foo');

// Retrieve cache entry from memcache group and return 'bar' if miss
$data = Cache::instance('memcache')-&gt;get('foo', 'bar');
</code></pre>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$id</strong>
<small>required</small> - Id of cache to entry</li>
<li>
<code>string</code>
<strong>$default</strong>
<small> = <small>NULL</small></small> - Default value to return if cache miss</li>
</ul>

<h4>Tags</h4>
<ul class="tags">
<li>Throws - <a href="Cache_Exception.html">Cache_Exception</a></ul>
<h4>Return Values</h4>
<ul class="return">
<li><code>mixed</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function get($id, $default = NULL)
{
	// Get the value from Memcache
	$value = $this-&gt;_memcache-&gt;get($this-&gt;_sanitize_id($id));

	// If the value wasn&#039;t found, normalise it
	if ($value === FALSE)
	{
		$value = (NULL === $default) ? NULL : $default;
	}

	// Return the value
	return $value;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="increment">
	<small>public</small> increment( <small>string</small> <span class="param" title="Id of cache entry to increment">$id</span> [, <small>int</small> <span class="param" title="Step value to increment by">$step</span> <small>= <small>integer</small> 1</small> ] )
	<small>(defined in <a href="Kohana_Cache_Memcache.html">Kohana_Cache_Memcache</a>)</small>
</h3>

<div class="description">
<p>Increments a given value by the step value supplied.
Useful for shared counters and other persistent integer based
tracking.</p>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$id</strong>
<small>required</small> - Id of cache entry to increment</li>
<li>
<code>int</code>
<strong>$step</strong>
<small> = <small>integer</small> 1</small> - Step value to increment by</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>integer</code></li>
<li><code>boolean</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function increment($id, $step = 1)
{
	return $this-&gt;_memcache-&gt;increment($id, $step);
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="set">
	<small>public</small> set( <small>string</small> <span class="param" title="Id of cache entry">$id</span> , <small>mixed</small> <span class="param" title="Data to set to cache">$data</span> [, <small>integer</small> <span class="param" title="Lifetime in seconds, maximum value 2592000">$lifetime</span> <small>= <small>integer</small> 3600</small> ] )
	<small>(defined in <a href="Kohana_Cache_Memcache.html">Kohana_Cache_Memcache</a>)</small>
</h3>

<div class="description">
<p>Set a value to cache with id and lifetime</p>

<pre><code>$data = 'bar';

// Set 'bar' to 'foo' in memcache group for 10 minutes
if (Cache::instance('memcache')-&gt;set('foo', $data, 600))
{
     // Cache was set successfully
     return
}
</code></pre>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$id</strong>
<small>required</small> - Id of cache entry</li>
<li>
<code>mixed</code>
<strong>$data</strong>
<small>required</small> - Data to set to cache</li>
<li>
<code>integer</code>
<strong>$lifetime</strong>
<small> = <small>integer</small> 3600</small> - Lifetime in seconds, maximum value 2592000</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>boolean</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function set($id, $data, $lifetime = 3600)
{
	// If the lifetime is greater than the ceiling
	if ($lifetime &gt; Cache_Memcache::CACHE_CEILING)
	{
		// Set the lifetime to maximum cache time
		$lifetime = Cache_Memcache::CACHE_CEILING + time();
	}
	// Else if the lifetime is greater than zero
	elseif ($lifetime &gt; 0)
	{
		$lifetime += time();
	}
	// Else
	else
	{
		// Normalise the lifetime
		$lifetime = 0;
	}

	// Set the data to memcache
	return $this-&gt;_memcache-&gt;set($this-&gt;_sanitize_id($id), $data, $this-&gt;_flags, $lifetime);
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="__clone">
	<small>final public</small> __clone( )
	<small>(defined in <a href="Kohana_Cache.html">Kohana_Cache</a>)</small>
</h3>

<div class="description">
<p>Overload the __clone() method to prevent cloning</p>
</div>


<h4>Tags</h4>
<ul class="tags">
<li>Throws - <a href="Cache_Exception.html">Cache_Exception</a></ul>
<h4>Return Values</h4>
<ul class="return">
<li><code>void</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>final public function __clone()
{
	throw new Cache_Exception(&#039;Cloning of Kohana_Cache objects is forbidden&#039;);
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="config">
	<small>public</small> config( [ <small>mixed</small> <span class="param" title="Key to set to array, either array or config path">$key</span> <small>= <small>NULL</small></small> , <small>mixed</small> <span class="param" title="Value to associate with key">$value</span> <small>= <small>NULL</small></small> ] )
	<small>(defined in <a href="Kohana_Cache.html">Kohana_Cache</a>)</small>
</h3>

<div class="description">
<p>Getter and setter for the configuration. If no argument provided, the
current configuration is returned. Otherwise the configuration is set
to this class.</p>

<pre><code>// Overwrite all configuration
$cache-&gt;config(array('driver' =&gt; 'memcache', '...'));

// Set a new configuration setting
$cache-&gt;config('servers', array(
     'foo' =&gt; 'bar',
     '...'
     ));

// Get a configuration setting
$servers = $cache-&gt;config('servers);
</code></pre>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>mixed</code>
<strong>$key</strong>
<small> = <small>NULL</small></small> - Key to set to array, either array or config path</li>
<li>
<code>mixed</code>
<strong>$value</strong>
<small> = <small>NULL</small></small> - Value to associate with key</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>mixed</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function config($key = NULL, $value = NULL)
{
	if ($key === NULL)
		return $this-&gt;_config;

	if (is_array($key))
	{
		$this-&gt;_config = $key;
	}
	else
	{
		if ($value === NULL)
			return Arr::get($this-&gt;_config, $key);

		$this-&gt;_config[$key] = $value;
	}

	return $this;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="instance">
	<small>public static</small> instance( [ <small>string</small> <span class="param" title="The name of the cache group to use [Optional]">$group</span> <small>= <small>NULL</small></small> ] )
	<small>(defined in <a href="Kohana_Cache.html">Kohana_Cache</a>)</small>
</h3>

<div class="description">
<p>Creates a singleton of a Kohana Cache group. If no group is supplied
the <strong>default</strong> cache group is used.</p>

<pre><code>// Create an instance of the default group
$default_group = Cache::instance();

// Create an instance of a group
$foo_group = Cache::instance('foo');

// Access an instantiated group directly
$foo_group = Cache::$instances['default'];
</code></pre>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$group</strong>
<small> = <small>NULL</small></small> - The name of the cache group to use [Optional]</li>
</ul>

<h4>Tags</h4>
<ul class="tags">
<li>Throws - <a href="Cache_Exception.html">Cache_Exception</a></ul>
<h4>Return Values</h4>
<ul class="return">
<li><code>Cache</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public static function instance($group = NULL)
{
	// If there is no group supplied
	if ($group === NULL)
	{
		// Use the default setting
		$group = Cache::$default;
	}

	if (isset(Cache::$instances[$group]))
	{
		// Return the current group if initiated already
		return Cache::$instances[$group];
	}

	$config = Kohana::$config-&gt;load(&#039;cache&#039;);

	if ( ! $config-&gt;offsetExists($group))
	{
		throw new Cache_Exception(
			&#039;Failed to load Kohana Cache group: :group&#039;,
			array(&#039;:group&#039; =&gt; $group)
		);
	}

	$config = $config-&gt;get($group);

	// Create a new cache type instance
	$cache_class = &#039;Cache_&#039;.ucfirst($config[&#039;driver&#039;]);
	Cache::$instances[$group] = new $cache_class($config);

	// Return the instance
	return Cache::$instances[$group];
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="__construct">
	<small>protected</small> __construct( <small>array</small> <span class="param" title="Configuration">$config</span> )
	<small>(defined in <a href="Kohana_Cache_Memcache.html">Kohana_Cache_Memcache</a>)</small>
</h3>

<div class="description">
<p>Constructs the memcache Kohana_Cache object</p>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>array</code>
<strong>$config</strong>
<small>required</small> - Configuration</li>
</ul>

<h4>Tags</h4>
<ul class="tags">
<li>Throws - <a href="Cache_Exception.html">Cache_Exception</a></ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>protected function __construct(array $config)
{
	// Check for the memcache extention
	if ( ! extension_loaded(&#039;memcache&#039;))
	{
		throw new Cache_Exception(&#039;Memcache PHP extention not loaded&#039;);
	}

	parent::__construct($config);

	// Setup Memcache
	$this-&gt;_memcache = new Memcache;

	// Load servers from configuration
	$servers = Arr::get($this-&gt;_config, &#039;servers&#039;, NULL);

	if ( ! $servers)
	{
		// Throw an exception if no server found
		throw new Cache_Exception(&#039;No Memcache servers defined in configuration&#039;);
	}

	// Setup default server configuration
	$this-&gt;_default_config = array(
			&#039;host&#039;             =&gt; &#039;localhost&#039;,
			&#039;port&#039;             =&gt; 11211,
			&#039;persistent&#039;       =&gt; FALSE,
			&#039;weight&#039;           =&gt; 1,
			&#039;timeout&#039;          =&gt; 1,
			&#039;retry_interval&#039;   =&gt; 15,
			&#039;status&#039;           =&gt; TRUE,
			&#039;instant_death&#039;	   =&gt; TRUE,
			&#039;failure_callback&#039; =&gt; array($this, &#039;_failed_request&#039;),
	);

	// Add the memcache servers to the pool
	foreach ($servers as $server)
	{
		// Merge the defined config with defaults
		$server += $this-&gt;_default_config;

		if ( ! $this-&gt;_memcache-&gt;addServer($server[&#039;host&#039;], $server[&#039;port&#039;], $server[&#039;persistent&#039;], $server[&#039;weight&#039;], $server[&#039;timeout&#039;], $server[&#039;retry_interval&#039;], $server[&#039;status&#039;], $server[&#039;failure_callback&#039;]))
		{
			throw new Cache_Exception(&#039;Memcache could not connect to host \&#039;:host\&#039; using port \&#039;:port\&#039;&#039;, array(&#039;:host&#039; =&gt; $server[&#039;host&#039;], &#039;:port&#039; =&gt; $server[&#039;port&#039;]));
		}
	}

	// Setup the flags
	$this-&gt;_flags = Arr::get($this-&gt;_config, &#039;compression&#039;, FALSE) ? MEMCACHE_COMPRESSED : FALSE;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="_sanitize_id">
	<small>protected</small> _sanitize_id( <small>string</small> <span class="param" title="Id of cache to sanitize">$id</span> )
	<small>(defined in <a href="Kohana_Cache.html">Kohana_Cache</a>)</small>
</h3>

<div class="description">
<p>Replaces troublesome characters with underscores.</p>

<pre><code>// Sanitize a cache id
$id = $this-&gt;_sanitize_id($id);
</code></pre>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$id</strong>
<small>required</small> - Id of cache to sanitize</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>string</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>protected function _sanitize_id($id)
{
	// Change slashes and spaces to underscores
	return str_replace(array(&#039;/&#039;, &#039;\\&#039;, &#039; &#039;), &#039;_&#039;, $id);
}</code></pre>
</div>

</div>
</div>

									</div>
			</div>
		</div>
	</div>

	<div id="kodoc-footer">
		<div class="container">
			<div class="span-12">
							&nbsp;
						</div>
			<div class="span-12 last right">
			<p>Powered by <a href="http://kohanaframework.org/">Kohana</a> v3.3.1</p>
			</div>
		</div>
	</div>

</body>
</html>
