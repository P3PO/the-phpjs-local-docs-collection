<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Response | Kohana User Guide</title>

<script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok8v=02fcfa4f56/"},atok:"eee59e90a8282bcfc7cd8af99a42a3da",petok:"872cb8a316bd97bab7cdff8b67a2993a4dd799bc-1394799320-1800",zone:"kohanaframework.org",rocket:"0",apps:{"ga_key":{"ua":"UA-27864271-1","ga_bs":"2"}}}];var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=!0;a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok8v=b064e16429/cloudflare.min.js";b.parentNode.insertBefore(a,b);}}catch(e){};
//]]>
</script>
<link type="text/css" href="../guide-media/css/print.css" rel="stylesheet" media="print" />
<link type="text/css" href="../guide-media/css/screen.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../guide-media/css/kodoc.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../guide-media/css/shCore.css" rel="stylesheet" media="screen" />
<link type="text/css" href="../guide-media/css/shThemeKodoc.css" rel="stylesheet" media="screen" />

<script type="text/javascript" src="../guide-media/js/jquery.min.js"></script>
<script type="text/javascript" src="../guide-media/js/jquery.cookie.js"></script>
<script type="text/javascript" src="../guide-media/js/kodoc.js"></script>
<script type="text/javascript" src="../guide-media/js/shCore.js"></script>
<script type="text/javascript" src="../guide-media/js/shBrushPhp.js"></script>

<!--[if lt IE 9]>
<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
<![endif]-->
<script type="text/javascript">
/* <![CDATA[ */
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-27864271-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

(function(b){(function(a){"__CF"in b&&"DJS"in b.__CF?b.__CF.DJS.push(a):"addEventListener"in b?b.addEventListener("load",a,!1):b.attachEvent("onload",a)})(function(){"FB"in b&&"Event"in FB&&"subscribe"in FB.Event&&(FB.Event.subscribe("edge.create",function(a){_gaq.push(["_trackSocial","facebook","like",a])}),FB.Event.subscribe("edge.remove",function(a){_gaq.push(["_trackSocial","facebook","unlike",a])}),FB.Event.subscribe("message.send",function(a){_gaq.push(["_trackSocial","facebook","send",a])}));"twttr"in b&&"events"in twttr&&"bind"in twttr.events&&twttr.events.bind("tweet",function(a){if(a){var b;if(a.target&&a.target.nodeName=="IFRAME")a:{if(a=a.target.src){a=a.split("#")[0].match(/[^?=&]+=([^&]*)?/g);b=0;for(var c;c=a[b];++b)if(c.indexOf("url")===0){b=unescape(c.split("=")[1]);break a}}b=void 0}_gaq.push(["_trackSocial","twitter","tweet",b])}})})})(window);
/* ]]> */
</script>
</head>
<body>

	<div id="kodoc-header">
		<div class="container">
			<a href="http://kohanaframework.org/" id="kodoc-logo">
				<img src="../guide-media/img/kohana.png" />
			</a>
			<div id="kodoc-menu">
				<ul>
					<li class="guide first">
						<a href="../guide.1.html">User Guide</a>
					</li>
										<li class="api">
						<a href="../guide-api.html">API Browser</a>
					</li>
									</ul>
			</div>
		</div>
	</div>

	<div id="kodoc-content">
		<div class="wrapper">
			<div class="container">
				<div class="span-22 prefix-1 suffix-1">
					<ul id="kodoc-breadcrumb">
																				<li><a href="../guide.1.html">User Guide</a></li>
																											<li><a href="../guide-api.html">API Browser</a></li>
																											<li class="last">Response</li>
																		</ul>
				</div>
				<div class="span-6 prefix-1">
					<div id="kodoc-topics">
						
<h2>Modules</h2>
<ol class="menu">
<li><span><strong>Kohana</strong></span>
	<ol>
			<li>							<li><a href="Debug.html">Debug</a></li>
							<li><a href="HTTP_Cache.html">HTTP_Cache</a></li>
							<li><a href="I18n.html">I18n</a></li>
							<li><a href="http://kohanaframework.org/3.3/guide-api/Kohana">Kohana</a></li>
							<li><a href="Kohana_Config_Writer.html">Kohana_Config_Writer</a></li>
							<li><a href="Request.html">Request</a></li>
							<li><a href="Request_Client.html">Request_Client</a></li>
							<li><a href="Request_Client_Curl.html">Request_Client_Curl</a></li>
							<li><a href="Request_Client_External.html">Request_Client_External</a></li>
							<li><a href="Request_Client_HTTP.html">Request_Client_HTTP</a></li>
							<li><a href="Request_Client_Internal.html">Request_Client_Internal</a></li>
							<li><a href="Request_Client_Stream.html">Request_Client_Stream</a></li>
							<li><a href="Response.html">Response</a></li>
							<li><a href="Route.html">Route</a></li>
							<li><a href="UTF8.html">UTF8</a></li>
							<li><a href="View.html">View</a></li>
								</li>
			<li><span>Configuration</span>
			<ol>							<li><a href="Config.html">Config</a></li>
							<li><a href="Config_File.html">Config_File</a></li>
							<li><a href="Config_Group.html">Config_Group</a></li>
							<li><a href="Kohana_Config_File_Reader.html">Kohana_Config_File_Reader</a></li>
							<li><a href="Kohana_Config_Reader.html">Kohana_Config_Reader</a></li>
							<li><a href="Kohana_Config_Source.html">Kohana_Config_Source</a></li>
						</ol>		</li>
			<li><span>Controller</span>
			<ol>							<li><a href="Controller.html">Controller</a></li>
							<li><a href="Controller_Template.html">Controller_Template</a></li>
							<li><a href="Controller_Welcome.html">Controller_Welcome</a></li>
						</ol>		</li>
			<li><span>Exceptions</span>
			<ol>							<li><a href="HTTP_Exception.html">HTTP_Exception</a></li>
							<li><a href="HTTP_Exception_300.html">HTTP_Exception_300</a></li>
							<li><a href="HTTP_Exception_301.html">HTTP_Exception_301</a></li>
							<li><a href="HTTP_Exception_302.html">HTTP_Exception_302</a></li>
							<li><a href="HTTP_Exception_303.html">HTTP_Exception_303</a></li>
							<li><a href="HTTP_Exception_304.html">HTTP_Exception_304</a></li>
							<li><a href="HTTP_Exception_305.html">HTTP_Exception_305</a></li>
							<li><a href="HTTP_Exception_307.html">HTTP_Exception_307</a></li>
							<li><a href="HTTP_Exception_400.html">HTTP_Exception_400</a></li>
							<li><a href="HTTP_Exception_401.html">HTTP_Exception_401</a></li>
							<li><a href="HTTP_Exception_402.html">HTTP_Exception_402</a></li>
							<li><a href="HTTP_Exception_403.html">HTTP_Exception_403</a></li>
							<li><a href="HTTP_Exception_404.html">HTTP_Exception_404</a></li>
							<li><a href="HTTP_Exception_405.html">HTTP_Exception_405</a></li>
							<li><a href="HTTP_Exception_406.html">HTTP_Exception_406</a></li>
							<li><a href="HTTP_Exception_407.html">HTTP_Exception_407</a></li>
							<li><a href="HTTP_Exception_408.html">HTTP_Exception_408</a></li>
							<li><a href="HTTP_Exception_409.html">HTTP_Exception_409</a></li>
							<li><a href="HTTP_Exception_410.html">HTTP_Exception_410</a></li>
							<li><a href="HTTP_Exception_411.html">HTTP_Exception_411</a></li>
							<li><a href="HTTP_Exception_412.html">HTTP_Exception_412</a></li>
							<li><a href="HTTP_Exception_413.html">HTTP_Exception_413</a></li>
							<li><a href="HTTP_Exception_414.html">HTTP_Exception_414</a></li>
							<li><a href="HTTP_Exception_415.html">HTTP_Exception_415</a></li>
							<li><a href="HTTP_Exception_416.html">HTTP_Exception_416</a></li>
							<li><a href="HTTP_Exception_417.html">HTTP_Exception_417</a></li>
							<li><a href="HTTP_Exception_500.html">HTTP_Exception_500</a></li>
							<li><a href="HTTP_Exception_501.html">HTTP_Exception_501</a></li>
							<li><a href="HTTP_Exception_502.html">HTTP_Exception_502</a></li>
							<li><a href="HTTP_Exception_503.html">HTTP_Exception_503</a></li>
							<li><a href="HTTP_Exception_504.html">HTTP_Exception_504</a></li>
							<li><a href="HTTP_Exception_505.html">HTTP_Exception_505</a></li>
							<li><a href="HTTP_Exception_Expected.html">HTTP_Exception_Expected</a></li>
							<li><a href="HTTP_Exception_Redirect.html">HTTP_Exception_Redirect</a></li>
							<li><a href="Kohana_Exception.html">Kohana_Exception</a></li>
							<li><a href="Request_Client_Recursion_Exception.html">Request_Client_Recursion_Exception</a></li>
							<li><a href="Request_Exception.html">Request_Exception</a></li>
							<li><a href="Session_Exception.html">Session_Exception</a></li>
							<li><a href="UTF8_Exception.html">UTF8_Exception</a></li>
							<li><a href="Validation_Exception.html">Validation_Exception</a></li>
							<li><a href="View_Exception.html">View_Exception</a></li>
						</ol>		</li>
			<li><span>HTTP</span>
			<ol>							<li><a href="HTTP.html">HTTP</a></li>
							<li><a href="HTTP_Header.html">HTTP_Header</a></li>
							<li><a href="HTTP_Message.html">HTTP_Message</a></li>
							<li><a href="HTTP_Request.html">HTTP_Request</a></li>
							<li><a href="HTTP_Response.html">HTTP_Response</a></li>
						</ol>		</li>
			<li><span>Helpers</span>
			<ol>							<li><a href="Arr.html">Arr</a></li>
							<li><a href="Cookie.html">Cookie</a></li>
							<li><a href="Date.html">Date</a></li>
							<li><a href="Feed.html">Feed</a></li>
							<li><a href="File.html">File</a></li>
							<li><a href="Form.html">Form</a></li>
							<li><a href="Fragment.html">Fragment</a></li>
							<li><a href="HTML.html">HTML</a></li>
							<li><a href="Inflector.html">Inflector</a></li>
							<li><a href="Num.html">Num</a></li>
							<li><a href="profiler.html">Profiler</a></li>
							<li><a href="Task_Help.html">Task_Help</a></li>
							<li><a href="Text.html">Text</a></li>
							<li><a href="URL.html">URL</a></li>
							<li><a href="Upload.html">Upload</a></li>
						</ol>		</li>
			<li><span>Logging</span>
			<ol>							<li><a href="Log.html">Log</a></li>
							<li><a href="Log_File.html">Log_File</a></li>
							<li><a href="Log_StdErr.html">Log_StdErr</a></li>
							<li><a href="Log_StdOut.html">Log_StdOut</a></li>
							<li><a href="Log_Syslog.html">Log_Syslog</a></li>
							<li><a href="Log_Writer.html">Log_Writer</a></li>
						</ol>		</li>
			<li><span>Minion</span>
			<ol>							<li><a href="Minion_Exception.html">Minion_Exception</a></li>
							<li><a href="Minion_Exception_InvalidTask.html">Minion_Exception_InvalidTask</a></li>
						</ol>		</li>
			<li><span>Models</span>
			<ol>							<li><a href="Model.html">Model</a></li>
						</ol>		</li>
			<li><span>Security</span>
			<ol>							<li><a href="Encrypt.html">Encrypt</a></li>
							<li><a href="Security.html">Security</a></li>
							<li><a href="Valid.html">Valid</a></li>
							<li><a href="Validation.html">Validation</a></li>
						</ol>		</li>
			<li><span>Session</span>
			<ol>							<li><a href="Session.html">Session</a></li>
							<li><a href="Session_Cookie.html">Session_Cookie</a></li>
							<li><a href="Session_Native.html">Session_Native</a></li>
						</ol>		</li>
		</ol>
<li><span><strong>Kohana/Auth</strong></span>
	<ol>
			<li>							<li><a href="Auth.html">Auth</a></li>
							<li><a href="Auth_File.html">Auth_File</a></li>
							<li><a href="Auth_ORM.html">Auth_ORM</a></li>
							<li><a href="Model_Auth_Role.html">Model_Auth_Role</a></li>
							<li><a href="Model_Auth_User.html">Model_Auth_User</a></li>
							<li><a href="Model_Auth_User_Token.html">Model_Auth_User_Token</a></li>
							<li><a href="Model_Role.html">Model_Role</a></li>
							<li><a href="Model_User.html">Model_User</a></li>
							<li><a href="Model_User_Token.html">Model_User_Token</a></li>
								</li>
		</ol>
<li><span><strong>Kohana/Cache</strong></span>
	<ol>
			<li>							<li><a href="Cache.html">Cache</a></li>
							<li><a href="Cache_Apc.html">Cache_Apc</a></li>
							<li><a href="Cache_Arithmetic.html">Cache_Arithmetic</a></li>
							<li><a href="Cache_Exception.html">Cache_Exception</a></li>
							<li><a href="Cache_File.html">Cache_File</a></li>
							<li><a href="Cache_GarbageCollect.html">Cache_GarbageCollect</a></li>
							<li><a href="Cache_Memcache.html">Cache_Memcache</a></li>
							<li><a href="Cache_MemcacheTag.html">Cache_MemcacheTag</a></li>
							<li><a href="Cache_Sqlite.html">Cache_Sqlite</a></li>
							<li><a href="Cache_Tagging.html">Cache_Tagging</a></li>
							<li><a href="Cache_Wincache.html">Cache_Wincache</a></li>
								</li>
		</ol>
<li><span><strong>Kohana/Codebench</strong></span>
	<ol>
			<li>							<li><a href="Codebench.html">Codebench</a></li>
								</li>
			<li><span>Controllers</span>
			<ol>							<li><a href="Controller_Codebench.html">Controller_Codebench</a></li>
						</ol>		</li>
			<li><span>Tests</span>
			<ol>							<li><a href="Bench_ArrCallback.html">Bench_ArrCallback</a></li>
							<li><a href="Bench_AutoLinkEmails.html">Bench_AutoLinkEmails</a></li>
							<li><a href="Bench_DateSpan.html">Bench_DateSpan</a></li>
							<li><a href="Bench_ExplodeLimit.html">Bench_ExplodeLimit</a></li>
							<li><a href="http://kohanaframework.org/3.3/guide-api/Bench_GruberURL">Bench_GruberURL</a></li>
							<li><a href="Bench_LtrimDigits.html">Bench_LtrimDigits</a></li>
							<li><a href="Bench_MDDoBaseURL.html">Bench_MDDoBaseURL</a></li>
							<li><a href="Bench_MDDoImageURL.html">Bench_MDDoImageURL</a></li>
							<li><a href="Bench_MDDoIncludeViews.html">Bench_MDDoIncludeViews</a></li>
							<li><a href="Bench_StripNullBytes.html">Bench_StripNullBytes</a></li>
							<li><a href="http://kohanaframework.org/3.3/guide-api/Bench_Transliterate">Bench_Transliterate</a></li>
							<li><a href="Bench_URLSite.html">Bench_URLSite</a></li>
							<li><a href="Bench_UserFuncArray.html">Bench_UserFuncArray</a></li>
							<li><a href="http://kohanaframework.org/3.3/guide-api/Bench_ValidColor">Bench_ValidColor</a></li>
							<li><a href="http://kohanaframework.org/3.3/guide-api/Bench_ValidURL">Bench_ValidURL</a></li>
						</ol>		</li>
		</ol>
<li><span><strong>Kohana/Database</strong></span>
	<ol>
			<li>							<li><a href="DB.html">DB</a></li>
							<li><a href="Database.html">Database</a></li>
							<li><a href="Database_Expression.html">Database_Expression</a></li>
								</li>
			<li><span>Configuration</span>
			<ol>							<li><a href="Config_Database.html">Config_Database</a></li>
							<li><a href="Config_Database_Reader.html">Config_Database_Reader</a></li>
							<li><a href="Config_Database_Writer.html">Config_Database_Writer</a></li>
						</ol>		</li>
			<li><span>Drivers</span>
			<ol>							<li><a href="Database_MySQL.html">Database_MySQL</a></li>
							<li><a href="Database_PDO.html">Database_PDO</a></li>
						</ol>		</li>
			<li><span>Exceptions</span>
			<ol>							<li><a href="Database_Exception.html">Database_Exception</a></li>
						</ol>		</li>
			<li><span>Models</span>
			<ol>							<li><a href="Model_Database.html">Model_Database</a></li>
						</ol>		</li>
			<li><span>Query</span>
			<ol>							<li><a href="Database_Query.html">Database_Query</a></li>
							<li><a href="Database_Query_Builder.html">Database_Query_Builder</a></li>
							<li><a href="Database_Query_Builder_Delete.html">Database_Query_Builder_Delete</a></li>
							<li><a href="Database_Query_Builder_Insert.html">Database_Query_Builder_Insert</a></li>
							<li><a href="Database_Query_Builder_Join.html">Database_Query_Builder_Join</a></li>
							<li><a href="Database_Query_Builder_Select.html">Database_Query_Builder_Select</a></li>
							<li><a href="Database_Query_Builder_Update.html">Database_Query_Builder_Update</a></li>
							<li><a href="Database_Query_Builder_Where.html">Database_Query_Builder_Where</a></li>
						</ol>		</li>
			<li><span>Query/Result</span>
			<ol>							<li><a href="Database_MySQL_Result.html">Database_MySQL_Result</a></li>
							<li><a href="Database_Result.html">Database_Result</a></li>
							<li><a href="Database_Result_Cached.html">Database_Result_Cached</a></li>
						</ol>		</li>
			<li><span>Session</span>
			<ol>							<li><a href="Session_Database.html">Session_Database</a></li>
						</ol>		</li>
		</ol>
<li><span><strong>Kohana/Image</strong></span>
	<ol>
			<li>							<li><a href="Image.html">Image</a></li>
								</li>
			<li><span>Drivers</span>
			<ol>							<li><a href="Image_GD.html">Image_GD</a></li>
							<li><a href="Image_Imagick.html">Image_Imagick</a></li>
						</ol>		</li>
		</ol>
<li><span><strong>Kohana/ORM</strong></span>
	<ol>
			<li>							<li><a href="ORM.html">ORM</a></li>
							<li><a href="ORM_Validation_Exception.html">ORM_Validation_Exception</a></li>
								</li>
		</ol>
<li><span><strong>Kohana/UnitTest</strong></span>
	<ol>
			<li>							<li><a href="Unittest_Database_TestCase.html">Unittest_Database_TestCase</a></li>
							<li><a href="Unittest_Tests.html">Unittest_Tests</a></li>
								</li>
		</ol>
<li><span><strong>Kohana/Userguide</strong></span>
	<ol>
			<li>							<li><a href="Kodoc.html">Kodoc</a></li>
							<li><a href="Kodoc_Class.html">Kodoc_Class</a></li>
							<li><a href="Kodoc_Markdown.html">Kodoc_Markdown</a></li>
							<li><a href="Kodoc_Method.html">Kodoc_Method</a></li>
							<li><a href="Kodoc_Method_Param.html">Kodoc_Method_Param</a></li>
							<li><a href="Kodoc_Property.html">Kodoc_Property</a></li>
								</li>
			<li><span>Controllers</span>
			<ol>							<li><a href="Controller_Userguide.html">Controller_Userguide</a></li>
						</ol>		</li>
			<li><span>Undocumented</span>
			<ol>							<li><a href="Kodoc_Missing.html">Kodoc_Missing</a></li>
						</ol>		</li>
		</ol>
<li><span><strong>[Unknown]</strong></span>
	<ol>
			<li>							<li><a href="Minion_CLI.html">Minion_CLI</a></li>
							<li><a href="Minion_Task.html">Minion_Task</a></li>
							<li><a href="Unittest_Helpers.html">Unittest_Helpers</a></li>
							<li><a href="Unittest_TestCase.html">Unittest_TestCase</a></li>
							<li><a href="Unittest_TestSuite.html">Unittest_TestSuite</a></li>
								</li>
		</ol>
</ol>					</div>
				</div>
				<div id="kodoc-body" class="span-16 suffix-1 last">
					<h1>
	Response		<br/><small>extends <a href="Kohana_Response.html">Kohana_Response</a></small>
	</h1>

<p class="interfaces"><small>
Implements:
<a href="Kohana_HTTP_Response.html">Kohana_HTTP_Response</a> | <a href="Kohana_HTTP_Message.html">Kohana_HTTP_Message</a> | <a href="HTTP_Message.html">HTTP_Message</a> | <a href="HTTP_Response.html">HTTP_Response</a></small>
</p>


<p>Response wrapper. Created as the result of any <a href="Request.html">Request</a> execution
or utility method (i.e. Redirect). Implements standard HTTP
response format.</p>

<dl class="tags">
<dt>package</dt>
<dd>Kohana</dd>
<dt>category</dt>
<dd>Base</dd>
<dt>author</dt>
<dd>Kohana Team</dd>
<dt>copyright</dt>
<dd>&copy; 2008-2012 Kohana Team</dd>
<dt>license</dt>
<dd><a href="http://kohanaphp.com/license">http://kohanaphp.com/license</a></dd>
<dt>since</dt>
<dd>3.1.0</dd>
</dl>

<p class="note">
Class declared in <tt>SYSPATH/classes/Response.php</tt> on line 3.
</p>

<div class="toc">
	<div class="constants">
		<h3>Constants</h3>
		<ul>
					<li><em>None</em></li>
				</ul>
	</div>
	<div class="properties">
		<h3>Properties</h3>
		<ul>
							<li><a href="Response.html#property:messages">$messages</a></li>
					<li><a href="Response.html#property:_body">$_body</a></li>
					<li><a href="Response.html#property:_cookies">$_cookies</a></li>
					<li><a href="Response.html#property:_header">$_header</a></li>
					<li><a href="Response.html#property:_protocol">$_protocol</a></li>
					<li><a href="Response.html#property:_status">$_status</a></li>
						</ul>
	</div>
	<div class="methods">
		<h3>Methods</h3>
		<ul>
							<li><a href="Response.html#__construct">__construct()</a></li>
					<li><a href="Response.html#__toString">__toString()</a></li>
					<li><a href="Response.html#body">body()</a></li>
					<li><a href="Response.html#content_length">content_length()</a></li>
					<li><a href="Response.html#cookie">cookie()</a></li>
					<li><a href="Response.html#delete_cookie">delete_cookie()</a></li>
					<li><a href="Response.html#delete_cookies">delete_cookies()</a></li>
					<li><a href="Response.html#factory">factory()</a></li>
					<li><a href="Response.html#generate_etag">generate_etag()</a></li>
					<li><a href="Response.html#headers">headers()</a></li>
					<li><a href="Response.html#protocol">protocol()</a></li>
					<li><a href="Response.html#render">render()</a></li>
					<li><a href="Response.html#send_file">send_file()</a></li>
					<li><a href="Response.html#send_headers">send_headers()</a></li>
					<li><a href="Response.html#status">status()</a></li>
					<li><a href="Response.html#_calculate_byte_range">_calculate_byte_range()</a></li>
					<li><a href="Response.html#_parse_byte_range">_parse_byte_range()</a></li>
						</ul>
	</div>
</div>

<div class="clearfix"></div>


<h1 id="properties">Properties</h1>
<div class="properties">
<dl>
<dt><h4 id="property:messages"><small>public static</small>  <code></code> $messages</h4></dt>
<dd></dd>
<dd><pre class="debug"><small>array</small><span>(41)</span> <span>(
    100 => <small>string</small><span>(8)</span> "Continue"
    101 => <small>string</small><span>(19)</span> "Switching Protocols"
    200 => <small>string</small><span>(2)</span> "OK"
    201 => <small>string</small><span>(7)</span> "Created"
    202 => <small>string</small><span>(8)</span> "Accepted"
    203 => <small>string</small><span>(29)</span> "Non-Authoritative Information"
    204 => <small>string</small><span>(10)</span> "No Content"
    205 => <small>string</small><span>(13)</span> "Reset Content"
    206 => <small>string</small><span>(15)</span> "Partial Content"
    300 => <small>string</small><span>(16)</span> "Multiple Choices"
    301 => <small>string</small><span>(17)</span> "Moved Permanently"
    302 => <small>string</small><span>(5)</span> "Found"
    303 => <small>string</small><span>(9)</span> "See Other"
    304 => <small>string</small><span>(12)</span> "Not Modified"
    305 => <small>string</small><span>(9)</span> "Use Proxy"
    307 => <small>string</small><span>(18)</span> "Temporary Redirect"
    400 => <small>string</small><span>(11)</span> "Bad Request"
    401 => <small>string</small><span>(12)</span> "Unauthorized"
    402 => <small>string</small><span>(16)</span> "Payment Required"
    403 => <small>string</small><span>(9)</span> "Forbidden"
    404 => <small>string</small><span>(9)</span> "Not Found"
    405 => <small>string</small><span>(18)</span> "Method Not Allowed"
    406 => <small>string</small><span>(14)</span> "Not Acceptable"
    407 => <small>string</small><span>(29)</span> "Proxy Authentication Required"
    408 => <small>string</small><span>(15)</span> "Request Timeout"
    409 => <small>string</small><span>(8)</span> "Conflict"
    410 => <small>string</small><span>(4)</span> "Gone"
    411 => <small>string</small><span>(15)</span> "Length Required"
    412 => <small>string</small><span>(19)</span> "Precondition Failed"
    413 => <small>string</small><span>(24)</span> "Request Entity Too Large"
    414 => <small>string</small><span>(20)</span> "Request-URI Too Long"
    415 => <small>string</small><span>(22)</span> "Unsupported Media Type"
    416 => <small>string</small><span>(31)</span> "Requested Range Not Satisfiable"
    417 => <small>string</small><span>(18)</span> "Expectation Failed"
    500 => <small>string</small><span>(21)</span> "Internal Server Error"
    501 => <small>string</small><span>(15)</span> "Not Implemented"
    502 => <small>string</small><span>(11)</span> "Bad Gateway"
    503 => <small>string</small><span>(19)</span> "Service Unavailable"
    504 => <small>string</small><span>(15)</span> "Gateway Timeout"
    505 => <small>string</small><span>(26)</span> "HTTP Version Not Supported"
    509 => <small>string</small><span>(24)</span> "Bandwidth Limit Exceeded"
)</span></pre></dd>
<dt><h4 id="property:_body"><small>protected</small>  <code>string</code> $_body</h4></dt>
<dd><p>The response body</p>
</dd>
<dd></dd>
<dd><small>Default value:</small><br/><pre class="debug"><small>string</small><span>(0)</span> ""</pre></dd>
<dt><h4 id="property:_cookies"><small>protected</small>  <code>array</code> $_cookies</h4></dt>
<dd><p>Cookies to be returned in the response</p>
</dd>
<dd></dd>
<dd><small>Default value:</small><br/><pre class="debug"><small>array</small><span>(0)</span> </pre></dd>
<dt><h4 id="property:_header"><small>protected</small>  <code>HTTP_Header</code> $_header</h4></dt>
<dd><p>Headers returned in the response</p>
</dd>
<dd></dd>
<dd><small>Default value:</small><br/><pre class="debug"><small>NULL</small></pre></dd>
<dt><h4 id="property:_protocol"><small>protected</small>  <code>string</code> $_protocol</h4></dt>
<dd><p>The response protocol</p>
</dd>
<dd></dd>
<dd><small>Default value:</small><br/><pre class="debug"><small>NULL</small></pre></dd>
<dt><h4 id="property:_status"><small>protected</small>  <code>integer</code> $_status</h4></dt>
<dd><p>The response http status</p>
</dd>
<dd></dd>
<dd><small>Default value:</small><br/><pre class="debug"><small>integer</small> 200</pre></dd>
</dl>
</div>

<h1 id="methods">Methods</h1>
<div class="methods">
<div class="method">

<h3 id="__construct">
	<small>public</small> __construct( [ <small>array</small> <span class="param" title="Setup the response object">$config</span> <small>= <small>array</small><span>(0)</span> </small> ] )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Sets up the response object</p>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>array</code>
<strong>$config</strong>
<small> = <small>array</small><span>(0)</span> </small> - Setup the response object</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>void</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function __construct(array $config = array())
{
	$this-&gt;_header = new HTTP_Header;

	foreach ($config as $key =&gt; $value)
	{
		if (property_exists($this, $key))
		{
			if ($key == &#039;_header&#039;)
			{
				$this-&gt;headers($value);
			}
			else
			{
				$this-&gt;$key = $value;
			}
		}
	}
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="__toString">
	<small>public</small> __toString( )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Outputs the body when cast to string</p>
</div>



<h4>Return Values</h4>
<ul class="return">
<li><code>string</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function __toString()
{
	return $this-&gt;_body;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="body">
	<small>public</small> body( )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Gets or sets the body of the response</p>
</div>



<h4>Return Values</h4>
<ul class="return">
<li><code>mixed</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function body($content = NULL)
{
	if ($content === NULL)
		return $this-&gt;_body;

	$this-&gt;_body = (string) $content;
	return $this;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="content_length">
	<small>public</small> content_length( )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Returns the length of the body for use with
content header</p>
</div>



<h4>Return Values</h4>
<ul class="return">
<li><code>integer</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function content_length()
{
	return strlen($this-&gt;body());
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="cookie">
	<small>public</small> cookie( [ <small>mixed</small> <span class="param" title="Cookie name, or array of cookie values">$key</span> <small>= <small>NULL</small></small> , <small>string</small> <span class="param" title="Value to set to cookie">$value</span> <small>= <small>NULL</small></small> ] )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Set and get cookies values for this response.</p>

<pre><code>// Get the cookies set to the response
$cookies = $response-&gt;cookie();

// Set a cookie to the response
$response-&gt;cookie('session', array(
     'value' =&gt; $value,
     'expiration' =&gt; 12352234
));
</code></pre>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>mixed</code>
<strong>$key</strong>
<small> = <small>NULL</small></small> - Cookie name, or array of cookie values</li>
<li>
<code>string</code>
<strong>$value</strong>
<small> = <small>NULL</small></small> - Value to set to cookie</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>string</code></li>
<li><code>void</code></li>
<li><code>[Response]</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function cookie($key = NULL, $value = NULL)
{
	// Handle the get cookie calls
	if ($key === NULL)
		return $this-&gt;_cookies;
	elseif ( ! is_array($key) AND ! $value)
		return Arr::get($this-&gt;_cookies, $key);

	// Handle the set cookie calls
	if (is_array($key))
	{
		reset($key);
		while (list($_key, $_value) = each($key))
		{
			$this-&gt;cookie($_key, $_value);
		}
	}
	else
	{
		if ( ! is_array($value))
		{
			$value = array(
				&#039;value&#039; =&gt; $value,
				&#039;expiration&#039; =&gt; Cookie::$expiration
			);
		}
		elseif ( ! isset($value[&#039;expiration&#039;]))
		{
			$value[&#039;expiration&#039;] = Cookie::$expiration;
		}

		$this-&gt;_cookies[$key] = $value;
	}

	return $this;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="delete_cookie">
	<small>public</small> delete_cookie( <small>string</small> <span class="param" title="$name">$name</span> )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Deletes a cookie set to the response</p>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$name</strong>
<small>required</small> - $name</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>Response</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function delete_cookie($name)
{
	unset($this-&gt;_cookies[$name]);
	return $this;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="delete_cookies">
	<small>public</small> delete_cookies( )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Deletes all cookies from this response</p>
</div>



<h4>Return Values</h4>
<ul class="return">
<li><code>Response</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function delete_cookies()
{
	$this-&gt;_cookies = array();
	return $this;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="factory">
	<small>public static</small> factory( [ <small>array</small> <span class="param" title="Setup the response object">$config</span> <small>= <small>array</small><span>(0)</span> </small> ] )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Factory method to create a new <a href="Response.html">Response</a>. Pass properties
in using an associative array.</p>

<pre><code> // Create a new response
 $response = Response::factory();

 // Create a new response with headers
 $response = Response::factory(array('status' =&gt; 200));
</code></pre>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>array</code>
<strong>$config</strong>
<small> = <small>array</small><span>(0)</span> </small> - Setup the response object</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>Response</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public static function factory(array $config = array())
{
	return new Response($config);
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="generate_etag">
	<small>public</small> generate_etag( )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Generate ETag
Generates an ETag from the response ready to be returned</p>
</div>


<h4>Tags</h4>
<ul class="tags">
<li>Throws - <a href="Request_Exception.html">Request_Exception</a></ul>
<h4>Return Values</h4>
<ul class="return">
<li><code>String</code> - Generated ETag</li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function generate_etag()
{
    if ($this-&gt;_body === &#039;&#039;)
	{
		throw new Request_Exception(&#039;No response yet associated with request - cannot auto generate resource ETag&#039;);
	}

	// Generate a unique hash for the response
	return &#039;&quot;&#039;.sha1($this-&gt;render()).&#039;&quot;&#039;;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="headers">
	<small>public</small> headers( [ <small>mixed</small> <span class="param" title="$key">$key</span> <small>= <small>NULL</small></small> , <small>string</small> <span class="param" title="$value">$value</span> <small>= <small>NULL</small></small> ] )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Gets and sets headers to the <a href="Response.html">Response</a>, allowing chaining
of response methods. If chaining isn't required, direct
access to the property should be used instead.</p>

<pre><code>  // Get a header
  $accept = $response-&gt;headers('Content-Type');

  // Set a header
  $response-&gt;headers('Content-Type', 'text/html');

  // Get all headers
  $headers = $response-&gt;headers();

  // Set multiple headers
  $response-&gt;headers(array('Content-Type' =&gt; 'text/html', 'Cache-Control' =&gt; 'no-cache'));
</code></pre>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>mixed</code>
<strong>$key</strong>
<small> = <small>NULL</small></small> - $key</li>
<li>
<code>string</code>
<strong>$value</strong>
<small> = <small>NULL</small></small> - $value</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>mixed</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function headers($key = NULL, $value = NULL)
{
	if ($key === NULL)
	{
		return $this-&gt;_header;
	}
	elseif (is_array($key))
	{
		$this-&gt;_header-&gt;exchangeArray($key);
		return $this;
	}
	elseif ($value === NULL)
	{
		return Arr::get($this-&gt;_header, $key);
	}
	else
	{
		$this-&gt;_header[$key] = $value;
		return $this;
	}
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="protocol">
	<small>public</small> protocol( [ <small>string</small> <span class="param" title="Protocol to set to the request/response">$protocol</span> <small>= <small>NULL</small></small> ] )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Gets or sets the HTTP protocol. The standard protocol to use
is <code>HTTP/1.1</code>.</p>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$protocol</strong>
<small> = <small>NULL</small></small> - Protocol to set to the request/response</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>mixed</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function protocol($protocol = NULL)
{
	if ($protocol)
	{
		$this-&gt;_protocol = strtoupper($protocol);
		return $this;
	}

	if ($this-&gt;_protocol === NULL)
	{
		$this-&gt;_protocol = HTTP::$protocol;
	}

	return $this-&gt;_protocol;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="render">
	<small>public</small> render( )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Renders the HTTP_Interaction to a string, producing</p>

<ul>
<li>Protocol</li>
<li>Headers</li>
<li>Body</li>
</ul>
</div>



<h4>Return Values</h4>
<ul class="return">
<li><code>string</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function render()
{
	if ( ! $this-&gt;_header-&gt;offsetExists(&#039;content-type&#039;))
	{
		// Add the default Content-Type header if required
		$this-&gt;_header[&#039;content-type&#039;] = Kohana::$content_type.&#039;; charset=&#039;.Kohana::$charset;
	}

	// Set the content length
	$this-&gt;headers(&#039;content-length&#039;, (string) $this-&gt;content_length());

	// If Kohana expose, set the user-agent
	if (Kohana::$expose)
	{
		$this-&gt;headers(&#039;user-agent&#039;, Kohana::version());
	}

	// Prepare cookies
	if ($this-&gt;_cookies)
	{
		if (extension_loaded(&#039;http&#039;))
		{
			$this-&gt;_header[&#039;set-cookie&#039;] = http_build_cookie($this-&gt;_cookies);
		}
		else
		{
			$cookies = array();

			// Parse each
			foreach ($this-&gt;_cookies as $key =&gt; $value)
			{
				$string = $key.&#039;=&#039;.$value[&#039;value&#039;].&#039;; expires=&#039;.date(&#039;l, d M Y H:i:s T&#039;, $value[&#039;expiration&#039;]);
				$cookies[] = $string;
			}

			// Create the cookie string
			$this-&gt;_header[&#039;set-cookie&#039;] = $cookies;
		}
	}

	$output = $this-&gt;_protocol.&#039; &#039;.$this-&gt;_status.&#039; &#039;.Response::$messages[$this-&gt;_status].&quot;\r\n&quot;;
	$output .= (string) $this-&gt;_header;
	$output .= $this-&gt;_body;

	return $output;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="send_file">
	<small>public</small> send_file( <small>string</small> <span class="param" title="Filename with path, or TRUE for the current response">$filename</span> [, <small>string</small> <span class="param" title="Downloaded file name">$download</span> <small>= <small>NULL</small></small> , <small>array</small> <span class="param" title="Additional options">$options</span> <small>= <small>NULL</small></small> ] )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Send file download as the response. All execution will be halted when
this method is called! Use TRUE for the filename to send the current
response as the file content. The third parameter allows the following
options to be set:</p>

<table>
<thead>
<tr>
  <th>Type</th>
  <th>Option</th>
  <th>Description</th>
  <th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>boolean</code></td>
  <td>inline</td>
  <td>Display inline instead of download</td>
  <td><code>FALSE</code></td>
</tr>
<tr>
  <td><code>string</code></td>
  <td>mime_type</td>
  <td>Manual mime type</td>
  <td>Automatic</td>
</tr>
<tr>
  <td><code>boolean</code></td>
  <td>delete</td>
  <td>Delete the file after sending</td>
  <td><code>FALSE</code></td>
</tr>
</tbody>
</table>

<p>Download a file that already exists:</p>

<pre><code>$request-&gt;send_file('media/packages/kohana.zip');
</code></pre>

<p>Download generated content as a file:</p>

<pre><code>$request-&gt;response($content);
$request-&gt;send_file(TRUE, $filename);
</code></pre>

<p class="note">No further processing can be done after this method is called!</p>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>string</code>
<strong>$filename</strong>
<small>required</small> - Filename with path, or TRUE for the current response</li>
<li>
<code>string</code>
<strong>$download</strong>
<small> = <small>NULL</small></small> - Downloaded file name</li>
<li>
<code>array</code>
<strong>$options</strong>
<small> = <small>NULL</small></small> - Additional options</li>
</ul>

<h4>Tags</h4>
<ul class="tags">
<li>Throws - <a href="Kohana_Exception.html">Kohana_Exception</a><li>Uses - <a href="File.html#mime_by_ext">File::mime_by_ext</a>, <a href="File.html#mime">File::mime</a>, <a href="Request.html#send_headers">Request::send_headers</a></ul>
<h4>Return Values</h4>
<ul class="return">
<li><code>void</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function send_file($filename, $download = NULL, array $options = NULL)
{
	if ( ! empty($options[&#039;mime_type&#039;]))
	{
		// The mime-type has been manually set
		$mime = $options[&#039;mime_type&#039;];
	}

	if ($filename === TRUE)
	{
		if (empty($download))
		{
			throw new Kohana_Exception(&#039;Download name must be provided for streaming files&#039;);
		}

		// Temporary files will automatically be deleted
		$options[&#039;delete&#039;] = FALSE;

		if ( ! isset($mime))
		{
			// Guess the mime using the file extension
			$mime = File::mime_by_ext(strtolower(pathinfo($download, PATHINFO_EXTENSION)));
		}

		// Force the data to be rendered if
		$file_data = (string) $this-&gt;_body;

		// Get the content size
		$size = strlen($file_data);

		// Create a temporary file to hold the current response
		$file = tmpfile();

		// Write the current response into the file
		fwrite($file, $file_data);

		// File data is no longer needed
		unset($file_data);
	}
	else
	{
		// Get the complete file path
		$filename = realpath($filename);

		if (empty($download))
		{
			// Use the file name as the download file name
			$download = pathinfo($filename, PATHINFO_BASENAME);
		}

		// Get the file size
		$size = filesize($filename);

		if ( ! isset($mime))
		{
			// Get the mime type from the extension of the download file
			$mime = File::mime_by_ext(pathinfo($download, PATHINFO_EXTENSION));
		}

		// Open the file for reading
		$file = fopen($filename, &#039;rb&#039;);
	}

	if ( ! is_resource($file))
	{
		throw new Kohana_Exception(&#039;Could not read file to send: :file&#039;, array(
			&#039;:file&#039; =&gt; $download,
		));
	}

	// Inline or download?
	$disposition = empty($options[&#039;inline&#039;]) ? &#039;attachment&#039; : &#039;inline&#039;;

	// Calculate byte range to download.
	list($start, $end) = $this-&gt;_calculate_byte_range($size);

	if ( ! empty($options[&#039;resumable&#039;]))
	{
		if ($start &gt; 0 OR $end &lt; ($size - 1))
		{
			// Partial Content
			$this-&gt;_status = 206;
		}

		// Range of bytes being sent
		$this-&gt;_header[&#039;content-range&#039;] = &#039;bytes &#039;.$start.&#039;-&#039;.$end.&#039;/&#039;.$size;
		$this-&gt;_header[&#039;accept-ranges&#039;] = &#039;bytes&#039;;
	}

	// Set the headers for a download
	$this-&gt;_header[&#039;content-disposition&#039;] = $disposition.&#039;; filename=&quot;&#039;.$download.&#039;&quot;&#039;;
	$this-&gt;_header[&#039;content-type&#039;]        = $mime;
	$this-&gt;_header[&#039;content-length&#039;]      = (string) (($end - $start) + 1);

	if (Request::user_agent(&#039;browser&#039;) === &#039;Internet Explorer&#039;)
	{
		// Naturally, IE does not act like a real browser...
		if (Request::$initial-&gt;secure())
		{
			// http://support.microsoft.com/kb/316431
			$this-&gt;_header[&#039;pragma&#039;] = $this-&gt;_header[&#039;cache-control&#039;] = &#039;public&#039;;
		}

		if (version_compare(Request::user_agent(&#039;version&#039;), &#039;8.0&#039;, &#039;&gt;=&#039;))
		{
			// http://ajaxian.com/archives/ie-8-security
			$this-&gt;_header[&#039;x-content-type-options&#039;] = &#039;nosniff&#039;;
		}
	}

	// Send all headers now
	$this-&gt;send_headers();

	while (ob_get_level())
	{
		// Flush all output buffers
		ob_end_flush();
	}

	// Manually stop execution
	ignore_user_abort(TRUE);

	if ( ! Kohana::$safe_mode)
	{
		// Keep the script running forever
		set_time_limit(0);
	}

	// Send data in 16kb blocks
	$block = 1024 * 16;

	fseek($file, $start);

	while ( ! feof($file) AND ($pos = ftell($file)) &lt;= $end)
	{
		if (connection_aborted())
			break;

		if ($pos + $block &gt; $end)
		{
			// Don&#039;t read past the buffer.
			$block = $end - $pos + 1;
		}

		// Output a block of the file
		echo fread($file, $block);

		// Send the data now
		flush();
	}

	// Close the file
	fclose($file);

	if ( ! empty($options[&#039;delete&#039;]))
	{
		try
		{
			// Attempt to remove the file
			unlink($filename);
		}
		catch (Exception $e)
		{
			// Create a text version of the exception
			$error = Kohana_Exception::text($e);

			if (is_object(Kohana::$log))
			{
				// Add this exception to the log
				Kohana::$log-&gt;add(Log::ERROR, $error);

				// Make sure the logs are written
				Kohana::$log-&gt;write();
			}

			// Do NOT display the exception, it will corrupt the output!
		}
	}

	// Stop execution
	exit;
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="send_headers">
	<small>public</small> send_headers( [ <small>boolean</small> <span class="param" title="Replace existing headers">$replace</span> <small>= <small>bool</small> FALSE</small> , <small>callback</small> <span class="param" title="Function to handle header output">$callback</span> <small>= <small>NULL</small></small> ] )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Sends the response status and all set headers.</p>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>boolean</code>
<strong>$replace</strong>
<small> = <small>bool</small> FALSE</small> - Replace existing headers</li>
<li>
<code>callback</code>
<strong>$callback</strong>
<small> = <small>NULL</small></small> - Function to handle header output</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>mixed</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function send_headers($replace = FALSE, $callback = NULL)
{
	return $this-&gt;_header-&gt;send_headers($this, $replace, $callback);
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="status">
	<small>public</small> status( [ <small>integer</small> <span class="param" title="Status to set to this response">$status</span> <small>= <small>NULL</small></small> ] )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Sets or gets the HTTP status from this response.</p>

<pre><code> // Set the HTTP status to 404 Not Found
 $response = Response::factory()
         -&gt;status(404);

 // Get the current status
 $status = $response-&gt;status();
</code></pre>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>integer</code>
<strong>$status</strong>
<small> = <small>NULL</small></small> - Status to set to this response</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>mixed</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>public function status($status = NULL)
{
	if ($status === NULL)
	{
		return $this-&gt;_status;
	}
	elseif (array_key_exists($status, Response::$messages))
	{
		$this-&gt;_status = (int) $status;
		return $this;
	}
	else
	{
		throw new Kohana_Exception(__METHOD__.&#039; unknown status value : :value&#039;, array(&#039;:value&#039; =&gt; $status));
	}
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="_calculate_byte_range">
	<small>protected</small> _calculate_byte_range( <small>integer</small> <span class="param" title="$size">$size</span> )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Calculates the byte range to use with send_file. If HTTP_RANGE doesn't
exist then the complete byte range is returned</p>
</div>

<h4>Parameters</h4>
<ul>
<li>
<code>integer</code>
<strong>$size</strong>
<small>required</small> - $size</li>
</ul>


<h4>Return Values</h4>
<ul class="return">
<li><code>array</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>protected function _calculate_byte_range($size)
{
	// Defaults to start with when the HTTP_RANGE header doesn&#039;t exist.
	$start = 0;
	$end = $size - 1;

	if ($range = $this-&gt;_parse_byte_range())
	{
		// We have a byte range from HTTP_RANGE
		$start = $range[1];

		if ($start[0] === &#039;-&#039;)
		{
			// A negative value means we start from the end, so -500 would be the
			// last 500 bytes.
			$start = $size - abs($start);
		}

		if (isset($range[2]))
		{
			// Set the end range
			$end = $range[2];
		}
	}

	// Normalize values.
	$start = abs(intval($start));

	// Keep the the end value in bounds and normalize it.
	$end = min(abs(intval($end)), $size - 1);

	// Keep the start in bounds.
	$start = ($end &lt; $start) ? 0 : max($start, 0);

	return array($start, $end);
}</code></pre>
</div>

</div>
<div class="method">

<h3 id="_parse_byte_range">
	<small>protected</small> _parse_byte_range( )
	<small>(defined in <a href="Kohana_Response.html">Kohana_Response</a>)</small>
</h3>

<div class="description">
<p>Parse the byte ranges from the HTTP_RANGE header used for
resumable downloads.</p>
</div>


<h4>Tags</h4>
<ul class="tags">
<li>Link - <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35">http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35</a></ul>
<h4>Return Values</h4>
<ul class="return">
<li><code>array|FALSE</code></li>
</ul>

<div class="method-source">
<h4>Source Code</h4>
<pre><code>protected function _parse_byte_range()
{
	if ( ! isset($_SERVER[&#039;HTTP_RANGE&#039;]))
	{
		return FALSE;
	}

	// TODO, speed this up with the use of string functions.
	preg_match_all(&#039;/(-?[0-9]++(?:-(?![0-9]++))?)(?:-?([0-9]++))?/&#039;, $_SERVER[&#039;HTTP_RANGE&#039;], $matches, PREG_SET_ORDER);

	return $matches[0];
}</code></pre>
</div>

</div>
</div>

									</div>
			</div>
		</div>
	</div>

	<div id="kodoc-footer">
		<div class="container">
			<div class="span-12">
							&nbsp;
						</div>
			<div class="span-12 last right">
			<p>Powered by <a href="http://kohanaframework.org/">Kohana</a> v3.3.1</p>
			</div>
		</div>
	</div>

</body>
</html>
