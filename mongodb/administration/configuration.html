<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head><title>Run-time Database Configuration &mdash; MongoDB Manual 2.4.3</title><link rel="shortcut icon" href="http://media.mongodb.org/favicon.ico" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="robots" content="index" />
  <meta name="release" content="2.4.3"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/master/source/administration/configuration.txt"/>
      <link rel="canonical" href="http://docs.mongodb.org/manual/administration/configuration" />
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css" />
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      
   <script type="text/javascript">
     var DOCUMENTATION_OPTIONS = {
         URL_ROOT:    '../',
         VERSION:     '2.4',
         COLLAPSE_INDEX: false,
         FILE_SUFFIX: '.html',
         HAS_SOURCE:  false,
     };
   </script>
       <script type="text/javascript" src="../_static/jquery.js"></script>
       <script type="text/javascript" src="../_static/underscore.js"></script>
       <script type="text/javascript" src="../_static/doctools.js"></script>
          <link rel="search" type="application/opensearchdescription+xml" href="http://docs.mongodb.org/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html" />
<link rel="top" title="MongoDB Manual" href="../index.html" />
<link rel="up" title="Administration" href="../administration.html" />
<link rel="next" title="Backup and Recovery Operations for MongoDB" href="backups.html" />
<link rel="prev" title="Administration" href="../administration.html" />
          <script>
            (function() {
               var cx = '017213726194841070573:WMX6838984';
               var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
               gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;
               var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
            })();
          </script></head>
<body>
      <div id="header-db" class="spread">
        <div class="split">
          <div id="logo">
            <div><a href="http://www.mongodb.org/"><img class="logo" src="http://media.mongodb.org/logo-mongodb.png" alt="MongoDB Logo"/></a></div>
          </div>
        </div>
      </div>  
      <div class="document">
           <div class="documentwrapper"><div class="bodywrapper">
               <div class="body">
                 
    <div class="bc">
      <ul>
          <li><a href="../administration.html">Administration</a><span class="bcpoint"> > </span></li>
          <li>Run-time Database Configuration</li> 
      </ul>
    </div>
                 <div id="cse-results">
                   <gcse:searchresults linkTarget="_top"></gcse:searchresults>
                 </div>
                 
  <div class="section" id="run-time-database-configuration">
<span id="configuration-file"></span><h1>Run-time Database Configuration<a class="headerlink" href="#run-time-database-configuration" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="../reference/program/mongod.html"><em>command line</em></a> and <a class="reference internal" href="../reference/configuration-options.html"><em>configuration
file</em></a> interfaces provide MongoDB
administrators with a large number of options and settings for
controlling the operation of the database system. This document
provides an overview of common configurations and examples of
best-practice configurations for common use cases.</p>
<p>While both interfaces provide access to the same collection of options
and settings, this document primarily uses the configuration file
interface. If you run MongoDB using a control script or installed from
a package for your operating system, you likely already have a
configuration file located at <tt class="docutils literal"><span class="pre">/etc/mongodb.conf</span></tt>. Confirm this by
checking the content of the <tt class="docutils literal"><span class="pre">/etc/init.d/mongod</span></tt> or
<tt class="docutils literal"><span class="pre">/etc/rc.d/mongod</span></tt> script to insure that the <a class="reference internal" href="../reference/glossary.html#term-100"><em class="xref std std-term">control scripts</em></a> start the <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> with the appropriate
configuration file (see below.)</p>
<p>To start MongoDB instance using this configuration issue a command in
the following form:</p>
<div class="highlight-sh"><div class="highlight"><pre>mongod --config /etc/mongodb.conf
mongod -f /etc/mongodb.conf
</pre></div>
</div>
<p>Modify the values in the <tt class="docutils literal"><span class="pre">/etc/mongodb.conf</span></tt> file on your system to
control the configuration of your database instance.</p>
<div class="section" id="configure-the-database">
<span id="base-config"></span><h2>Configure the Database<a class="headerlink" href="#configure-the-database" title="Permalink to this headline">¶</a></h2>
<p>Consider the following basic configuration:</p>
<div class="highlight-cfg"><div class="highlight"><pre><span class="na">fork</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">bind_ip</span> <span class="o">=</span> <span class="s">127.0.0.1</span>
<span class="na">port</span> <span class="o">=</span> <span class="s">27017</span>
<span class="na">quiet</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">dbpath</span> <span class="o">=</span> <span class="s">/srv/mongodb</span>
<span class="na">logpath</span> <span class="o">=</span> <span class="s">/var/log/mongodb/mongod.log</span>
<span class="na">logappend</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">journal</span> <span class="o">=</span> <span class="s">true</span>
</pre></div>
</div>
<p>For most standalone servers, this is a sufficient base
configuration. It makes several assumptions, but consider the
following explanation:</p>
<ul>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#fork" title="fork"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">fork</span></tt></a> is <tt class="docutils literal"><span class="pre">true</span></tt>, which enables a
<a class="reference internal" href="../reference/glossary.html#term-daemon"><em class="xref std std-term">daemon</em></a> mode for <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a>, which detaches (i.e. &#8220;forks&#8221;)
the MongoDB from the current session and allows you to run the
database as a conventional server.</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#bind_ip" title="bind_ip"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">bind_ip</span></tt></a> is <tt class="docutils literal"><span class="pre">127.0.0.1</span></tt>, which forces the
server to only listen for requests on the localhost IP. Only bind to
secure interfaces that the application-level systems can access with
access control provided by system network filtering
(i.e. &#8220;<a class="reference internal" href="../reference/glossary.html#term-firewall"><em class="xref std std-term">firewall</em></a>&#8221;).</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#port" title="port"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">port</span></tt></a> is <tt class="docutils literal"><span class="pre">27017</span></tt>, which is the default
MongoDB port for database instances. MongoDB can bind to any
port. You can also filter access based on port using network
filtering tools.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">UNIX-like systems require superuser privileges to attach processes
to ports lower than 1024.</p>
</div>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#quiet" title="quiet"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">quiet</span></tt></a> is <tt class="docutils literal"><span class="pre">true</span></tt>. This disables all but
the most critical entries in output/log file. In normal operation
this is the preferable operation to avoid log noise. In diagnostic
or testing situations, set this value to <tt class="docutils literal"><span class="pre">false</span></tt>. Use
<a class="reference internal" href="../reference/command/setParameter.html#dbcmd.setParameter" title="setParameter"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">setParameter</span></tt></a> to modify this setting during
run time.</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#dbpath" title="dbpath"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">dbpath</span></tt></a> is <tt class="docutils literal"><span class="pre">/srv/mongodb</span></tt>, which
specifies where MongoDB will store its data files. <tt class="docutils literal"><span class="pre">/srv/mongodb</span></tt>
and <tt class="docutils literal"><span class="pre">/var/lib/mongodb</span></tt> are popular locations. The user account
that <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> runs under will need read and write access to this
directory.</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#logpath" title="logpath"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">logpath</span></tt></a> is <tt class="docutils literal"><span class="pre">/var/log/mongodb/mongod.log</span></tt>
which is where <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> will write its output. If you do not set
this value, <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> writes all output to standard output
(e.g. <tt class="docutils literal"><span class="pre">stdout</span></tt>.)</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#logappend" title="logappend"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">logappend</span></tt></a> is <tt class="docutils literal"><span class="pre">true</span></tt>, which ensures that
<a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> does not overwrite an existing log file
following the server start operation.</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#journal" title="journal"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">journal</span></tt></a> is <tt class="docutils literal"><span class="pre">true</span></tt>, which enables <a class="reference internal" href="../reference/glossary.html#term-journal"><em class="xref std std-term">journaling</em></a>.
Journaling ensures single instance write-durability. 64-bit builds
of <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> enable journaling by default. Thus, this
setting may be redundant.</p>
</li>
</ul>
<p>Given the default configuration, some of these values may be
redundant. However, in many situations explicitly stating the
configuration increases overall system intelligibility.</p>
</div>
<div class="section" id="security-considerations">
<span id="configuration-security"></span><h2>Security Considerations<a class="headerlink" href="#security-considerations" title="Permalink to this headline">¶</a></h2>
<p>The following collection of configuration options are useful for
limiting access to a <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance. Consider the
following:</p>
<div class="highlight-cfg"><div class="highlight"><pre><span class="na">bind_ip</span> <span class="o">=</span> <span class="s">127.0.0.1,10.8.0.10,192.168.4.24</span>
<span class="na">nounixsocket</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">auth</span> <span class="o">=</span> <span class="s">true</span>
</pre></div>
</div>
<p>Consider the following explanation for these configuration decisions:</p>
<ul>
<li><p class="first">&#8220;<a class="reference internal" href="../reference/configuration-options.html#bind_ip" title="bind_ip"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">bind_ip</span></tt></a>&#8221; has three values: <tt class="docutils literal"><span class="pre">127.0.0.1</span></tt>, the localhost
interface; <tt class="docutils literal"><span class="pre">10.8.0.10</span></tt>, a private IP address typically used for
local networks and VPN interfaces; and <tt class="docutils literal"><span class="pre">192.168.4.24</span></tt>, a private
network interface typically used for local networks.</p>
<p>Because production MongoDB instances need to be accessible from
multiple database servers, it is important to bind MongoDB to
multiple interfaces that are accessible from your application
servers. At the same time it&#8217;s important to limit these interfaces
to interfaces controlled and protected at the network layer.</p>
</li>
<li><p class="first">&#8220;<a class="reference internal" href="../reference/configuration-options.html#nounixsocket" title="nounixsocket"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">nounixsocket</span></tt></a>&#8221; to <tt class="docutils literal"><span class="pre">true</span></tt> disables the
UNIX Socket, which is otherwise enabled by default. This limits
access on the local system. This is desirable when running MongoDB
on systems with shared access, but in most situations has minimal impact.</p>
</li>
<li><p class="first">&#8220;<a class="reference internal" href="../reference/configuration-options.html#auth" title="auth"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">auth</span></tt></a>&#8221; is <tt class="docutils literal"><span class="pre">true</span></tt> enables the authentication
system within MongoDB. If enabled you will need to log in by
connecting over the <tt class="docutils literal"><span class="pre">localhost</span></tt> interface for the first time to
create user credentials.</p>
</li>
</ul>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../core/security.html"><em>Security Practices and Management</em></a></p>
</div>
</div>
<div class="section" id="replication-and-sharding-configuration">
<h2>Replication and Sharding Configuration<a class="headerlink" href="#replication-and-sharding-configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="replication-configuration">
<h3>Replication Configuration<a class="headerlink" href="#replication-configuration" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">Replica set</em></a> configuration is straightforward, and only
requires that the <a class="reference internal" href="../reference/configuration-options.html#replSet" title="replSet"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">replSet</span></tt></a> have a value that is consistent
among all members of the set. Consider the following:</p>
<div class="highlight-cfg"><div class="highlight"><pre><span class="na">replSet</span> <span class="o">=</span> <span class="s">set0</span>
</pre></div>
</div>
<p>Use descriptive names for sets. Once configured use the
<a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell to add hosts to the replica set.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../reference/replica-configuration.html#replica-set-reconfiguration-usage"><em>Replica set reconfiguration</em></a>.</p>
</div>
<p>To enable authentication for the <a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a>, add the
following option:</p>
<div class="highlight-cfg"><div class="highlight"><pre><span class="na">keyFile</span> <span class="o">=</span> <span class="s">/srv/mongodb/keyfile</span>
</pre></div>
</div>
<p class="versionadded">
<span class="versionmodified">New in version 1.8: </span>for replica sets, and 1.9.1 for sharded replica sets.<p>Setting <a class="reference internal" href="../reference/configuration-options.html#keyFile" title="keyFile"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">keyFile</span></tt></a> enables authentication and specifies a key
file for the replica set member use to when authenticating to each
other. The content of the key file is arbitrary, but must be the same
on all members of the <a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> and <a class="reference internal" href="../reference/program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a>
instances that connect to the set. The keyfile must be less than one
kilobyte in size and may only contain characters in the base64 set and
the file must not have group or &#8220;world&#8221; permissions on UNIX systems.</p>
</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p>The &#8220;<a class="reference internal" href="../reference/replica-configuration.html#replica-set-reconfiguration-usage"><em>Replica set Reconfiguration</em></a>&#8221; section for information regarding
the process for changing replica set during operation.</p>
<p>Additionally, consider the &#8220;<a class="reference internal" href="../core/replication.html#replica-set-security"><em>Replica Set Security</em></a>&#8221; section for information on configuring
authentication with replica sets.</p>
<p class="last">Finally, see the &#8220;<a class="reference internal" href="../replication.html"><em>Replication</em></a>&#8221; index and the
&#8220;<a class="reference internal" href="../core/replication.html"><em>Replica Set Fundamental Concepts</em></a>&#8221; document for more information on
replication in MongoDB and replica set configuration in general.</p>
</div>
</div>
<div class="section" id="sharding-configuration">
<h3>Sharding Configuration<a class="headerlink" href="#sharding-configuration" title="Permalink to this headline">¶</a></h3>
<p>Sharding requires a number of <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instances with
different configurations. The config servers store the cluster&#8217;s
metadata, while the cluster distributes data among one or more shard
servers.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="../reference/glossary.html#term-config-database"><em class="xref std std-term">Config servers</em></a> are not <a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">replica
sets</em></a>.</p>
</div>
<p>To set up one or three &#8220;config server&#8221; instances as <a class="reference internal" href="#base-config"><em>normal</em></a> <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instances, and then add the following
configuration option:</p>
<div class="highlight-cfg"><div class="highlight"><pre><span class="na">configsvr</span> <span class="o">=</span> <span class="s">true</span>

<span class="na">bind_ip</span> <span class="o">=</span> <span class="s">10.8.0.12</span>
<span class="na">port</span> <span class="o">=</span> <span class="s">27001</span>
</pre></div>
</div>
<p>This creates a config server running on the private IP address
<tt class="docutils literal"><span class="pre">10.8.0.12</span></tt> on port <tt class="docutils literal"><span class="pre">27001</span></tt>. Make sure that there are no port
conflicts, and that your config server is accessible from all of your
&#8220;<a class="reference internal" href="../reference/program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a>&#8221; and &#8220;<a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a>&#8221; instances.</p>
<p>To set up shards, configure two or more <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance
using your <a class="reference internal" href="#base-config"><em>base configuration</em></a>, adding the
<a class="reference internal" href="../reference/configuration-options.html#shardsvr" title="shardsvr"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">shardsvr</span></tt></a> setting:</p>
<div class="highlight-cfg"><div class="highlight"><pre><span class="na">shardsvr</span> <span class="o">=</span> <span class="s">true</span>
</pre></div>
</div>
<p>Finally, to establish the cluster, configure at least one
<a class="reference internal" href="../reference/program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a> process with the following settings:</p>
<div class="highlight-cfg"><div class="highlight"><pre><span class="na">configdb</span> <span class="o">=</span> <span class="s">10.8.0.12:27001</span>
<span class="na">chunkSize</span> <span class="o">=</span> <span class="s">64</span>
</pre></div>
</div>
<p>You can specify multiple <a class="reference internal" href="../reference/configuration-options.html#configdb" title="configdb"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">configdb</span></tt></a> instances by specifying
hostnames and ports in the form of a comma separated list. In general,
avoid modifying the <a class="reference internal" href="../reference/configuration-options.html#chunkSize" title="chunkSize"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">chunkSize</span></tt></a> from the default value of 64,
<a class="footnote-reference" href="#chunksize" id="id1">[1]</a> and <em>should</em> ensure this setting is consistent among all
<a class="reference internal" href="../reference/program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a> instances.</p>
<table class="docutils footnote" frame="void" id="chunksize" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference internal" href="../reference/glossary.html#term-chunk"><em class="xref std std-term">Chunk</em></a> size is 64 megabytes by default, which
provides the ideal balance between the most even distribution of
data, for which smaller chunk sizes are best, and minimizing chunk
migration, for which larger chunk sizes are optimal.</td></tr>
</tbody>
</table>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The &#8220;<a class="reference internal" href="../sharding.html"><em>Sharding</em></a>&#8221; section of the manual for more
information on sharding and cluster configuration.</p>
</div>
</div>
</div>
<div class="section" id="run-multiple-database-instances-on-the-same-system">
<h2>Run Multiple Database Instances on the Same System<a class="headerlink" href="#run-multiple-database-instances-on-the-same-system" title="Permalink to this headline">¶</a></h2>
<p>In many cases running multiple instances of <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> on a
single system is not recommended. On some types of deployments
<a class="footnote-reference" href="#multimongod" id="id2">[2]</a> and for testing purposes you may need to run more than
one <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> on a single system.</p>
<p>In these cases, use a <a class="reference internal" href="#base-config"><em>base configuration</em></a> for each
instance, but consider the following configuration values:</p>
<div class="highlight-cfg"><div class="highlight"><pre><span class="na">dbpath</span> <span class="o">=</span> <span class="s">/srv/mongodb/db0/</span>
<span class="na">pidfilepath</span> <span class="o">=</span> <span class="s">/srv/mongodb/db0.pid</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../reference/configuration-options.html#dbpath" title="dbpath"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">dbpath</span></tt></a> value controls the location of the
<a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance&#8217;s data directory. Ensure that each database
has a distinct and well labeled data directory. The
<a class="reference internal" href="../reference/configuration-options.html#pidfilepath" title="pidfilepath"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">pidfilepath</span></tt></a> controls where <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> process
places it&#8217;s <a class="reference internal" href="../reference/glossary.html#term-pid"><em class="xref std std-term">process id</em></a> file. As this tracks the specific
<a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> file, it is crucial that file be unique and well
labeled to make it easy to start and stop these processes.</p>
<p>Create additional <a class="reference internal" href="../reference/glossary.html#term-100"><em class="xref std std-term">control scripts</em></a> and/or
adjust your existing MongoDB configuration and control script as
needed to control these processes.</p>
<table class="docutils footnote" frame="void" id="multimongod" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Single-tenant systems with <a class="reference internal" href="../reference/glossary.html#term-ssd"><em class="xref std std-term">SSD</em></a> or other high
performance disks may provide acceptable performance levels for
multiple <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instances. Additionally, you may find that
multiple databases with small working sets may function acceptably
on a single system.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="diagnostic-configurations">
<h2>Diagnostic Configurations<a class="headerlink" href="#diagnostic-configurations" title="Permalink to this headline">¶</a></h2>
<p>The following configuration options control various <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a>
behaviors for diagnostic purposes. The following settings have default
values that tuned for general production purposes:</p>
<div class="highlight-cfg"><div class="highlight"><pre><span class="na">slowms</span> <span class="o">=</span> <span class="s">50</span>
<span class="na">profile</span> <span class="o">=</span> <span class="s">3</span>
<span class="na">verbose</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">diaglog</span> <span class="o">=</span> <span class="s">3</span>
<span class="na">objcheck</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">cpu</span> <span class="o">=</span> <span class="s">true</span>
</pre></div>
</div>
<p>Use the <a class="reference internal" href="#base-config"><em>base configuration</em></a> and add these options
if you are experiencing some unknown issue or performance problem as
needed:</p>
<ul>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#slowms" title="slowms"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">slowms</span></tt></a> configures the threshold for the <a class="reference internal" href="../reference/glossary.html#term-database-profiler"><em class="xref std std-term">database
profiler</em></a> to consider a query &#8220;slow.&#8221; The default value is 100
milliseconds. Set a lower value if the database profiler does not
return useful results. See <a class="reference internal" href="../applications/optimization.html"><em>Optimization Strategies for MongoDB</em></a>
for more information on optimizing operations in MongoDB.</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#profile" title="profile"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">profile</span></tt></a> sets the <a class="reference internal" href="../reference/glossary.html#term-database-profiler"><em class="xref std std-term">database profiler</em></a>
level. The profiler is not active by default because of the possible
impact on the profiler itself on performance. Unless this setting
has a value, queries are not profiled.</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#verbose" title="verbose"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">verbose</span></tt></a> enables a verbose logging mode that
modifies <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> output and increases logging to include a
greater number of events. Only use this option if you are
experiencing an issue that is not reflected in the normal logging
level. If you require additional verbosity, consider the following
options:</p>
<div class="highlight-cfg"><div class="highlight"><pre><span class="na">v</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">vv</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">vvv</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">vvvv</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">vvvvv</span> <span class="o">=</span> <span class="s">true</span>
</pre></div>
</div>
<p>Each additional level <tt class="docutils literal"><span class="pre">v</span></tt> adds additional verbosity to the
logging. The <tt class="docutils literal"><span class="pre">verbose</span></tt> option  is equal to <tt class="docutils literal"><span class="pre">v</span> <span class="pre">=</span> <span class="pre">true</span></tt>.</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#diaglog" title="diaglog"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">diaglog</span></tt></a> enables <a class="reference internal" href="../reference/glossary.html#term-diagnostic-log"><em class="xref std std-term">diagnostic logging</em></a>. Level <tt class="docutils literal"><span class="pre">3</span></tt> logs all read and write options.</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#objcheck" title="objcheck"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">objcheck</span></tt></a> forces <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> to validate all
requests from clients upon receipt. Use this option to ensure that
invalid requests are not causing errors, particularly when running a
database with untrusted clients. This option may affect database
performance.</p>
</li>
<li><p class="first"><a class="reference internal" href="../reference/configuration-options.html#cpu" title="cpu"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">cpu</span></tt></a> forces <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> to report the percentage of
the last interval spent in <a class="reference internal" href="../reference/glossary.html#term-write-lock"><em class="xref std std-term">write-lock</em></a>. The interval is
typically 4 seconds, and each output line in the log includes both
the actual interval since the last report and the percentage of
time spent in write lock.</p>
</li>
</ul>
</div>
</div>


    <div id="btnv">
        <ul id="btnvl">
              <li id="btnvpr"><a href="../administration.html" title="Previous Section: Administration">&lt; &nbsp; Administration</a></li>
              <li id="btnvup"><a href="../administration.html" title="Parent Section: Administration" >&#47;&#92;&nbsp; Administration</a></li>
              <li id="btnvnx"><a href="backups.html" title="Next Section: Backup and Recovery Operations for MongoDB">Backup and Recovery Operations for MongoDB &nbsp;&gt;</a></li>
        </ul>
    </div></div></div>
           </div>
       <div class="sphinxsidebar">
         <div class="sphinxsidebarwrapper">
  <h3>
    <a href="../index.html">MongoDB Manual</a> <span id="vn">2.4</span>
  </h3>



<div class="site-contents"><a href="../contents.html">Contents</a></div>


<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install MongoDB</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../administration.html">Administration</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Run-time Database Configuration</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="backups.html">Backup and Recovery Operations for MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-center-awareness.html">Data Center Awareness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/journaling.html">Journaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/configure-ssl.html">Connect to MongoDB with SSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/monitor-with-snmp.html">Monitor MongoDB with SNMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-mongodb-processes.html">Manage <tt class="docutils literal"><span class="pre">mongod</span></tt> Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/rotate-log-files.html">Rotate Log Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">Monitoring for MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/manage-the-database-profiler.html">Analyze Performance of Database Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/import-export.html">Import and Export MongoDB Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/ulimit.html">Linux <tt class="docutils literal"><span class="pre">ulimit</span></tt> Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="production-notes.html">Production Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/use-database-commands.html">Use Database Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.html">MongoDB Tutorials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crud.html">Core MongoDB Operations (CRUD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-modeling.html">Data Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../replication.html">Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sharding.html">Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mongo.html">The <tt class="docutils literal"><span class="pre">mongo</span></tt> Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use-cases.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About MongoDB Documentation</a></li>
</ul>



<div class="site-index"><a href="../genindex.html">Index</a></div>
<h3>Formats</h3>
<ul class="this-page-menu">
  <li><a href="/manual/single/">MongoDB Manual, Single HTML Page</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.pdf" rel="nofollow">MongoDB Manual, PDF Format</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.epub" rel="nofollow">MongoDB Manual, ePub Format</a></li>
</ul>
<h3><a href="http://www.mongodb.org/about/">About MongoDB</a></h3>
<ul>
  <li><a href="http://www.mongodb.org/about/introduction">Introduction</a></li>
  <li><a href="http://www.mongodb.org/about/community">User Community</a></li>
  <li><a href="http://mongodb.org/about/community/masters">MongoDB Masters</a></li>
  <li><a href="http://planet.mongodb.org">Planet MongoDB</a></li>
</ul>
<h3><a href="http://docs.mongodb.org/ecosystem/">MongoDB Ecosystem</a></h3>
<ul>
 <li><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers and Client libraries</a>
   <ul>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/c">C</a> (<a href="http://api.mongodb.org/c/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/cpp">C++</a> (<a href="http://api.mongodb.org/cplusplus/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/csharp">C#</a> (<a href="http://api.mongodb.org/csharp/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/erlang">Erlang</a> (<a href="http://api.mongodb.org/erlang">docs</a>)</li>
     <li><a href="http://hackage.haskell.org/package/mongoDB">Haskell</a> (<a href="http://api.mongodb.org/haskell">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/java">Java</a> (<a href="http://api.mongodb.org/java/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/javascript">JavaScript</a> (<a href="http://api.mongodb.org/js/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/perl">Perl</a> (<a href="http://api.mongodb.org/perl/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/php">PHP</a> (<a href="http://php.net/mongo/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/python">Python</a> (<a href="http://api.mongodb.org/python/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/ruby">Ruby</a> (<a href="http://api.mongodb.org/ruby/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/scala">Scala</a> (<a href="http://api.mongodb.org/scala/casbah/current/">docs</a>)</li>
   </ul>
 </li>
 <li><a href="http://docs.mongodb.org/ecosystem/tools/">Tools and Integration</a></li>
 <li><a href="http://docs.mongodb.org/ecosystem/platforms/">Platform Integration</a></li>
</ul><h3>MongoDB Resources</h3>
<ul>
  <li><a href="http://www.mongodb.org/downloads">Downloads</a></li>
  <li><a href="http://www.10gen.com/events">MongoDB Events</a></li>
  <li><a href="http://www.10gen.com/presentations">Slides and Video</a></li>
  <li><a href="http://www.10gen.com/products/mms/">MongoDB Monitoring Service</a> (<a href="http://mms.10gen.com/help/">docs</a>)</li>
</ul>
         </div>
       </div>
        <div class="clearer"></div>
      </div><div id="top-right">
        <div class="user-right">
          <ul id="header-menu-bar" class="ajs-menu-bar">
            <li class="normal"><a target="_blank" href="http://groups.google.com/group/mongodb-user">Forums</a></li>
            <li class="normal"><a target="_blank" href="http://blog.mongodb.org/">Blog</a></li>
            <li class="normal"><a href="http://www.mongodb.org/downloads">Download</a></li>
            <li class="normal"><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers</a></li>
            <li class="normal"><a href="http://www.10gen.com/events">Events</a></li>
            <li class="normal last"><a class="last" href="http://docs.mongodb.org/manual/meta/translation">Translations</a></li>
          </ul>
        </div>
      </div>
      <div class="search-db"><gcse:searchbox></gcse:searchbox></div>
          <div id="etp">
            <ul>
              <li><a href="https://github.com/mongodb/docs/blob/master/source/administration/configuration.txt" target="_blank" title="Edit administration/configuration.txt on GitHub">Edit this Page</a></li>
              <li><a href="http://github.com/mongodb/docs" target="_blank" title="Fork the documentation on GitHub and contribute.">GitHub</a></li>
              <li><a id="jirafeedback" href="https://jira.mongodb.org/secure/CreateIssueDetails!init.jspa?pid=10380&issuetype=4&priority=4&summary=Comment+on%3a+%22administration/configuration%2Etxt%22" target="_blank" title="Report a problem with administration/configuration.txt on Jira">Report a Problem</a></li>
            </ul>
          </div>
      <div class="footer">
        <p>
          &copy; <a href="">Copyright</a> 2011-2013, 10gen, Inc. 
          MongoDB&reg;, Mongo&reg;, and the leaf logo are registered trademarks of <a href="http://www.10gen.com/">10gen, Inc.</a>
        </p>
      </div><script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
_gaq.push(['_setAccount', 'UA-7301842-8']);
_gaq.push(['_setDomainName', 'docs.mongodb.org']);
_gaq.push(['_trackPageview']);
(function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
        })();
</script>

<script type="text/javascript">var _kiq = _kiq || [];</script>
<script type="text/javascript">
(function(){
setTimeout(function(){ var d = document, f = d.getElementsByTagName('script')[0], s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//s3.amazonaws.com/ki.js/49119/a7n.js'; f.parentNode.insertBefore(s, f); }, 1);
})();
</script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-7301842-14', 'mongodb.org');
ga('send', 'pageview');
</script>

<script type="text/javascript">
document.write(unescape("%3Cscript src='" + document.location.protocol + "//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script>try { mktoMunchkin("017-HGS-593"); } catch(e) {}</script><script type="text/javascript">
jQuery.ajax({
	 url: "https://jira.mongodb.org/s/en_UScn8g8x/782/6/1.2.5/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?collectorId=298ba4e7",
	 type: "get",
	 cache: true,
	 dataType: "script"
	});
window.ATL_JQ_PAGE_PROPS =  {
	"triggerFunction": function(showCollectorDialog) {
		jQuery("#jirafeedback").click(function(e) {e.preventDefault();showCollectorDialog();});},
		fieldValues: {component: 'mongodb-manual', summary: 'Comment on: "manual/administration/configuration.txt"'},
		environment: {'repo': 'docs','source': 'administration/configuration'}
		};
</script><script type="text/javascript">
var versions = [{'t': '2.4 (current)', 'v': 'v2.4'}, {'t': '2.2', 'v': 'v2.2'}]
var pagename = 'administration/configuration'
var stable = 'v2.4'

function vfnav() {
    if ( pagename=='index' ) {
        pn = ''
    }
    else {
        pn = pagename
    }

    v = $(this).children("option:selected").attr('value')

    if ( (v==0) || (v==stable) ) {
        uri = '/manual/' + pn
    }
    else {
        uri = '/' + v + '/' + pn
    }
    window.location.href= uri;
}

$(document).ready(function(){
    $("#vn").html(function(){
        s=$("<select/>");
        o='<option/>';

        $.each(versions,function(index, version) {
            if ( version.v==stable ) {
                dv=true;
            }
            $(o,{value:version.v,text: version.t}).appendTo(s);
        });

        if ( dv==false ) {
            $(o, {value:0,text:'(stable)'}).appendTo(s);
        }
        return(s);
    });

    $("#vn select").bind('change', vfnav);
    $('#vn select').val('v2.4');
});
</script>
</body>
</html>