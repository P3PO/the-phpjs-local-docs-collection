<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head><title>Release Notes for MongoDB 1.8 &mdash; MongoDB Manual 2.4.3</title><link rel="shortcut icon" href="http://media.mongodb.org/favicon.ico" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="robots" content="index" />
  <meta name="release" content="2.4.3"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/master/source/release-notes/1.8.txt"/>
      <link rel="canonical" href="http://docs.mongodb.org/manual/release-notes/1.8" />
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css" />
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      
   <script type="text/javascript">
     var DOCUMENTATION_OPTIONS = {
         URL_ROOT:    '../',
         VERSION:     '2.4',
         COLLAPSE_INDEX: false,
         FILE_SUFFIX: '.html',
         HAS_SOURCE:  false,
     };
   </script>
       <script type="text/javascript" src="../_static/jquery.js"></script>
       <script type="text/javascript" src="../_static/underscore.js"></script>
       <script type="text/javascript" src="../_static/doctools.js"></script>
          <link rel="search" type="application/opensearchdescription+xml" href="http://docs.mongodb.org/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html" />
<link rel="top" title="MongoDB Manual" href="../index.html" />
<link rel="up" title="Release Notes" href="../release-notes.html" />
<link rel="next" title="Release Notes for MongoDB 1.6" href="1.6.html" />
<link rel="prev" title="Release Notes for MongoDB 2.0" href="2.0.html" />
          <script>
            (function() {
               var cx = '017213726194841070573:WMX6838984';
               var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
               gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;
               var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
            })();
          </script></head>
<body>
      <div id="header-db" class="spread">
        <div class="split">
          <div id="logo">
            <div><a href="http://www.mongodb.org/"><img class="logo" src="http://media.mongodb.org/logo-mongodb.png" alt="MongoDB Logo"/></a></div>
          </div>
        </div>
      </div>  
      <div class="document">
           <div class="documentwrapper"><div class="bodywrapper">
               <div class="body">
                 
    <div class="bc">
      <ul>
          <li><a href="../release-notes.html">Release Notes</a><span class="bcpoint"> > </span></li>
          <li>Release Notes for MongoDB 1.8</li> 
      </ul>
    </div>
                 <div id="cse-results">
                   <gcse:searchresults linkTarget="_top"></gcse:searchresults>
                 </div>
                 
  <div class="section" id="release-notes-for-mongodb-1-8">
<h1>Release Notes for MongoDB 1.8<a class="headerlink" href="#release-notes-for-mongodb-1-8" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="see-the-full-index-of-this-page-for-a-complete-list-of-changes-included-in-1-8">
<p class="topic-title first">See the <a class="reference internal" href="1.8-changes.html"><em>full index of this page</em></a> for
           a complete list of changes included in 1.8.</p>
<ul class="simple">
<li><a class="reference internal" href="#upgrading" id="id20">Upgrading</a></li>
<li><a class="reference internal" href="#changes" id="id21">Changes</a></li>
<li><a class="reference internal" href="#resources" id="id22">Resources</a></li>
</ul>
</div>
<div class="section" id="upgrading">
<h2>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this headline">¶</a></h2>
<p>MongoDB 1.8 is a standard, incremental production release and works as
a drop-in replacement for MongoDB 1.6, except:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">Replica set</em></a> members should be upgraded in a
particular order, as described in <a class="reference internal" href="#upgrade-replica-set"><em>Upgrading a Replica Set</em></a>.</li>
<li>The <a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></tt></a> command has changed in 1.8, causing
incompatibility with previous releases. <a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></tt></a> no
longer generates temporary collections (thus, <tt class="docutils literal"><span class="pre">keepTemp</span></tt> has been
removed). Now, you must always supply a value for <tt class="docutils literal"><span class="pre">out</span></tt>. See the
<tt class="docutils literal"><span class="pre">out</span></tt> field options in the <a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></tt></a> document. If you
use MapReduce, this also likely means you need a recent version of
your client driver.</li>
</ul>
<div class="section" id="preparation">
<h3>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline">¶</a></h3>
<p>Read through all release notes before upgrading and ensure that no
changes will affect your deployment.</p>
</div>
<div class="section" id="upgrading-a-standalone-mongod">
<span id="upgrade-standalone"></span><h3>Upgrading a Standalone <tt class="docutils literal"><span class="pre">mongod</span></tt><a class="headerlink" href="#upgrading-a-standalone-mongod" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Download the v1.8.x binaries from the <a class="reference external" href="http://downloads.mongodb.org/">MongoDB Download Page</a>.</li>
<li>Shutdown your <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance.</li>
<li>Replace the existing binary with the 1.8.x <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> binary.</li>
<li>Restart MongoDB.</li>
</ol>
</div>
<div class="section" id="upgrading-a-replica-set">
<span id="upgrade-replica-set"></span><h3>Upgrading a Replica Set<a class="headerlink" href="#upgrading-a-replica-set" title="Permalink to this headline">¶</a></h3>
<p>1.8.x <a class="reference internal" href="../reference/glossary.html#term-secondary"><em class="xref std std-term">secondaries</em></a> <strong>can</strong> replicate from 1.6.x
<a class="reference internal" href="../reference/glossary.html#term-primary"><em class="xref std std-term">primaries</em></a>.</p>
<p>1.6.x secondaries <strong>cannot</strong> replicate from 1.8.x primaries.</p>
<p>Thus, to upgrade a <a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> you must replace all of your
secondaries first, then the primary.</p>
<p>For example, suppose you have a replica set with a primary, an
<a class="reference internal" href="../reference/glossary.html#term-arbiter"><em class="xref std std-term">arbiter</em></a> and several secondaries. To upgrade the set, do the
following:</p>
<ol class="arabic">
<li><p class="first">For the arbiter:</p>
<ol class="loweralpha simple">
<li>Shut down the arbiter.</li>
<li>Restart it with the 1.8.x binary from the <a class="reference external" href="http://downloads.mongodb.org/">MongoDB Download Page</a>.</li>
</ol>
</li>
<li><p class="first">Change your config (optional) to prevent election of a new primary.</p>
<p>It is possible that, when you start shutting down members of the set,
a new primary will be elected. To prevent this, you can give
all of the secondaries a priority of <tt class="docutils literal"><span class="pre">0</span></tt> before
upgrading, and then change them back afterwards. To do so:</p>
<ol class="loweralpha">
<li><p class="first">Record your current config. Run <a class="reference internal" href="../reference/method/rs.conf.html#rs.config" title="rs.config()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.config()</span></tt></a> and paste the
results into a text file.</p>
</li>
<li><p class="first">Update your config so that all secondaries have
priority <tt class="docutils literal"><span class="pre">0</span></tt>. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">config</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">conf</span><span class="p">()</span>
<span class="p">{</span>
     <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
     <span class="s2">&quot;version&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
     <span class="s2">&quot;members&quot;</span> <span class="o">:</span> <span class="p">[</span>
             <span class="p">{</span>
                     <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
                     <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;ubuntu:27017&quot;</span>
             <span class="p">},</span>
             <span class="p">{</span>
                     <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
                     <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;ubuntu:27018&quot;</span>
             <span class="p">},</span>
             <span class="p">{</span>
                     <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
                     <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;ubuntu:27019&quot;</span><span class="p">,</span>
                     <span class="s2">&quot;arbiterOnly&quot;</span> <span class="o">:</span> <span class="kc">true</span>
             <span class="p">}</span>
             <span class="p">{</span>
                     <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
                     <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;ubuntu:27020&quot;</span>
             <span class="p">},</span>
             <span class="p">{</span>
                     <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
                     <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;ubuntu:27021&quot;</span>
             <span class="p">},</span>
     <span class="p">]</span>
<span class="p">}</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">version</span><span class="o">++</span>
<span class="mi">3</span>
<span class="nx">rs</span><span class="p">.</span><span class="nx">isMaster</span><span class="p">()</span>
<span class="p">{</span>
     <span class="s2">&quot;setName&quot;</span> <span class="o">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ismaster&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
     <span class="s2">&quot;secondary&quot;</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
     <span class="s2">&quot;hosts&quot;</span> <span class="o">:</span> <span class="p">[</span>
             <span class="s2">&quot;ubuntu:27017&quot;</span><span class="p">,</span>
             <span class="s2">&quot;ubuntu:27018&quot;</span>
     <span class="p">],</span>
     <span class="s2">&quot;arbiters&quot;</span> <span class="o">:</span> <span class="p">[</span>
             <span class="s2">&quot;ubuntu:27019&quot;</span>
     <span class="p">],</span>
     <span class="s2">&quot;primary&quot;</span> <span class="o">:</span> <span class="s2">&quot;ubuntu:27018&quot;</span><span class="p">,</span>
     <span class="s2">&quot;ok&quot;</span> <span class="o">:</span> <span class="mi">1</span>
<span class="p">}</span>
<span class="c1">// for each secondary</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">priority</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">priority</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">priority</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nx">rs</span><span class="p">.</span><span class="nx">reconfig</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p class="first">For each secondary:</p>
<ol class="loweralpha simple">
<li>Shut down the secondary.</li>
<li>Restart it with the 1.8.x binary from the <a class="reference external" href="http://downloads.mongodb.org/">MongoDB Download Page</a>.</li>
</ol>
</li>
<li><p class="first">If you changed the config, change it back to its original state:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">config</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">conf</span><span class="p">()</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">version</span><span class="o">++</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">priority</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">priority</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">config</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">priority</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">rs</span><span class="p">.</span><span class="nx">reconfig</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Shut down the primary (the final 1.6 server), and then restart it
with the 1.8.x binary from the <a class="reference external" href="http://downloads.mongodb.org/">MongoDB Download Page</a>.</p>
</li>
</ol>
</div>
<div class="section" id="upgrading-a-sharded-cluster">
<span id="upgrade-sharded-cluster"></span><span id="upgrade-shard-cluster"></span><h3>Upgrading a Sharded Cluster<a class="headerlink" href="#upgrading-a-sharded-cluster" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Turn off the balancer:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">mongo</span> <span class="o">&lt;</span><span class="nx">a_mongos_hostname</span><span class="o">&gt;</span>
<span class="nx">use</span> <span class="nx">config</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">update</span><span class="p">({</span><span class="nx">_id</span><span class="o">:</span><span class="s2">&quot;balancer&quot;</span><span class="p">},{</span><span class="nx">$set</span> <span class="o">:</span> <span class="p">{</span><span class="nx">stopped</span><span class="o">:</span><span class="kc">true</span><span class="p">}},</span> <span class="kc">true</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">For each <a class="reference internal" href="../reference/glossary.html#term-shard"><em class="xref std std-term">shard</em></a>:</p>
<ul class="simple">
<li>If the shard is a <a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a>, follow the directions above for
<a class="reference internal" href="#upgrade-replica-set"><em>Upgrading a Replica Set</em></a>.</li>
<li>If the shard is a single <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> process, shut it down
and then restart it with the 1.8.x binary from the <a class="reference external" href="http://downloads.mongodb.org/">MongoDB Download Page</a>.</li>
</ul>
</li>
<li><p class="first">For each <a class="reference internal" href="../reference/program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a>:</p>
<ol class="loweralpha simple">
<li>Shut down the <a class="reference internal" href="../reference/program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a> process.</li>
<li>Restart it with the 1.8.x binary from the <a class="reference external" href="http://downloads.mongodb.org/">MongoDB Download Page</a>.</li>
</ol>
</li>
<li><p class="first">For each config server:</p>
<ol class="loweralpha simple">
<li>Shut down the config server process.</li>
<li>Restart it with the 1.8.x binary from the <a class="reference external" href="http://downloads.mongodb.org/">MongoDB Download Page</a>.</li>
</ol>
</li>
<li><p class="first">Turn on the balancer:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">use</span> <span class="nx">config</span>
<span class="nx">db</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">update</span><span class="p">({</span><span class="nx">_id</span><span class="o">:</span><span class="s2">&quot;balancer&quot;</span><span class="p">},{</span><span class="nx">$set</span> <span class="o">:</span> <span class="p">{</span><span class="nx">stopped</span><span class="o">:</span><span class="kc">false</span><span class="p">}})</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="returning-to-1-6">
<h3>Returning to 1.6<a class="headerlink" href="#returning-to-1-6" title="Permalink to this headline">¶</a></h3>
<p>If for any reason you must move back to 1.6, follow the steps above in
reverse. Please be careful that you have not inserted any documents
larger than 4MB while running on 1.8 (where the max size has increased
to 16MB). If you have you will get errors when the server tries to read
those documents.</p>
<div class="section" id="journaling">
<h4>Journaling<a class="headerlink" href="#journaling" title="Permalink to this headline">¶</a></h4>
<p>Returning to 1.6 after using 1.8
<a class="reference internal" href="../core/journaling.html"><em>Journaling</em></a> works
fine, as journaling does not change anything about the data file format.
Suppose you are running 1.8.x with journaling enabled and you decide to
switch back to 1.6. There are two scenarios:</p>
<ul class="simple">
<li>If you shut down cleanly with 1.8.x, just restart with the 1.6 mongod
binary.</li>
<li>If 1.8.x shut down uncleanly, start 1.8.x up again and let the journal
files run to fix any damage (incomplete writes) that may have existed
at the crash. Then shut down 1.8.x cleanly and restart with the 1.6
mongod binary.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Journaling<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>MongoDB now supports write-ahead <a class="reference internal" href="../core/journaling.html"><em>Journaling</em></a> to
facilitate fast crash recovery and durability in the storage engine.
With journaling enabled, a <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> can be quickly restarted
following a crash without needing to repair the <a class="reference internal" href="../reference/glossary.html#term-collection"><em class="xref std std-term">collections</em></a>. The aggregation framework makes it possible to do
aggregation</p>
</div>
<div class="section" id="sparse-and-covered-indexes">
<h3>Sparse and Covered Indexes<a class="headerlink" href="#sparse-and-covered-indexes" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../core/indexes.html#index-type-sparse"><em>Sparse Indexes</em></a> are indexes that only include
documents that contain the fields specified in the index. Documents
missing the field will not appear in the index at all. This can
significantly reduce index size for indexes of fields that contain only a
subset of documents within a <a class="reference internal" href="../reference/glossary.html#term-collection"><em class="xref std std-term">collection</em></a>.</p>
<p><a class="reference internal" href="../tutorial/create-indexes-to-support-queries.html#covered-queries"><em>Covered Indexes</em></a> enable MongoDB to answer
queries entirely from the index when the query only selects fields
that the index contains.</p>
</div>
<div class="section" id="incremental-mapreduce-support">
<h3>Incremental MapReduce Support<a class="headerlink" href="#incremental-mapreduce-support" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></tt></a> command supports new options that enable
incrementally updating existing <a class="reference internal" href="../reference/glossary.html#term-collection"><em class="xref std std-term">collections</em></a>.
Previously, a MapReduce job could output either to a temporary
collection or to a named permanent collection, which it would overwrite
with new data.</p>
<p>You now have several options for the output of your MapReduce jobs:</p>
<ul class="simple">
<li>You can merge MapReduce output into an existing collection. Output
from the Reduce phase will replace existing keys in the output
collection if it already exists. Other keys will remain in the
collection.</li>
<li>You can now re-reduce your output with the contents of an existing
collection. Each key output by the reduce phase will be reduced with
the existing document in the output collection.</li>
<li>You can replace the existing output collection with the new results of
the MapReduce job (equivalent to setting a permanent output
collection in previous releases)</li>
<li>You can compute MapReduce inline and return results to the caller
without persisting the results of the job. This is similar to the
temporary collections generated in previous releases, except results
are limited to 8MB.</li>
</ul>
<p>For more information, see the <tt class="docutils literal"><span class="pre">out</span></tt> field options in the
<a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></tt></a> document.</p>
</div>
<div class="section" id="additional-changes-and-enhancements">
<h3>Additional Changes and Enhancements<a class="headerlink" href="#additional-changes-and-enhancements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id2">
<h4>1.8.1<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Sharding migrate fix when moving larger chunks.</li>
<li>Durability fix with background indexing.</li>
<li>Fixed mongos concurrency issue with many incoming connections.</li>
</ul>
</div>
<div class="section" id="id3">
<h4>1.8.0<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>All changes from 1.7.x series.</li>
</ul>
</div>
<div class="section" id="id4">
<h4>1.7.6<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Bug fixes.</li>
</ul>
</div>
<div class="section" id="id5">
<h4>1.7.5<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../core/journaling.html"><em>Journaling</em></a>.</li>
<li>Extent allocation improvements.</li>
<li>Improved <a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> connectivity for <a class="reference internal" href="../reference/program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a>.</li>
<li><a class="reference internal" href="../reference/command/getLastError.html#dbcmd.getLastError" title="getLastError"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">getLastError</span></tt></a> improvements for <a class="reference internal" href="../reference/glossary.html#term-sharding"><em class="xref std std-term">sharding</em></a>.</li>
</ul>
</div>
<div class="section" id="id6">
<h4>1.7.4<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../reference/program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a> routes <tt class="docutils literal"><span class="pre">slaveOk</span></tt> queries to <a class="reference internal" href="../reference/glossary.html#term-secondary"><em class="xref std std-term">secondaries</em></a> in <a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">replica sets</em></a>.</li>
<li>New <a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></tt></a> output options.</li>
<li><a class="reference internal" href="../core/indexes.html#index-type-sparse"><em>Sparse Indexes</em></a>.</li>
</ul>
</div>
<div class="section" id="id7">
<h4>1.7.3<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Initial <a class="reference internal" href="../tutorial/create-indexes-to-support-queries.html#covered-queries"><em>covered index</em></a> support.</li>
<li>Distinct can use data from indexes when possible.</li>
<li><a class="reference internal" href="../reference/command/mapReduce.html#dbcmd.mapReduce" title="mapReduce"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">mapReduce</span></tt></a> can merge or reduce results into an existing collection.</li>
<li><a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> tracks and <a class="reference internal" href="../reference/program/mongostat.html#bin.mongostat" title="mongostat"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongostat</span></tt></a> displays network usage. See <a class="reference internal" href="../reference/program/mongostat.html#mongostat"><em>mongostat</em></a>.</li>
<li>Sharding stability improvements.</li>
</ul>
</div>
<div class="section" id="id8">
<h4>1.7.2<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../reference/operator/rename.html#op._S_rename" title="$rename"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$rename</span></tt></a> operator allows renaming of fields in a document.</li>
<li><a class="reference internal" href="../reference/method/db.eval.html#db.eval" title="db.eval()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.eval()</span></tt></a> not to block.</li>
<li>Geo queries with sharding.</li>
<li><a class="reference internal" href="../reference/program/mongostat.html#cmdoption-mongostat--discover"><em class="xref std std-option">mongostat --discover</em></a> option</li>
<li>Chunk splitting enhancements.</li>
<li>Replica sets network enhancements for servers behind a nat.</li>
</ul>
</div>
<div class="section" id="id9">
<h4>1.7.1<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Many sharding performance enhancements.</li>
<li>Better support for <a class="reference internal" href="../reference/projection/elemMatch.html#prj._S_elemMatch" title="$elemMatch"><tt class="xref mongodb mongodb-projection docutils literal"><span class="pre">$elemMatch</span></tt></a> on primitives in embedded arrays.</li>
<li>Query optimizer enhancements on range queries.</li>
<li>Window service enhancements.</li>
<li>Replica set setup improvements.</li>
<li><a class="reference internal" href="../reference/operator/pull.html#op._S_pull" title="$pull"><tt class="xref mongodb mongodb-operator docutils literal"><span class="pre">$pull</span></tt></a> works on primitives in arrays.</li>
</ul>
</div>
<div class="section" id="id10">
<h4>1.7.0<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Sharding performance improvements for heavy insert loads.</li>
<li>Slave delay support for replica sets.</li>
<li><a class="reference internal" href="../reference/replica-configuration.html#local.system.replset.settings.getLastErrorDefaults" title="local.system.replset.settings.getLastErrorDefaults"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">getLastErrorDefaults</span></tt></a> for replica sets.</li>
<li>Auto completion in the shell.</li>
<li>Spherical distance for geo search.</li>
<li>All fixes from 1.6.1 and 1.6.2.</li>
</ul>
</div>
</div>
<div class="section" id="release-announcement-forum-pages">
<h3>Release Announcement Forum Pages<a class="headerlink" href="#release-announcement-forum-pages" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/v09MbhEm62Y">1.8.1</a>,
<a class="reference external" href="https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/JeHQOnam6Qk">1.8.0</a></li>
<li><a class="reference external" href="https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/3t6GNZ1qGYc">1.7.6</a>,
<a class="reference external" href="https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/S5R0Tx9wkEg">1.7.5</a>,
<a class="reference external" href="https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/9Om3Vuw-y9c">1.7.4</a>,
<a class="reference external" href="https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/DfNUrdbmflI">1.7.3</a>,
<a class="reference external" href="https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/df7mwK6Xixo">1.7.2</a>,
<a class="reference external" href="https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/HUR9zYtTpA8">1.7.1</a>,
<a class="reference external" href="https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/TUnJCg9161A">1.7.0</a></li>
</ul>
</div>
</div>
<div class="section" id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://mongodb.org/downloads">MongoDB Downloads</a></li>
<li><a class="reference external" href="https://jira.mongodb.org/secure/IssueNavigator.jspa?mode=hide&amp;requestId=10172">All JIRA Issues resolved in 1.8</a></li>
</ul>
</div>
</div>


    <div id="btnv">
        <ul id="btnvl">
              <li id="btnvpr"><a href="2.0.html" title="Previous Section: Release Notes for MongoDB 2.0">&lt; &nbsp; Release Notes for MongoDB 2.0</a></li>
              <li id="btnvup"><a href="../release-notes.html" title="Parent Section: Release Notes" >&#47;&#92;&nbsp; Release Notes</a></li>
              <li id="btnvnx"><a href="1.6.html" title="Next Section: Release Notes for MongoDB 1.6">Release Notes for MongoDB 1.6 &nbsp;&gt;</a></li>
        </ul>
    </div></div></div>
           </div>
       <div class="sphinxsidebar">
         <div class="sphinxsidebarwrapper">
  <h3>
    <a href="../index.html">MongoDB Manual</a> <span id="vn">2.4</span>
  </h3>



<div class="site-contents"><a href="../contents.html">Contents</a></div>


<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crud.html">Core MongoDB Operations (CRUD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-modeling.html">Data Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../replication.html">Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sharding.html">Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mongo.html">The <tt class="docutils literal"><span class="pre">mongo</span></tt> Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use-cases.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../release-notes.html">Release Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="2.4.html">Release Notes for MongoDB 2.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.2.html">Release Notes for MongoDB 2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.0.html">Release Notes for MongoDB 2.0</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Release Notes for MongoDB 1.8</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="1.6.html">Release Notes for MongoDB 1.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.4.html">Release Notes for MongoDB 1.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.2.html">Release Notes for MongoDB 1.2.x</a></li>
<li class="toctree-l2"><a class="reference internal" href="drivers-write-concern.html">Default Write Concern Change</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About MongoDB Documentation</a></li>
</ul>



<div class="site-index"><a href="../genindex.html">Index</a></div>
<h3>Formats</h3>
<ul class="this-page-menu">
  <li><a href="/manual/single/">MongoDB Manual, Single HTML Page</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.pdf" rel="nofollow">MongoDB Manual, PDF Format</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.epub" rel="nofollow">MongoDB Manual, ePub Format</a></li>
</ul>
<h3><a href="http://www.mongodb.org/about/">About MongoDB</a></h3>
<ul>
  <li><a href="http://www.mongodb.org/about/introduction">Introduction</a></li>
  <li><a href="http://www.mongodb.org/about/community">User Community</a></li>
  <li><a href="http://mongodb.org/about/community/masters">MongoDB Masters</a></li>
  <li><a href="http://planet.mongodb.org">Planet MongoDB</a></li>
</ul>
<h3><a href="http://docs.mongodb.org/ecosystem/">MongoDB Ecosystem</a></h3>
<ul>
 <li><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers and Client libraries</a>
   <ul>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/c">C</a> (<a href="http://api.mongodb.org/c/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/cpp">C++</a> (<a href="http://api.mongodb.org/cplusplus/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/csharp">C#</a> (<a href="http://api.mongodb.org/csharp/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/erlang">Erlang</a> (<a href="http://api.mongodb.org/erlang">docs</a>)</li>
     <li><a href="http://hackage.haskell.org/package/mongoDB">Haskell</a> (<a href="http://api.mongodb.org/haskell">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/java">Java</a> (<a href="http://api.mongodb.org/java/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/javascript">JavaScript</a> (<a href="http://api.mongodb.org/js/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/perl">Perl</a> (<a href="http://api.mongodb.org/perl/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/php">PHP</a> (<a href="http://php.net/mongo/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/python">Python</a> (<a href="http://api.mongodb.org/python/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/ruby">Ruby</a> (<a href="http://api.mongodb.org/ruby/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/scala">Scala</a> (<a href="http://api.mongodb.org/scala/casbah/current/">docs</a>)</li>
   </ul>
 </li>
 <li><a href="http://docs.mongodb.org/ecosystem/tools/">Tools and Integration</a></li>
 <li><a href="http://docs.mongodb.org/ecosystem/platforms/">Platform Integration</a></li>
</ul><h3>MongoDB Resources</h3>
<ul>
  <li><a href="http://www.mongodb.org/downloads">Downloads</a></li>
  <li><a href="http://www.10gen.com/events">MongoDB Events</a></li>
  <li><a href="http://www.10gen.com/presentations">Slides and Video</a></li>
  <li><a href="http://www.10gen.com/products/mms/">MongoDB Monitoring Service</a> (<a href="http://mms.10gen.com/help/">docs</a>)</li>
</ul>
         </div>
       </div>
        <div class="clearer"></div>
      </div><div id="top-right">
        <div class="user-right">
          <ul id="header-menu-bar" class="ajs-menu-bar">
            <li class="normal"><a target="_blank" href="http://groups.google.com/group/mongodb-user">Forums</a></li>
            <li class="normal"><a target="_blank" href="http://blog.mongodb.org/">Blog</a></li>
            <li class="normal"><a href="http://www.mongodb.org/downloads">Download</a></li>
            <li class="normal"><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers</a></li>
            <li class="normal"><a href="http://www.10gen.com/events">Events</a></li>
            <li class="normal last"><a class="last" href="http://docs.mongodb.org/manual/meta/translation">Translations</a></li>
          </ul>
        </div>
      </div>
      <div class="search-db"><gcse:searchbox></gcse:searchbox></div>
          <div id="etp">
            <ul>
              <li><a href="https://github.com/mongodb/docs/blob/master/source/release-notes/1.8.txt" target="_blank" title="Edit release-notes/1.8.txt on GitHub">Edit this Page</a></li>
              <li><a href="http://github.com/mongodb/docs" target="_blank" title="Fork the documentation on GitHub and contribute.">GitHub</a></li>
              <li><a id="jirafeedback" href="https://jira.mongodb.org/secure/CreateIssueDetails!init.jspa?pid=10380&issuetype=4&priority=4&summary=Comment+on%3a+%22release-notes/1.8%2Etxt%22" target="_blank" title="Report a problem with release-notes/1.8.txt on Jira">Report a Problem</a></li>
            </ul>
          </div>
      <div class="footer">
        <p>
          &copy; <a href="">Copyright</a> 2011-2013, 10gen, Inc. 
          MongoDB&reg;, Mongo&reg;, and the leaf logo are registered trademarks of <a href="http://www.10gen.com/">10gen, Inc.</a>
        </p>
      </div><script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
_gaq.push(['_setAccount', 'UA-7301842-8']);
_gaq.push(['_setDomainName', 'docs.mongodb.org']);
_gaq.push(['_trackPageview']);
(function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
        })();
</script>

<script type="text/javascript">var _kiq = _kiq || [];</script>
<script type="text/javascript">
(function(){
setTimeout(function(){ var d = document, f = d.getElementsByTagName('script')[0], s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//s3.amazonaws.com/ki.js/49119/a7n.js'; f.parentNode.insertBefore(s, f); }, 1);
})();
</script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-7301842-14', 'mongodb.org');
ga('send', 'pageview');
</script>

<script type="text/javascript">
document.write(unescape("%3Cscript src='" + document.location.protocol + "//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script>try { mktoMunchkin("017-HGS-593"); } catch(e) {}</script><script type="text/javascript">
jQuery.ajax({
	 url: "https://jira.mongodb.org/s/en_UScn8g8x/782/6/1.2.5/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?collectorId=298ba4e7",
	 type: "get",
	 cache: true,
	 dataType: "script"
	});
window.ATL_JQ_PAGE_PROPS =  {
	"triggerFunction": function(showCollectorDialog) {
		jQuery("#jirafeedback").click(function(e) {e.preventDefault();showCollectorDialog();});},
		fieldValues: {component: 'mongodb-manual', summary: 'Comment on: "manual/release-notes/1.8.txt"'},
		environment: {'repo': 'docs','source': 'release-notes/1.8'}
		};
</script><script type="text/javascript">
var versions = [{'t': '2.4 (current)', 'v': 'v2.4'}, {'t': '2.2', 'v': 'v2.2'}]
var pagename = 'release-notes/1.8'
var stable = 'v2.4'

function vfnav() {
    if ( pagename=='index' ) {
        pn = ''
    }
    else {
        pn = pagename
    }

    v = $(this).children("option:selected").attr('value')

    if ( (v==0) || (v==stable) ) {
        uri = '/manual/' + pn
    }
    else {
        uri = '/' + v + '/' + pn
    }
    window.location.href= uri;
}

$(document).ready(function(){
    $("#vn").html(function(){
        s=$("<select/>");
        o='<option/>';

        $.each(versions,function(index, version) {
            if ( version.v==stable ) {
                dv=true;
            }
            $(o,{value:version.v,text: version.t}).appendTo(s);
        });

        if ( dv==false ) {
            $(o, {value:0,text:'(stable)'}).appendTo(s);
        }
        return(s);
    });

    $("#vn select").bind('change', vfnav);
    $('#vn select').val('v2.4');
});
</script>
</body>
</html>