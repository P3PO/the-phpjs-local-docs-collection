<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head><title>Replica Set Commands &mdash; MongoDB Manual 2.4.3</title><link rel="shortcut icon" href="http://media.mongodb.org/favicon.ico" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="robots" content="index" />
  <meta name="release" content="2.4.3"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/master/source/reference/replica-commands.txt"/>
      <link rel="canonical" href="http://docs.mongodb.org/manual/reference/replica-commands" />
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css" />
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      
   <script type="text/javascript">
     var DOCUMENTATION_OPTIONS = {
         URL_ROOT:    '../',
         VERSION:     '2.4',
         COLLAPSE_INDEX: false,
         FILE_SUFFIX: '.html',
         HAS_SOURCE:  false,
     };
   </script>
       <script type="text/javascript" src="../_static/jquery.js"></script>
       <script type="text/javascript" src="../_static/underscore.js"></script>
       <script type="text/javascript" src="../_static/doctools.js"></script>
          <link rel="search" type="application/opensearchdescription+xml" href="http://docs.mongodb.org/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html" />
<link rel="top" title="MongoDB Manual" href="../index.html" />
<link rel="up" title="Replication" href="../replication.html" />
<link rel="next" title="Replica Set Features and Version Compatibility" href="../release-notes/replica-set-features.html" />
<link rel="prev" title="Replica Set Configuration" href="replica-configuration.html" />
          <script>
            (function() {
               var cx = '017213726194841070573:WMX6838984';
               var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
               gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;
               var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
            })();
          </script></head>
<body>
      <div id="header-db" class="spread">
        <div class="split">
          <div id="logo">
            <div><a href="http://www.mongodb.org/"><img class="logo" src="http://media.mongodb.org/logo-mongodb.png" alt="MongoDB Logo"/></a></div>
          </div>
        </div>
      </div>  
      <div class="document">
           <div class="documentwrapper"><div class="bodywrapper">
               <div class="body">
                 
    <div class="bc">
      <ul>
          <li><a href="../replication.html">Replication</a><span class="bcpoint"> > </span></li>
          <li>Replica Set Commands</li> 
      </ul>
    </div>
                 <div id="cse-results">
                   <gcse:searchresults linkTarget="_top"></gcse:searchresults>
                 </div>
                 
  <div class="section" id="replica-set-commands">
<h1>Replica Set Commands<a class="headerlink" href="#replica-set-commands" title="Permalink to this headline">¶</a></h1>
<p>This reference collects documentation for all <a class="reference internal" href="#replica-set-javascript-methods"><em>JavaScript methods</em></a> for the <a class="reference internal" href="program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell that
support <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> functionality, as well as all
<a class="reference internal" href="#replica-set-database-commands"><em>database commands</em></a> related to
replication function.</p>
<p>See <a class="reference internal" href="../replication.html"><em>Replication</em></a>, for a list of all replica set documentation.</p>
<div class="section" id="javascript-methods">
<span id="replica-set-javascript-methods"></span><h2>JavaScript Methods<a class="headerlink" href="#javascript-methods" title="Permalink to this headline">¶</a></h2>
<p>The following methods apply to replica sets. For a complete list of all
methods, see <a class="reference internal" href="method.html"><em>mongo Shell Methods</em></a>.</p>
<dl class="method">
<dt id="rs.status">
<tt class="descclassname">rs.</tt><tt class="descname">status</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.status" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <a class="reference internal" href="glossary.html#term-document"><em class="xref std std-term">document</em></a> with status information.</td>
</tr>
</tbody>
</table>
<p>This output reflects the current status of the replica set, using
data derived from the heartbeat packets sent by the other members
of the replica set.</p>
<p>This method provides a wrapper around the
<a class="reference internal" href="command/replSetGetStatus.html#dbcmd.replSetGetStatus" title="replSetGetStatus"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetGetStatus</span></tt></a> <a class="reference internal" href="glossary.html#term-database-command"><em class="xref std std-term">database command</em></a>.</p>
</dd></dl>

<dl class="method">
<dt id="db.isMaster">
<tt class="descclassname">db.</tt><tt class="descname">isMaster</tt><big>(</big><big>)</big><a class="headerlink" href="#db.isMaster" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A document that describes the role of the
<a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance.</td>
</tr>
</tbody>
</table>
<p>If the <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> is a member of a <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a>, then
the <a class="reference internal" href="command/isMaster.html#isMaster.ismaster" title="isMaster.ismaster"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">ismaster</span></tt></a> and <a class="reference internal" href="command/isMaster.html#isMaster.secondary" title="isMaster.secondary"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">secondary</span></tt></a>
fields report if the instance is the <a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a> or if it is a
<a class="reference internal" href="glossary.html#term-secondary"><em class="xref std std-term">secondary</em></a> member of the replica set.</p>
<div class="admonition-see admonition seealso">
<p class="first admonition-title">See</p>
<p class="last"><a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> for the complete documentation of
the output of <a class="reference internal" href="method/db.isMaster.html#db.isMaster" title="db.isMaster()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">isMaster()</span></tt></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="rs.initiate">
<tt class="descclassname">rs.</tt><tt class="descname">initiate</tt><big>(</big><em>configuration</em><big>)</big><a class="headerlink" href="#rs.initiate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>configuration</strong> &#8211; Optional. A <a class="reference internal" href="glossary.html#term-document"><em class="xref std std-term">document</em></a> that specifies
the configuration of a replica
set. If not specified, MongoDB will
use a default configuration.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initiates a replica set. Optionally takes a configuration argument
in the form of a <a class="reference internal" href="glossary.html#term-document"><em class="xref std std-term">document</em></a> that holds the configuration
of a replica set. Consider the following model of the most basic
configuration for a 3-member replica set:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="nx">_id</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">setname</span><span class="o">&gt;</span><span class="p">,</span>
     <span class="nx">members</span> <span class="o">:</span> <span class="p">[</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">host0</span><span class="o">&gt;</span><span class="p">},</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">host1</span><span class="o">&gt;</span><span class="p">},</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">host2</span><span class="o">&gt;</span><span class="p">},</span>
     <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This function provides a wrapper around the
&#8220;<a class="reference internal" href="command/replSetInitiate.html#dbcmd.replSetInitiate" title="replSetInitiate"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetInitiate</span></tt></a>&#8221; <a class="reference internal" href="glossary.html#term-database-command"><em class="xref std std-term">database command</em></a>.</p>
</dd></dl>

<dl class="method">
<dt id="rs.conf">
<tt class="descclassname">rs.</tt><tt class="descname">conf</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.conf" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <a class="reference internal" href="glossary.html#term-document"><em class="xref std std-term">document</em></a> that contains the current
<a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> configuration object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rs.config">
<tt class="descclassname">rs.</tt><tt class="descname">config</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="method/rs.conf.html#rs.config" title="rs.config()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.config()</span></tt></a> is an alias of <a class="reference internal" href="method/rs.conf.html#rs.conf" title="rs.conf()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="rs.reconfig">
<tt class="descclassname">rs.</tt><tt class="descname">reconfig</tt><big>(</big><em>configuration</em><span class="optional">[</span>, <em>force</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#rs.reconfig" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>configuration</strong> &#8211; A <a class="reference internal" href="glossary.html#term-document"><em class="xref std std-term">document</em></a> that specifies
the configuration of a replica set.</li>
<li><strong>force</strong> &#8211; Optional. Specify <tt class="docutils literal"><span class="pre">{</span> <span class="pre">force:</span> <span class="pre">true</span> <span class="pre">}</span></tt> as the force
parameter to force the replica set to accept the new
configuration even if a majority of the members are
not accessible. Use with caution, as this can lead to
<a class="reference internal" href="glossary.html#term-rollback"><em class="xref std std-term">rollback</em></a> situations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Initializes a new <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> configuration. This function
will disconnect the shell briefly and forces a reconnection as the
replica set renegotiates which node will be
<a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a>. As a result, the shell will display an error even
if this command succeeds.</p>
<p><a class="reference internal" href="method/rs.reconfig.html#rs.reconfig" title="rs.reconfig()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a> provides a wrapper around the
&#8220;<a class="reference internal" href="command/replSetReconfig.html#dbcmd.replSetReconfig" title="replSetReconfig"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetReconfig</span></tt></a>&#8221; <a class="reference internal" href="glossary.html#term-database-command"><em class="xref std std-term">database command</em></a>.</p>
<p><a class="reference internal" href="method/rs.reconfig.html#rs.reconfig" title="rs.reconfig()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a> overwrites the existing replica set
configuration. Retrieve the current configuration object with
<a class="reference internal" href="method/rs.conf.html#rs.conf" title="rs.conf()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a>, modify the configuration as needed and then
use <a class="reference internal" href="method/rs.reconfig.html#rs.reconfig" title="rs.reconfig()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a> to submit the modified configuration
object.</p>
<p>To reconfigure a replica set, use the following sequence of
operations:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">conf</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">conf</span><span class="p">()</span>

<span class="c1">// modify conf to change configuration</span>

<span class="nx">rs</span><span class="p">.</span><span class="nx">reconfig</span><span class="p">(</span><span class="nx">conf</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to force the reconfiguration if a majority of the set
isn&#8217;t connected to the current member, or you&#8217;re issuing the
command against a secondary, use the following form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">conf</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">conf</span><span class="p">()</span>

<span class="c1">// modify conf to change configuration</span>

<span class="nx">rs</span><span class="p">.</span><span class="nx">reconfig</span><span class="p">(</span><span class="nx">conf</span><span class="p">,</span> <span class="p">{</span> <span class="nx">force</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Forcing a <a class="reference internal" href="method/rs.reconfig.html#rs.reconfig" title="rs.reconfig()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a> can lead to <a class="reference internal" href="glossary.html#term-rollback"><em class="xref std std-term">rollback</em></a>
situations and other difficult to recover from
situations. Exercise caution when using this option.</p>
</div>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">&#8220;<a class="reference internal" href="replica-configuration.html"><em>Replica Set Configuration</em></a>&#8221; and &#8220;<a class="reference internal" href="../administration/replica-sets.html"><em>Replica Set Administration</em></a>&#8221;.</p>
</div>
</dd></dl>

</div>
<div class="section" id="definition">
<h2>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="rs.add">
<tt class="descclassname">rs.</tt><tt class="descname">add</tt><big>(</big><em>host</em>, <em>arbiterOnly</em><big>)</big><a class="headerlink" href="#rs.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a member to a <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameters</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">host</span></tt></td>
<td>string or document</td>
<td>Either a string or a document.  If a string, specifies a host (and
optionally port-number) for a new host member for the replica set;
MongoDB will add this host with the default configuration. If a
document, specifies any attributes about a member of a replica set.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">arbiterOnly</span></tt></td>
<td>boolean</td>
<td>Optional. If <tt class="docutils literal"><span class="pre">true</span></tt>, this host is an arbiter. If the second argument
evaluates to <tt class="docutils literal"><span class="pre">true</span></tt>, as is the case with some <a class="reference internal" href="glossary.html#term-document"><em class="xref std std-term">documents</em></a>, then this instance will become an arbiter.</td>
</tr>
</tbody>
</table>
<p>You may specify new hosts in one of two ways:</p>
<ol class="arabic simple">
<li>as a &#8220;hostname&#8221; with an optional port number to use the default
configuration as in the <a class="reference internal" href="../tutorial/expand-replica-set.html#replica-set-add-member"><em>Add a Member to an Existing Replica Set</em></a> example.</li>
<li>as a configuration <a class="reference internal" href="glossary.html#term-document"><em class="xref std std-term">document</em></a>, as in the
<a class="reference internal" href="../tutorial/expand-replica-set.html#replica-set-add-member-alternate-procedure"><em>Add a Member to an Existing Replica Set (Alternate Procedure)</em></a> example.</li>
</ol>
<p>This function will disconnect the shell briefly and forces a
reconnection as the replica set renegotiates which node
will be <a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a>. As a result, the shell will display an
error even if this command succeeds.</p>
<p><a class="reference internal" href="method/rs.add.html#rs.add" title="rs.add()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.add()</span></tt></a> provides a wrapper around some of the
functionality of the &#8220;<a class="reference internal" href="command/replSetReconfig.html#dbcmd.replSetReconfig" title="replSetReconfig"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetReconfig</span></tt></a>&#8221; <a class="reference internal" href="glossary.html#term-database-command"><em class="xref std std-term">database
command</em></a> and the corresponding shell helper
<a class="reference internal" href="method/rs.reconfig.html#rs.reconfig" title="rs.reconfig()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a>. See the <a class="reference internal" href="replica-configuration.html"><em>Replica Set Configuration</em></a>
document for full documentation of all replica set configuration
options.</p>
</dd></dl>

</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>To add a <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> accessible on the default port
<tt class="docutils literal"><span class="pre">27017</span></tt> running on the host <tt class="docutils literal"><span class="pre">mongodb3.example.net</span></tt>, use the
following <a class="reference internal" href="method/rs.add.html#rs.add" title="rs.add()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.add()</span></tt></a> invocation:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">rs</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;mongodb3.example.net:27017&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If <tt class="docutils literal"><span class="pre">mongodb3.example.net</span></tt> is an arbiter, use the following form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">rs</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;mongodb3.example.net:27017&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</pre></div>
</div>
<p>To add <tt class="docutils literal"><span class="pre">mongodb3.example.net</span></tt> as a <a class="reference internal" href="../core/replication.html#replica-set-secondary-only-members"><em>secondary-only</em></a> member of set, use the
following form of <a class="reference internal" href="method/rs.add.html#rs.add" title="rs.add()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.add()</span></tt></a>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">rs</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="p">{</span> <span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;host&quot;</span><span class="o">:</span> <span class="s2">&quot;mongodbd3.example.net:27017&quot;</span><span class="p">,</span> <span class="s2">&quot;priority&quot;</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>Replace, <tt class="docutils literal"><span class="pre">3</span></tt> with the next unused <tt class="docutils literal"><span class="pre">_id</span></tt> value in the replica
set. See <a class="reference internal" href="method/rs.conf.html#rs.conf" title="rs.conf()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a> to see the existing <tt class="docutils literal"><span class="pre">_id</span></tt> values
in the replica set configuration document.</p>
<p>See the <a class="reference internal" href="replica-configuration.html"><em>Replica Set Configuration</em></a> and
<a class="reference internal" href="../administration/replica-sets.html"><em>Replica Set Administration</em></a> documents for more
information.</p>
<dl class="method">
<dt id="rs.addArb">
<tt class="descclassname">rs.</tt><tt class="descname">addArb</tt><big>(</big><em>hostname</em><big>)</big><a class="headerlink" href="#rs.addArb" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> (<em>string</em>) &#8211; Specifies a host (and optionally port-number)
for an arbiter member for the replica set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Adds a new <a class="reference internal" href="glossary.html#term-arbiter"><em class="xref std std-term">arbiter</em></a> to an existing replica set.</p>
<p>This function will disconnect the shell briefly and forces a
reconnection as the replica set renegotiates which node
will be <a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a>. As a result, the shell will display an
error even if this command succeeds.</p>
</dd></dl>

<dl class="method">
<dt id="rs.stepDown">
<tt class="descclassname">rs.</tt><tt class="descname">stepDown</tt><big>(</big><em>seconds</em><big>)</big><a class="headerlink" href="#rs.stepDown" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>seconds</strong> (<em>init</em>) &#8211; Specify the duration of this operation. If not
specified the command uses the default value
of 60 seconds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">disconnects shell.</p>
</td>
</tr>
</tbody>
</table>
<p>Forces the current replica set member to step down as
<a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a> and then attempt to avoid election as primary for
the designated number of seconds. Produces an error if the current
node is not primary.</p>
<p>This function will disconnect the shell briefly and forces a
reconnection as the <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> renegotiates which node
will be <a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a>. As a result, the shell will display an
error even if this command succeeds.</p>
<p><a class="reference internal" href="method/rs.stepDown.html#rs.stepDown" title="rs.stepDown()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.stepDown()</span></tt></a> provides a wrapper around the
<a class="reference internal" href="glossary.html#term-database-command"><em class="xref std std-term">database command</em></a> <a class="reference internal" href="command/replSetStepDown.html#dbcmd.replSetStepDown" title="replSetStepDown"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetStepDown</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="rs.freeze">
<tt class="descclassname">rs.</tt><tt class="descname">freeze</tt><big>(</big><em>seconds</em><big>)</big><a class="headerlink" href="#rs.freeze" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>seconds</strong> (<em>init</em>) &#8211; Specify the duration of this operation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Forces the current node to become ineligible to become primary for
the period specified.</p>
<p><a class="reference internal" href="method/rs.freeze.html#rs.freeze" title="rs.freeze()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.freeze()</span></tt></a> provides a wrapper around the <a class="reference internal" href="glossary.html#term-database-command"><em class="xref std std-term">database
command</em></a> <a class="reference internal" href="command/replSetFreeze.html#dbcmd.replSetFreeze" title="replSetFreeze"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetFreeze</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="rs.remove">
<tt class="descclassname">rs.</tt><tt class="descname">remove</tt><big>(</big><em>hostname</em><big>)</big><a class="headerlink" href="#rs.remove" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hostname</strong> &#8211; Specify one of the existing hosts to remove from
the current replica set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Removes the node described by the <tt class="docutils literal"><span class="pre">hostname</span></tt> parameter from the
current <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a>. This function will disconnect the
shell briefly and forces a reconnection as the <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a>
renegotiates which node will be <a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a>. As a
result, the shell will display an error even if this command
succeeds.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Before running the <a class="reference internal" href="method/rs.remove.html#rs.remove" title="rs.remove()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.remove()</span></tt></a> operation, you must <em>shut
down</em> the replica set member that you&#8217;re removing.</p>
<p class="last versionchanged">
<span class="versionmodified">Changed in version 2.2: </span>This procedure is no longer required when using
<a class="reference internal" href="method/rs.remove.html#rs.remove" title="rs.remove()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.remove()</span></tt></a>, but it remains good practice.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="rs.slaveOk">
<tt class="descclassname">rs.</tt><tt class="descname">slaveOk</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.slaveOk" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a shorthand for the following operation:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">getMongo</span><span class="p">().</span><span class="nx">setSlaveOk</span><span class="p">()</span>
</pre></div>
</div>
<p>This allows the current connection to allow read operations to run
on <a class="reference internal" href="glossary.html#term-secondary"><em class="xref std std-term">secondary</em></a> nodes. See the <a class="reference internal" href="method/cursor.readPref.html#cursor.readPref" title="cursor.readPref()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">readPref()</span></tt></a> method for more fine-grained control over
<a class="reference internal" href="../core/read-preference.html"><em>read preference</em></a> in the
<a class="reference internal" href="program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell.</p>
</dd></dl>

<dl class="method">
<dt id="iddup.db.isMaster">
<tt class="descclassname">db.</tt><tt class="descname">isMaster</tt><big>(</big><big>)</big><a class="headerlink" href="#iddup.db.isMaster" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A document that describes the role of the
<a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance.</td>
</tr>
</tbody>
</table>
<p>If the <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> is a member of a <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a>, then
the <a class="reference internal" href="command/isMaster.html#isMaster.ismaster" title="isMaster.ismaster"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">ismaster</span></tt></a> and <a class="reference internal" href="command/isMaster.html#isMaster.secondary" title="isMaster.secondary"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">secondary</span></tt></a>
fields report if the instance is the <a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a> or if it is a
<a class="reference internal" href="glossary.html#term-secondary"><em class="xref std std-term">secondary</em></a> member of the replica set.</p>
<div class="admonition-see admonition seealso">
<p class="first admonition-title">See</p>
<p class="last"><a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> for the complete documentation of
the output of <a class="reference internal" href="method/db.isMaster.html#db.isMaster" title="db.isMaster()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">isMaster()</span></tt></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="rs.help">
<tt class="descclassname">rs.</tt><tt class="descname">help</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.help" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a basic help text for all of the <a class="reference internal" href="../core/replication.html"><em>replication</em></a> related shell functions.</p>
</dd></dl>

<dl class="method">
<dt id="rs.syncFrom">
<tt class="descclassname">rs.</tt><tt class="descname">syncFrom</tt><big>(</big><big>)</big><a class="headerlink" href="#rs.syncFrom" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 2.2.</span></p>
<p>Provides a wrapper around the <a class="reference internal" href="command/replSetSyncFrom.html#dbcmd.replSetSyncFrom" title="replSetSyncFrom"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetSyncFrom</span></tt></a>, which
allows administrators to configure the member of a replica set that
the current member will pull data from. Specify the name of the
member you want to replicate from in the form of <tt class="docutils literal"><span class="pre">[hostname]:[port]</span></tt>.</p>
<p>See <a class="reference internal" href="command/replSetSyncFrom.html#dbcmd.replSetSyncFrom" title="replSetSyncFrom"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetSyncFrom</span></tt></a> for more details.</p>
</dd></dl>

</div>
<div class="section" id="database-commands">
<span id="replica-set-database-commands"></span><h2>Database Commands<a class="headerlink" href="#database-commands" title="Permalink to this headline">¶</a></h2>
<p>The following commands apply to replica sets. For a complete list of all
commands, see <a class="reference internal" href="command.html"><em>Database Commands</em></a>.</p>
</div>
<div class="section" id="id1">
<h2>Definition<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<dl class="dbcommand">
<dt id="dbcmd.isMaster">
<tt class="descname">isMaster</tt><a class="headerlink" href="#dbcmd.isMaster" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> returns a document that describes the role of
the <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance.</p>
<p>If the instance is a member of a
replica set, then <a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> returns a subset of the
replica set configuration and status including whether or not the
instance is the <a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a> of the replica set.</p>
<p>When sent to a <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance that is not a member of a
replica set, <a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> returns a subset of this
information.</p>
<p>MongoDB <a class="reference internal" href="glossary.html#term-driver"><em class="xref std std-term">drivers</em></a> and <a class="reference internal" href="glossary.html#term-client"><em class="xref std std-term">clients</em></a> use
<a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> to determine the state of the replica set
members and to discover additional members of a <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica
set</em></a>.</p>
<p>The <a class="reference internal" href="method/db.isMaster.html#db.isMaster" title="db.isMaster()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.isMaster()</span></tt></a> method in the <a class="reference internal" href="program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell
provides a wrapper around <a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a>.</p>
<p>The command takes the following form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">isMaster</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="method/db.isMaster.html#db.isMaster" title="db.isMaster()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.isMaster()</span></tt></a></p>
</div>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h2>
<div class="section" id="all-instances">
<h3>All Instances<a class="headerlink" href="#all-instances" title="Permalink to this headline">¶</a></h3>
<p>The following <a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> fields are common across all
roles:</p>
<dl class="data">
<dt id="isMaster.ismaster">
<tt class="descclassname">isMaster.</tt><tt class="descname">ismaster</tt><a class="headerlink" href="#isMaster.ismaster" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value that reports when this node is writable. If
<tt class="docutils literal"><span class="pre">true</span></tt>, then this instance is a <a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a> in a
<a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a>, or a <a class="reference internal" href="glossary.html#term-master"><em class="xref std std-term">master</em></a> in a master-slave
configuration, or a <a class="reference internal" href="program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a> instance, or a standalone
<a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a>.</p>
<p>This field will be <tt class="docutils literal"><span class="pre">false</span></tt> if the instance is a
<a class="reference internal" href="glossary.html#term-secondary"><em class="xref std std-term">secondary</em></a> member of a replica set or if the member is an
<a class="reference internal" href="glossary.html#term-arbiter"><em class="xref std std-term">arbiter</em></a> of a replica set.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.maxBsonObjectSize">
<tt class="descclassname">isMaster.</tt><tt class="descname">maxBsonObjectSize</tt><a class="headerlink" href="#isMaster.maxBsonObjectSize" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum permitted size of a <a class="reference internal" href="glossary.html#term-bson"><em class="xref std std-term">BSON</em></a> object in bytes for
this <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> process. If not provided, clients should
assume a max size of &#8220;<tt class="docutils literal"><span class="pre">4</span> <span class="pre">*</span> <span class="pre">1024</span> <span class="pre">*</span> <span class="pre">1024</span></tt>&#8221;.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.maxMessageSizeBytes">
<tt class="descclassname">isMaster.</tt><tt class="descname">maxMessageSizeBytes</tt><a class="headerlink" href="#isMaster.maxMessageSizeBytes" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 2.4.</span></p>
<p>The maximum permitted size of a <a class="reference internal" href="glossary.html#term-bson"><em class="xref std std-term">BSON</em></a> wire protocol message.
The default value is <tt class="docutils literal"><span class="pre">48000000</span></tt> bytes.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.localTime">
<tt class="descclassname">isMaster.</tt><tt class="descname">localTime</tt><a class="headerlink" href="#isMaster.localTime" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 2.2.</span></p>
<p>Returns the local server time in UTC. This value is an
<a class="reference internal" href="glossary.html#term-isodate"><em class="xref std std-term">ISO date</em></a>.</p>
</dd></dl>

</div>
<div class="section" id="sharded-instances">
<h3>Sharded Instances<a class="headerlink" href="#sharded-instances" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a> instances add the following field to the
<a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> response document:</p>
<dl class="data">
<dt id="isMaster.msg">
<tt class="descclassname">isMaster.</tt><tt class="descname">msg</tt><a class="headerlink" href="#isMaster.msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the value <tt class="docutils literal"><span class="pre">isdbgrid</span></tt> when <a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a>
returns from a <a class="reference internal" href="program/mongos.html#bin.mongos" title="mongos"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongos</span></tt></a> instance.</p>
</dd></dl>

</div>
<div class="section" id="replica-sets">
<h3>Replica Sets<a class="headerlink" href="#replica-sets" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a> contains these fields when returned by a member
of a replica set:</p>
<dl class="data">
<dt id="isMaster.setName">
<tt class="descclassname">isMaster.</tt><tt class="descname">setName</tt><a class="headerlink" href="#isMaster.setName" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the current :replica set.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.secondary">
<tt class="descclassname">isMaster.</tt><tt class="descname">secondary</tt><a class="headerlink" href="#isMaster.secondary" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value that, when <tt class="docutils literal"><span class="pre">true</span></tt>, indicates if the
<a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> is a <a class="reference internal" href="glossary.html#term-secondary"><em class="xref std std-term">secondary</em></a> member of a <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica
set</em></a>.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.hosts">
<tt class="descclassname">isMaster.</tt><tt class="descname">hosts</tt><a class="headerlink" href="#isMaster.hosts" title="Permalink to this definition">¶</a></dt>
<dd><p>An array of strings in the format of <tt class="docutils literal"><span class="pre">&quot;[hostname]:[port]&quot;</span></tt> that
lists all members of the <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> that are neither
<a class="reference internal" href="glossary.html#term-hidden-member"><em class="xref std std-term">hidden</em></a>, <a class="reference internal" href="glossary.html#term-passive-member"><em class="xref std std-term">passive</em></a>,
nor <a class="reference internal" href="glossary.html#term-arbiter"><em class="xref std std-term">arbiters</em></a>.</p>
<p>Drivers use this array and the <a class="reference internal" href="command/isMaster.html#isMaster.passives" title="isMaster.passives"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">isMaster.passives</span></tt></a> to determine
which members to read from.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.passives">
<tt class="descclassname">isMaster.</tt><tt class="descname">passives</tt><a class="headerlink" href="#isMaster.passives" title="Permalink to this definition">¶</a></dt>
<dd><p>An array of strings in the format of <tt class="docutils literal"><span class="pre">&quot;[hostname]:[port]&quot;</span></tt>
listing all members of the <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> which have a
<a class="reference internal" href="../core/replication.html#replica-set-node-priority"><em>priority</em></a> of <tt class="docutils literal"><span class="pre">0</span></tt>.</p>
<p>This field only appears if there is at least one member with a
<a class="reference internal" href="../core/replication.html#replica-set-node-priority"><em>priority</em></a> of <tt class="docutils literal"><span class="pre">0</span></tt>.</p>
<p>Drivers use this array and the <a class="reference internal" href="command/isMaster.html#isMaster.hosts" title="isMaster.hosts"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">isMaster.hosts</span></tt></a> to determine
which members to read from.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.arbiters">
<tt class="descclassname">isMaster.</tt><tt class="descname">arbiters</tt><a class="headerlink" href="#isMaster.arbiters" title="Permalink to this definition">¶</a></dt>
<dd><p>An array of strings  in the format of <tt class="docutils literal"><span class="pre">&quot;[hostname]:[port]&quot;</span></tt>
listing all members of the <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> that are
<a class="reference internal" href="glossary.html#term-arbiter"><em class="xref std std-term">arbiters</em></a>.</p>
<p>This field only appears if there is at least one arbiter in the
replica set.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.primary">
<tt class="descclassname">isMaster.</tt><tt class="descname">primary</tt><a class="headerlink" href="#isMaster.primary" title="Permalink to this definition">¶</a></dt>
<dd><p>A string in the format of <tt class="docutils literal"><span class="pre">&quot;[hostname]:[port]&quot;</span></tt> listing the
current <a class="reference internal" href="glossary.html#term-primary"><em class="xref std std-term">primary</em></a> member of the replica set.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.arbiterOnly">
<tt class="descclassname">isMaster.</tt><tt class="descname">arbiterOnly</tt><a class="headerlink" href="#isMaster.arbiterOnly" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value that , when <tt class="docutils literal"><span class="pre">true</span></tt>, indicates that the current
instance is an <a class="reference internal" href="glossary.html#term-arbiter"><em class="xref std std-term">arbiter</em></a>.  The <a class="reference internal" href="command/isMaster.html#isMaster.arbiterOnly" title="isMaster.arbiterOnly"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">arbiterOnly</span></tt></a>
field is only present, if the instance is an arbiter.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.passive">
<tt class="descclassname">isMaster.</tt><tt class="descname">passive</tt><a class="headerlink" href="#isMaster.passive" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value that, when <tt class="docutils literal"><span class="pre">true</span></tt>, indicates that the current
instance is <a class="reference internal" href="glossary.html#term-hidden-member"><em class="xref std std-term">hidden</em></a>.  The
<a class="reference internal" href="command/isMaster.html#isMaster.passive" title="isMaster.passive"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">passive</span></tt></a> field is only present for hidden members.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.hidden">
<tt class="descclassname">isMaster.</tt><tt class="descname">hidden</tt><a class="headerlink" href="#isMaster.hidden" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value that, when <tt class="docutils literal"><span class="pre">true</span></tt>, indicates that the current
instance is <a class="reference internal" href="glossary.html#term-hidden-member"><em class="xref std std-term">hidden</em></a>.  The
<a class="reference internal" href="command/isMaster.html#isMaster.hidden" title="isMaster.hidden"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">hidden</span></tt></a> field is only present for hidden members.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.tags">
<tt class="descclassname">isMaster.</tt><tt class="descname">tags</tt><a class="headerlink" href="#isMaster.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>A document that lists any tags assigned to this member. This field
is only present if there are tags assigned to the member. See
<a class="reference internal" href="../tutorial/configure-replica-set-tag-sets.html"><em>Configure Replica Set Tag Sets</em></a> for more
information.</p>
</dd></dl>

<dl class="data">
<dt id="isMaster.me">
<tt class="descclassname">isMaster.</tt><tt class="descname">me</tt><a class="headerlink" href="#isMaster.me" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">[hostname]:[port]</span></tt> of the member that returned
<a class="reference internal" href="command/isMaster.html#dbcmd.isMaster" title="isMaster"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">isMaster</span></tt></a>.</p>
</dd></dl>

<dl class="dbcommand">
<dt id="dbcmd.resync">
<tt class="descname">resync</tt><a class="headerlink" href="#dbcmd.resync" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="command/resync.html#dbcmd.resync" title="resync"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">resync</span></tt></a> command forces an out-of-date slave
<a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance to re-synchronize itself. Note
that this command is relevant to master-slave replication only. It does
not apply to replica sets.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This command obtains a global write lock and will block other
operations until it has completed.</p>
</div>
</dd></dl>

<dl class="dbcommand">
<dt id="dbcmd.replSetFreeze">
<tt class="descname">replSetFreeze</tt><a class="headerlink" href="#dbcmd.replSetFreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="command/replSetFreeze.html#dbcmd.replSetFreeze" title="replSetFreeze"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetFreeze</span></tt></a> command prevents a replica set
member from seeking election for the specified number of
seconds. Use this command in conjunction with the
<a class="reference internal" href="command/replSetStepDown.html#dbcmd.replSetStepDown" title="replSetStepDown"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetStepDown</span></tt></a> command to make a different node in
the replica set a primary.</p>
<p>The <a class="reference internal" href="command/replSetFreeze.html#dbcmd.replSetFreeze" title="replSetFreeze"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetFreeze</span></tt></a> command uses the following syntax:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">replSetFreeze</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">seconds</span><span class="o">&gt;</span> <span class="p">}</span>
</pre></div>
</div>
<p>If you want to unfreeze a replica set member before the specified number
of seconds has elapsed, you can issue the command with a seconds
value of <tt class="docutils literal"><span class="pre">0</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">replSetFreeze</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span>
</pre></div>
</div>
<p>Restarting the <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> process also unfreezes a replica
set member.</p>
<p><a class="reference internal" href="command/replSetFreeze.html#dbcmd.replSetFreeze" title="replSetFreeze"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetFreeze</span></tt></a> is an administrative command, and you
must issue it against the <a class="reference internal" href="glossary.html#term-admin-database"><em class="xref std std-term">admin database</em></a>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="id2">
<h2>Definition<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<dl class="dbcommand">
<dt id="dbcmd.replSetGetStatus">
<tt class="descname">replSetGetStatus</tt><a class="headerlink" href="#dbcmd.replSetGetStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">replSetGetStatus</span></tt> command returns the status of the replica
set from the point of view of the current server. You must run the
command against the <a class="reference internal" href="glossary.html#term-admin-database"><em class="xref std std-term">admin database</em></a>. The command has the
following prototype format:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">replSetGetStatus</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
</pre></div>
</div>
<p>The value specified does not affect the output of the command. Data
provided by this command derives from data included in heartbeats
sent to the current instance by other members of the replica set.
Because of the frequency of heartbeats, these data can be several
seconds out of date.</p>
<p>You can also access this functionality through the
<a class="reference internal" href="method/rs.status.html#rs.status" title="rs.status()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.status()</span></tt></a> helper in the <a class="reference internal" href="program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell.</p>
<p>The <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> must have replication enabled and be a member
of a replica set for the for <a class="reference internal" href="command/replSetGetStatus.html#dbcmd.replSetGetStatus" title="replSetGetStatus"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetGetStatus</span></tt></a> to return
successfully.</p>
</dd></dl>

</div>
<div class="section" id="id3">
<h2>Output<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="replSetGetStatus.set">
<tt class="descclassname">replSetGetStatus.</tt><tt class="descname">set</tt><a class="headerlink" href="#replSetGetStatus.set" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">set</span></tt> value is the name of the replica set, configured in the
<a class="reference internal" href="configuration-options.html#replSet" title="replSet"><tt class="xref mongodb mongodb-setting docutils literal"><span class="pre">replSet</span></tt></a> setting. This is the same value as
<a class="reference internal" href="replica-configuration.html#local.system.replset._id" title="local.system.replset._id"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">_id</span></tt></a> in <a class="reference internal" href="method/rs.conf.html#rs.conf" title="rs.conf()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a>.</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.date">
<tt class="descclassname">replSetGetStatus.</tt><tt class="descname">date</tt><a class="headerlink" href="#replSetGetStatus.date" title="Permalink to this definition">¶</a></dt>
<dd><p>The value of the <tt class="docutils literal"><span class="pre">date</span></tt> field is an <a class="reference internal" href="glossary.html#term-isodate"><em class="xref std std-term">ISODate</em></a> of the
current time, according to the current server. Compare this to the
value of the <a class="reference internal" href="command/replSetGetStatus.html#replSetGetStatus.members.lastHeartbeat" title="replSetGetStatus.members.lastHeartbeat"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">lastHeartbeat</span></tt></a> to find the
operational lag between the current host and the other hosts in the
set.</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.myState">
<tt class="descclassname">replSetGetStatus.</tt><tt class="descname">myState</tt><a class="headerlink" href="#replSetGetStatus.myState" title="Permalink to this definition">¶</a></dt>
<dd><p>The value of <a class="reference internal" href="command/replSetGetStatus.html#replSetGetStatus.myState" title="replSetGetStatus.myState"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">myState</span></tt></a> reflects state of the current
replica set member. An integer between <tt class="docutils literal"><span class="pre">0</span></tt> and <tt class="docutils literal"><span class="pre">10</span></tt> represents
the state of the member. These integers map to states, as described
in the following table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="25%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Number</strong></th>
<th class="head"><strong>Name</strong></th>
<th class="head"><strong>State</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td><tt class="docutils literal"><span class="pre">STARTUP</span></tt></td>
<td>Start up, phase 1 (parsing configuration.)</td>
</tr>
<tr class="row-odd"><td>1</td>
<td><tt class="docutils literal"><span class="pre">PRIMARY</span></tt></td>
<td>Primary.</td>
</tr>
<tr class="row-even"><td>2</td>
<td><tt class="docutils literal"><span class="pre">SECONDARY</span></tt></td>
<td>Secondary.</td>
</tr>
<tr class="row-odd"><td>3</td>
<td><tt class="docutils literal"><span class="pre">RECOVERING</span></tt></td>
<td>Member is recovering (initial sync, post-rollback, stale members.)</td>
</tr>
<tr class="row-even"><td>4</td>
<td><tt class="docutils literal"><span class="pre">FATAL</span></tt></td>
<td>Member has encountered an unrecoverable error.</td>
</tr>
<tr class="row-odd"><td>5</td>
<td><tt class="docutils literal"><span class="pre">STARTUP2</span></tt></td>
<td>Start up, phase 2 (forking threads.)</td>
</tr>
<tr class="row-even"><td>6</td>
<td><tt class="docutils literal"><span class="pre">UNKNOWN</span></tt></td>
<td>Unknown (the set has never connected to the member.)</td>
</tr>
<tr class="row-odd"><td>7</td>
<td><tt class="docutils literal"><span class="pre">ARBITER</span></tt></td>
<td>Member is an <a class="reference internal" href="glossary.html#term-arbiter"><em class="xref std std-term">arbiter</em></a>.</td>
</tr>
<tr class="row-even"><td>8</td>
<td><tt class="docutils literal"><span class="pre">DOWN</span></tt></td>
<td>Member is not accessible to the set.</td>
</tr>
<tr class="row-odd"><td>9</td>
<td><tt class="docutils literal"><span class="pre">ROLLBACK</span></tt></td>
<td>Member is rolling back data. See <a class="reference internal" href="glossary.html#term-rollback"><em class="xref std std-term">rollback</em></a>.</td>
</tr>
<tr class="row-even"><td>10</td>
<td><tt class="docutils literal"><span class="pre">SHUNNED</span></tt></td>
<td>Member has been removed from replica set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members">
<tt class="descclassname">replSetGetStatus.</tt><tt class="descname">members</tt><a class="headerlink" href="#replSetGetStatus.members" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">members</span></tt> field holds an array that contains a document for
every member in the replica set.</p>
<dl class="data">
<dt id="replSetGetStatus.members.name">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">name</tt><a class="headerlink" href="#replSetGetStatus.members.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">name</span></tt> field holds the name of the server.</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.self">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">self</tt><a class="headerlink" href="#replSetGetStatus.members.self" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">self</span></tt> field is only included in the document for the
current <tt class="docutils literal"><span class="pre">mongod</span></tt> instance in the members array. It&#8217;s value is
<tt class="docutils literal"><span class="pre">true</span></tt>.</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.errmsg">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">errmsg</tt><a class="headerlink" href="#replSetGetStatus.members.errmsg" title="Permalink to this definition">¶</a></dt>
<dd><p>This field contains the most recent error or status message
received from the member. This field may be empty (e.g. <tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt>) in
some cases.</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.health">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">health</tt><a class="headerlink" href="#replSetGetStatus.members.health" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">health</span></tt> value is only present for the other members of the
replica set (i.e. not the member that returns
<a class="reference internal" href="method/rs.status.html#rs.status" title="rs.status"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.status</span></tt></a>.) This field conveys if the member is up (i.e.
<tt class="docutils literal"><span class="pre">1</span></tt>) or down (i.e. <tt class="docutils literal"><span class="pre">0</span></tt>.)</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.state">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">state</tt><a class="headerlink" href="#replSetGetStatus.members.state" title="Permalink to this definition">¶</a></dt>
<dd><p>The value of the <a class="reference internal" href="command/replSetGetStatus.html#replSetGetStatus.members.state" title="replSetGetStatus.members.state"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">state</span></tt></a> reflects
state of this replica set member. An integer between <tt class="docutils literal"><span class="pre">0</span></tt> and
<tt class="docutils literal"><span class="pre">10</span></tt> represents the state of the member. These integers map to
states, as described in the following table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="25%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Number</strong></th>
<th class="head"><strong>Name</strong></th>
<th class="head"><strong>State</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td><tt class="docutils literal"><span class="pre">STARTUP</span></tt></td>
<td>Start up, phase 1 (parsing configuration.)</td>
</tr>
<tr class="row-odd"><td>1</td>
<td><tt class="docutils literal"><span class="pre">PRIMARY</span></tt></td>
<td>Primary.</td>
</tr>
<tr class="row-even"><td>2</td>
<td><tt class="docutils literal"><span class="pre">SECONDARY</span></tt></td>
<td>Secondary.</td>
</tr>
<tr class="row-odd"><td>3</td>
<td><tt class="docutils literal"><span class="pre">RECOVERING</span></tt></td>
<td>Member is recovering (initial sync, post-rollback, stale members.)</td>
</tr>
<tr class="row-even"><td>4</td>
<td><tt class="docutils literal"><span class="pre">FATAL</span></tt></td>
<td>Member has encountered an unrecoverable error.</td>
</tr>
<tr class="row-odd"><td>5</td>
<td><tt class="docutils literal"><span class="pre">STARTUP2</span></tt></td>
<td>Start up, phase 2 (forking threads.)</td>
</tr>
<tr class="row-even"><td>6</td>
<td><tt class="docutils literal"><span class="pre">UNKNOWN</span></tt></td>
<td>Unknown (the set has never connected to the member.)</td>
</tr>
<tr class="row-odd"><td>7</td>
<td><tt class="docutils literal"><span class="pre">ARBITER</span></tt></td>
<td>Member is an <a class="reference internal" href="glossary.html#term-arbiter"><em class="xref std std-term">arbiter</em></a>.</td>
</tr>
<tr class="row-even"><td>8</td>
<td><tt class="docutils literal"><span class="pre">DOWN</span></tt></td>
<td>Member is not accessible to the set.</td>
</tr>
<tr class="row-odd"><td>9</td>
<td><tt class="docutils literal"><span class="pre">ROLLBACK</span></tt></td>
<td>Member is rolling back data. See <a class="reference internal" href="glossary.html#term-rollback"><em class="xref std std-term">rollback</em></a>.</td>
</tr>
<tr class="row-even"><td>10</td>
<td><tt class="docutils literal"><span class="pre">SHUNNED</span></tt></td>
<td>Member has been removed from replica set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.stateStr">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">stateStr</tt><a class="headerlink" href="#replSetGetStatus.members.stateStr" title="Permalink to this definition">¶</a></dt>
<dd><p>A string that describes <a class="reference internal" href="command/replSetGetStatus.html#replSetGetStatus.members.state" title="replSetGetStatus.members.state"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">state</span></tt></a>.</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.uptime">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">uptime</tt><a class="headerlink" href="#replSetGetStatus.members.uptime" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="command/replSetGetStatus.html#replSetGetStatus.members.uptime" title="replSetGetStatus.members.uptime"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">uptime</span></tt></a> field holds a value
that reflects the number of seconds that this member has been
online.</p>
<p>This value does not appear for the member that returns the
<a class="reference internal" href="method/rs.status.html#rs.status" title="rs.status()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.status()</span></tt></a> data.</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.optime">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">optime</tt><a class="headerlink" href="#replSetGetStatus.members.optime" title="Permalink to this definition">¶</a></dt>
<dd><p>A document that contains information regarding the last operation
from the operation log that this member has applied.</p>
<dl class="data">
<dt id="replSetGetStatus.members.optime.t">
<tt class="descclassname">replSetGetStatus.members.optime.</tt><tt class="descname">t</tt><a class="headerlink" href="#replSetGetStatus.members.optime.t" title="Permalink to this definition">¶</a></dt>
<dd><p>A 32-bit timestamp of the last operation applied to this member
of the replica set from the <a class="reference internal" href="glossary.html#term-oplog"><em class="xref std std-term">oplog</em></a>.</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.optime.i">
<tt class="descclassname">replSetGetStatus.members.optime.</tt><tt class="descname">i</tt><a class="headerlink" href="#replSetGetStatus.members.optime.i" title="Permalink to this definition">¶</a></dt>
<dd><p>An incremented field, which reflects the number of operations
in since the last time stamp. This value only increases if
there is more than one operation per second.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.optimeDate">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">optimeDate</tt><a class="headerlink" href="#replSetGetStatus.members.optimeDate" title="Permalink to this definition">¶</a></dt>
<dd><p>An <a class="reference internal" href="glossary.html#term-isodate"><em class="xref std std-term">ISODate</em></a> formatted date string that reflects the last
entry from the <a class="reference internal" href="glossary.html#term-oplog"><em class="xref std std-term">oplog</em></a> that this member applied. If this
differs significantly from
<a class="reference internal" href="command/replSetGetStatus.html#replSetGetStatus.members.lastHeartbeat" title="replSetGetStatus.members.lastHeartbeat"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">lastHeartbeat</span></tt></a> this member is
either experiencing &#8220;replication lag&#8221; <em>or</em> there have not been any
new operations since the last update. Compare
<tt class="docutils literal"><span class="pre">members.optimeDate</span></tt> between all of the members of the set.</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.lastHeartbeat">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">lastHeartbeat</tt><a class="headerlink" href="#replSetGetStatus.members.lastHeartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">lastHeartbeat</span></tt> value provides an <a class="reference internal" href="glossary.html#term-isodate"><em class="xref std std-term">ISODate</em></a> formatted
date of the last heartbeat received from this member. Compare this
value to the value of the <a class="reference internal" href="command/replSetGetStatus.html#replSetGetStatus.date" title="replSetGetStatus.date"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">date</span></tt></a> field to
track latency between these members.</p>
<p>This value does not appear for the member that returns the
<a class="reference internal" href="method/rs.status.html#rs.status" title="rs.status()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.status()</span></tt></a> data.</p>
</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.members.pingMS">
<tt class="descclassname">replSetGetStatus.members.</tt><tt class="descname">pingMS</tt><a class="headerlink" href="#replSetGetStatus.members.pingMS" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">pingMS</span></tt> represents the number of milliseconds (ms) that a
round-trip packet takes to travel between the remote member and
the local instance.</p>
<p>This value does not appear for the member that returns the
<a class="reference internal" href="method/rs.status.html#rs.status" title="rs.status()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.status()</span></tt></a> data.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="replSetGetStatus.syncingTo">
<tt class="descclassname">replSetGetStatus.</tt><tt class="descname">syncingTo</tt><a class="headerlink" href="#replSetGetStatus.syncingTo" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="docutils literal"><span class="pre">syncingTo</span></tt> field is only present on the output of
<a class="reference internal" href="method/rs.status.html#rs.status" title="rs.status()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.status()</span></tt></a> on <a class="reference internal" href="glossary.html#term-secondary"><em class="xref std std-term">secondary</em></a> and recovering members,
and holds the hostname of the member from which this instance is
syncing.</p>
</dd></dl>

<dl class="dbcommand">
<dt id="dbcmd.replSetInitiate">
<tt class="descname">replSetInitiate</tt><a class="headerlink" href="#dbcmd.replSetInitiate" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="command/replSetInitiate.html#dbcmd.replSetInitiate" title="replSetInitiate"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetInitiate</span></tt></a> command initializes a new replica set. Use the
following syntax:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">replSetInitiate</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">config_document</span><span class="o">&gt;</span> <span class="p">}</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">&lt;config_document&gt;</span></tt> is a <a class="reference internal" href="glossary.html#term-document"><em class="xref std std-term">document</em></a> that specifies
the replica set&#8217;s configuration. For instance, here&#8217;s a config document
for creating a simple 3-member replica set:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="nx">_id</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">setname</span><span class="o">&gt;</span><span class="p">,</span>
     <span class="nx">members</span> <span class="o">:</span> <span class="p">[</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">host0</span><span class="o">&gt;</span><span class="p">},</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">host1</span><span class="o">&gt;</span><span class="p">},</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">host2</span><span class="o">&gt;</span><span class="p">},</span>
     <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A typical way of running this command is to assign the config document to
a variable and then to pass the document to the
<a class="reference internal" href="method/rs.initiate.html#rs.initiate" title="rs.initiate()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.initiate()</span></tt></a> helper:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">_id</span> <span class="o">:</span> <span class="s2">&quot;my_replica_set&quot;</span><span class="p">,</span>
     <span class="nx">members</span> <span class="o">:</span> <span class="p">[</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="s2">&quot;rs1.example.net:27017&quot;</span><span class="p">},</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="s2">&quot;rs2.example.net:27017&quot;</span><span class="p">},</span>
         <span class="p">{</span><span class="nx">_id</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">host</span> <span class="o">:</span> <span class="s2">&quot;rs3.example.net&quot;</span><span class="p">,</span> <span class="nx">arbiterOnly</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
     <span class="p">]</span>
<span class="p">}</span>

<span class="nx">rs</span><span class="p">.</span><span class="nx">initiate</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that omitting the port cause the host to use the default port
of 27017. Notice also that you can specify other options in the config
documents such as the <tt class="docutils literal"><span class="pre">arbiterOnly</span></tt> setting in this example.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">&#8220;<a class="reference internal" href="replica-configuration.html"><em>Replica Set Configuration</em></a>,&#8221;
&#8220;<a class="reference internal" href="../administration/replica-sets.html"><em>Replica Set Administration</em></a>,&#8221; and &#8220;<a class="reference internal" href="replica-configuration.html#replica-set-reconfiguration-usage"><em>Replica Set
Reconfiguration</em></a>.&#8221;</p>
</div>
</dd></dl>

<dl class="dbcommand">
<dt id="dbcmd.replSetMaintenance">
<tt class="descname">replSetMaintenance</tt><a class="headerlink" href="#dbcmd.replSetMaintenance" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="command/replSetMaintenance.html#dbcmd.replSetMaintenance" title="replSetMaintenance"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetMaintenance</span></tt></a> admin command enables or disables the
maintenance mode for a <a class="reference internal" href="glossary.html#term-secondary"><em class="xref std std-term">secondary</em></a> member of a <a class="reference internal" href="glossary.html#term-replica-set"><em class="xref std std-term">replica
set</em></a>.</p>
<p>The command has the following prototype form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">replSetMaintenance</span><span class="o">:</span> <span class="o">&lt;</span><span class="kr">boolean</span><span class="o">&gt;</span> <span class="p">}</span>
</pre></div>
</div>
<p>Consider the following behavior when running the
<a class="reference internal" href="command/replSetMaintenance.html#dbcmd.replSetMaintenance" title="replSetMaintenance"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetMaintenance</span></tt></a> command:</p>
<ul class="simple">
<li>You cannot run the command on the Primary.</li>
<li>You must run the command against the <tt class="docutils literal"><span class="pre">admin</span></tt> database.</li>
<li>When enabled <tt class="docutils literal"><span class="pre">replSetMaintenance:</span> <span class="pre">1</span></tt>, the member enters the
<tt class="docutils literal"><span class="pre">RECOVERING</span></tt> state. While the secondary is <tt class="docutils literal"><span class="pre">RECOVERING</span></tt>:<ul>
<li>The member is not accessible for read operations.</li>
<li>The member continues to sync its <a class="reference internal" href="glossary.html#term-oplog"><em class="xref std std-term">oplog</em></a> from the Primary.</li>
</ul>
</li>
</ul>
</dd></dl>

<dl class="dbcommand">
<dt id="dbcmd.replSetReconfig">
<tt class="descname">replSetReconfig</tt><a class="headerlink" href="#dbcmd.replSetReconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="command/replSetReconfig.html#dbcmd.replSetReconfig" title="replSetReconfig"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetReconfig</span></tt></a> command modifies the configuration
of an existing replica set. You can use this command to add and
remove members, and to alter the options set on existing
members. Use the following syntax:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">replSetReconfig</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">new_config_document</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">force</span><span class="o">:</span> <span class="kc">false</span> <span class="p">}</span>
</pre></div>
</div>
<p>You may also run the command using the shell&#8217;s <a class="reference internal" href="method/rs.reconfig.html#rs.reconfig" title="rs.reconfig()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a> method.</p>
<p>Be aware of the following <a class="reference internal" href="command/replSetReconfig.html#dbcmd.replSetReconfig" title="replSetReconfig"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetReconfig</span></tt></a> behaviors:</p>
<ul>
<li><p class="first">You must issue this command against the <a class="reference internal" href="glossary.html#term-admin-database"><em class="xref std std-term">admin database</em></a> of the current
primary member of the replica set.</p>
</li>
<li><p class="first">You can optionally force the replica set to accept the new
configuration by specifying <tt class="docutils literal"><span class="pre">force:</span> <span class="pre">true</span></tt>. Use this option if
the current member is not primary or if a majority of the members
of the set are not accessible.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Forcing the <a class="reference internal" href="command/replSetReconfig.html#dbcmd.replSetReconfig" title="replSetReconfig"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetReconfig</span></tt></a> command can lead to a
<a class="reference internal" href="glossary.html#term-rollback"><em class="xref std std-term">rollback</em></a> situation. Use with caution.</p>
</div>
<p>Use the force option to restore a replica set to new servers with
different hostnames. This works even if the set members already
have a copy of the data.</p>
</li>
<li><p class="first">A majority of the set&#8217;s members must be operational for the
changes to propagate properly.</p>
</li>
<li><p class="first">This command can cause downtime as the set renegotiates
primary-status. Typically this is 10-20 seconds, but could
be as long as a minute or more. Therefore, you should attempt
to reconfigure only during scheduled maintenance periods.</p>
</li>
<li><p class="first">In some cases, <a class="reference internal" href="command/replSetReconfig.html#dbcmd.replSetReconfig" title="replSetReconfig"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetReconfig</span></tt></a> forces the current
primary to step down, initiating an election for primary among
the members of the replica set. When this happens, the set will
drop all current connections.</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="command/replSetReconfig.html#dbcmd.replSetReconfig" title="replSetReconfig"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetReconfig</span></tt></a> obtains a special mutually
exclusive lock to prevent more than one
<a class="reference internal" href="command/replSetReconfig.html#dbcmd.replSetReconfig" title="replSetReconfig"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetReconfig</span></tt></a> operation from occurring at the same
time.</p>
</div>
</dd></dl>

<dl class="dbcommand">
<dt id="dbcmd.replSetSyncFrom">
<tt class="descname">replSetSyncFrom</tt><a class="headerlink" href="#dbcmd.replSetSyncFrom" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 2.2.</span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Options:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> &#8211; Specifies the name and port number of the replica set member
that this member replicates from. Use
the <tt class="docutils literal"><span class="pre">[hostname]:[port]</span></tt> form.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="command/replSetSyncFrom.html#dbcmd.replSetSyncFrom" title="replSetSyncFrom"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetSyncFrom</span></tt></a> allows you to explicitly configure
which host the current <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> will poll <a class="reference internal" href="glossary.html#term-oplog"><em class="xref std std-term">oplog</em></a>
entries from. This operation may be useful for testing different
patterns and in situations where a set member is not replicating from
the host you want. The member to replicate from must be a valid
source for data in the set.</p>
<p>A member cannot replicate from:</p>
<ul class="simple">
<li>itself.</li>
<li>an arbiter, because arbiters do not hold data.</li>
<li>a member that does not build indexes.</li>
<li>an unreachable member.</li>
<li>a <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance that is not a member of the same
replica set.</li>
</ul>
<p>If you attempt to replicate from a member that is more than 10 seconds
behind the current member, <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> will return and log a
warning, but it still <em>will</em> replicate from the member that is behind.</p>
<p>If you run <a class="reference internal" href="method/rs.syncFrom.html#rs.syncFrom" title="rs.syncFrom()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.syncFrom()</span></tt></a> during initial sync, MongoDB
produces no error messages, but the sync target will not change
until after the initial sync operation.</p>
<p>The command has the following prototype form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="nx">replSetSyncFrom</span><span class="o">:</span> <span class="s2">&quot;[hostname]:[port]&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>To run the command in the <a class="reference internal" href="program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell, use the following
invocation:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">adminCommand</span><span class="p">(</span> <span class="p">{</span> <span class="nx">replSetSyncFrom</span><span class="o">:</span> <span class="s2">&quot;[hostname]:[port]&quot;</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>You may also use the <a class="reference internal" href="method/rs.syncFrom.html#rs.syncFrom" title="rs.syncFrom()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.syncFrom()</span></tt></a> helper in the
<a class="reference internal" href="program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell, in an operation with the following form:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">rs</span><span class="p">.</span><span class="nx">syncFrom</span><span class="p">(</span><span class="s2">&quot;[hostname]:[port]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><a class="reference internal" href="command/replSetSyncFrom.html#dbcmd.replSetSyncFrom" title="replSetSyncFrom"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetSyncFrom</span></tt></a> and <a class="reference internal" href="method/rs.syncFrom.html#rs.syncFrom" title="rs.syncFrom()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.syncFrom()</span></tt></a> provide a
temporary override of default behavior. If:</p>
<ul>
<li><p class="first">the <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance restarts,</p>
</li>
<li><p class="first">the connection to the sync target closes, or</p>
</li>
<li><p class="first versionchanged">
<span class="versionmodified">Changed in version 2.4: </span>The sync target falls more than 30 seconds behind another member of
the replica set;</p>
</li>
</ul>
<p class="last">then, the <a class="reference internal" href="program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance will revert to the default sync
logic and target.</p>
</div>
</dd></dl>

</div>
</div>


    <div id="btnv">
        <ul id="btnvl">
              <li id="btnvpr"><a href="replica-configuration.html" title="Previous Section: Replica Set Configuration">&lt; &nbsp; Replica Set Configuration</a></li>
              <li id="btnvup"><a href="../replication.html" title="Parent Section: Replication" >&#47;&#92;&nbsp; Replication</a></li>
              <li id="btnvnx"><a href="../release-notes/replica-set-features.html" title="Next Section: Replica Set Features and Version Compatibility">Replica Set Features and Version Compatibility &nbsp;&gt;</a></li>
        </ul>
    </div></div></div>
           </div>
       <div class="sphinxsidebar">
         <div class="sphinxsidebarwrapper">
  <h3>
    <a href="../index.html">MongoDB Manual</a> <span id="vn">2.4</span>
  </h3>



<div class="site-contents"><a href="../contents.html">Contents</a></div>


<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crud.html">Core MongoDB Operations (CRUD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-modeling.html">Data Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../replication.html">Replication</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core/replication.html">Replica Set Fundamental Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/replica-set-architectures.html">Replica Set Architectures and Deployment Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../applications/replication.html">Replica Set Considerations and Behaviors for Applications and Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/replication-internals.html">Replica Set Internals and Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/master-slave.html">Master Slave Replication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../administration/replica-sets.html">Replica Set Administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="replica-configuration.html">Replica Set Configuration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Replica Set Commands</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../release-notes/replica-set-features.html">Replica Set Features and Version Compatibility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sharding.html">Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mongo.html">The <tt class="docutils literal"><span class="pre">mongo</span></tt> Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use-cases.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About MongoDB Documentation</a></li>
</ul>



<div class="site-index"><a href="../genindex.html">Index</a></div>
<h3>Formats</h3>
<ul class="this-page-menu">
  <li><a href="/manual/single/">MongoDB Manual, Single HTML Page</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.pdf" rel="nofollow">MongoDB Manual, PDF Format</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.epub" rel="nofollow">MongoDB Manual, ePub Format</a></li>
</ul>
<h3><a href="http://www.mongodb.org/about/">About MongoDB</a></h3>
<ul>
  <li><a href="http://www.mongodb.org/about/introduction">Introduction</a></li>
  <li><a href="http://www.mongodb.org/about/community">User Community</a></li>
  <li><a href="http://mongodb.org/about/community/masters">MongoDB Masters</a></li>
  <li><a href="http://planet.mongodb.org">Planet MongoDB</a></li>
</ul>
<h3><a href="http://docs.mongodb.org/ecosystem/">MongoDB Ecosystem</a></h3>
<ul>
 <li><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers and Client libraries</a>
   <ul>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/c">C</a> (<a href="http://api.mongodb.org/c/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/cpp">C++</a> (<a href="http://api.mongodb.org/cplusplus/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/csharp">C#</a> (<a href="http://api.mongodb.org/csharp/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/erlang">Erlang</a> (<a href="http://api.mongodb.org/erlang">docs</a>)</li>
     <li><a href="http://hackage.haskell.org/package/mongoDB">Haskell</a> (<a href="http://api.mongodb.org/haskell">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/java">Java</a> (<a href="http://api.mongodb.org/java/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/javascript">JavaScript</a> (<a href="http://api.mongodb.org/js/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/perl">Perl</a> (<a href="http://api.mongodb.org/perl/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/php">PHP</a> (<a href="http://php.net/mongo/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/python">Python</a> (<a href="http://api.mongodb.org/python/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/ruby">Ruby</a> (<a href="http://api.mongodb.org/ruby/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/scala">Scala</a> (<a href="http://api.mongodb.org/scala/casbah/current/">docs</a>)</li>
   </ul>
 </li>
 <li><a href="http://docs.mongodb.org/ecosystem/tools/">Tools and Integration</a></li>
 <li><a href="http://docs.mongodb.org/ecosystem/platforms/">Platform Integration</a></li>
</ul><h3>MongoDB Resources</h3>
<ul>
  <li><a href="http://www.mongodb.org/downloads">Downloads</a></li>
  <li><a href="http://www.10gen.com/events">MongoDB Events</a></li>
  <li><a href="http://www.10gen.com/presentations">Slides and Video</a></li>
  <li><a href="http://www.10gen.com/products/mms/">MongoDB Monitoring Service</a> (<a href="http://mms.10gen.com/help/">docs</a>)</li>
</ul>
         </div>
       </div>
        <div class="clearer"></div>
      </div><div id="top-right">
        <div class="user-right">
          <ul id="header-menu-bar" class="ajs-menu-bar">
            <li class="normal"><a target="_blank" href="http://groups.google.com/group/mongodb-user">Forums</a></li>
            <li class="normal"><a target="_blank" href="http://blog.mongodb.org/">Blog</a></li>
            <li class="normal"><a href="http://www.mongodb.org/downloads">Download</a></li>
            <li class="normal"><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers</a></li>
            <li class="normal"><a href="http://www.10gen.com/events">Events</a></li>
            <li class="normal last"><a class="last" href="http://docs.mongodb.org/manual/meta/translation">Translations</a></li>
          </ul>
        </div>
      </div>
      <div class="search-db"><gcse:searchbox></gcse:searchbox></div>
          <div id="etp">
            <ul>
              <li><a href="https://github.com/mongodb/docs/blob/master/source/reference/replica-commands.txt" target="_blank" title="Edit reference/replica-commands.txt on GitHub">Edit this Page</a></li>
              <li><a href="http://github.com/mongodb/docs" target="_blank" title="Fork the documentation on GitHub and contribute.">GitHub</a></li>
              <li><a id="jirafeedback" href="https://jira.mongodb.org/secure/CreateIssueDetails!init.jspa?pid=10380&issuetype=4&priority=4&summary=Comment+on%3a+%22reference/replica-commands%2Etxt%22" target="_blank" title="Report a problem with reference/replica-commands.txt on Jira">Report a Problem</a></li>
            </ul>
          </div>
      <div class="footer">
        <p>
          &copy; <a href="">Copyright</a> 2011-2013, 10gen, Inc. 
          MongoDB&reg;, Mongo&reg;, and the leaf logo are registered trademarks of <a href="http://www.10gen.com/">10gen, Inc.</a>
        </p>
      </div><script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
_gaq.push(['_setAccount', 'UA-7301842-8']);
_gaq.push(['_setDomainName', 'docs.mongodb.org']);
_gaq.push(['_trackPageview']);
(function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
        })();
</script>

<script type="text/javascript">var _kiq = _kiq || [];</script>
<script type="text/javascript">
(function(){
setTimeout(function(){ var d = document, f = d.getElementsByTagName('script')[0], s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//s3.amazonaws.com/ki.js/49119/a7n.js'; f.parentNode.insertBefore(s, f); }, 1);
})();
</script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-7301842-14', 'mongodb.org');
ga('send', 'pageview');
</script>

<script type="text/javascript">
document.write(unescape("%3Cscript src='" + document.location.protocol + "//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script>try { mktoMunchkin("017-HGS-593"); } catch(e) {}</script><script type="text/javascript">
jQuery.ajax({
	 url: "https://jira.mongodb.org/s/en_UScn8g8x/782/6/1.2.5/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?collectorId=298ba4e7",
	 type: "get",
	 cache: true,
	 dataType: "script"
	});
window.ATL_JQ_PAGE_PROPS =  {
	"triggerFunction": function(showCollectorDialog) {
		jQuery("#jirafeedback").click(function(e) {e.preventDefault();showCollectorDialog();});},
		fieldValues: {component: 'mongodb-manual', summary: 'Comment on: "manual/reference/replica-commands.txt"'},
		environment: {'repo': 'docs','source': 'reference/replica-commands'}
		};
</script><script type="text/javascript">
var versions = [{'t': '2.4 (current)', 'v': 'v2.4'}, {'t': '2.2', 'v': 'v2.2'}]
var pagename = 'reference/replica-commands'
var stable = 'v2.4'

function vfnav() {
    if ( pagename=='index' ) {
        pn = ''
    }
    else {
        pn = pagename
    }

    v = $(this).children("option:selected").attr('value')

    if ( (v==0) || (v==stable) ) {
        uri = '/manual/' + pn
    }
    else {
        uri = '/' + v + '/' + pn
    }
    window.location.href= uri;
}

$(document).ready(function(){
    $("#vn").html(function(){
        s=$("<select/>");
        o='<option/>';

        $.each(versions,function(index, version) {
            if ( version.v==stable ) {
                dv=true;
            }
            $(o,{value:version.v,text: version.t}).appendTo(s);
        });

        if ( dv==false ) {
            $(o, {value:0,text:'(stable)'}).appendTo(s);
        }
        return(s);
    });

    $("#vn select").bind('change', vfnav);
    $('#vn select').val('v2.4');
});
</script>
</body>
</html>