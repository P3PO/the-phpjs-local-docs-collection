<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head><title>db.currentOp() &mdash; MongoDB Manual 2.4.3</title><link rel="shortcut icon" href="http://media.mongodb.org/favicon.ico" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="robots" content="index" />
  <meta name="release" content="2.4.3"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/master/source/reference/method/db.currentOp.txt"/>
      <link rel="canonical" href="http://docs.mongodb.org/manual/reference/method/db.currentOp" />
  
   <link rel="stylesheet" href="../../_static/mongodb-docs.css" type="text/css" />
   <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      
   <script type="text/javascript">
     var DOCUMENTATION_OPTIONS = {
         URL_ROOT:    '../../',
         VERSION:     '2.4',
         COLLAPSE_INDEX: false,
         FILE_SUFFIX: '.html',
         HAS_SOURCE:  false,
     };
   </script>
       <script type="text/javascript" src="../../_static/jquery.js"></script>
       <script type="text/javascript" src="../../_static/underscore.js"></script>
       <script type="text/javascript" src="../../_static/doctools.js"></script>
          <link rel="search" type="application/opensearchdescription+xml" href="http://docs.mongodb.org/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../../about.html" />
<link rel="top" title="MongoDB Manual" href="../../index.html" />
<link rel="up" title="Database Methods" href="js-database.html" />
<link rel="next" title="db.dropDatabase()" href="db.dropDatabase.html" />
<link rel="prev" title="db.createCollection()" href="db.createCollection.html" />
          <script>
            (function() {
               var cx = '017213726194841070573:WMX6838984';
               var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
               gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;
               var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
            })();
          </script></head>
<body>
      <div id="header-db" class="spread">
        <div class="split">
          <div id="logo">
            <div><a href="http://www.mongodb.org/"><img class="logo" src="http://media.mongodb.org/logo-mongodb.png" alt="MongoDB Logo"/></a></div>
          </div>
        </div>
      </div>  
      <div class="document">
           <div class="documentwrapper"><div class="bodywrapper">
               <div class="body">
                 
    <div class="bc">
      <ul>
          <li><a href="../../reference.html">Reference</a><span class="bcpoint"> > </span></li>
          
          <li><a href="../method.html"><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">mongo</span></tt> Shell Methods</a><span class="bcpoint"> > </span></li>
          
          <li><a href="js-database.html">Database Methods</a><span class="bcpoint"> > </span></li>
          <li>db.currentOp()</li> 
      </ul>
    </div>
                 <div id="cse-results">
                   <gcse:searchresults linkTarget="_top"></gcse:searchresults>
                 </div>
                 
  <div class="section" id="db-currentop">
<h1>db.currentOp()<a class="headerlink" href="#db-currentop" title="Permalink to this headline">¶</a></h1>
<div class="section" id="definition">
<h2>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="db.currentOp">
<tt class="descclassname">db.</tt><tt class="descname">currentOp</tt><big>(</big><big>)</big><a class="headerlink" href="#db.currentOp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <a class="reference internal" href="../glossary.html#term-document"><em class="xref std std-term">document</em></a> that reports in-progress operations for
the database instance.</td>
</tr>
</tbody>
</table>
<p>The <tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.currentOp()</span></tt> method can take no arguments or take the
<tt class="docutils literal"><span class="pre">true</span></tt> argument, which returns a more verbose output, including
idle connections and system operations. The following example uses
the <tt class="docutils literal"><span class="pre">true</span></tt> argument:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">currentOp</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.currentOp()</span></tt> is available only for users with
administrative privileges.</p>
<p>You can use <a class="reference internal" href="db.killOp.html#db.killOp" title="db.killOp()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.killOp()</span></tt></a> in conjunction with the
<tt class="xref mongodb mongodb-data docutils literal"><span class="pre">opid</span></tt> field to terminate a currently running
operation. The following JavaScript operations for the
<a class="reference internal" href="../program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell filter the output of specific types of
operations:</p>
<ul>
<li><p class="first">Return all pending write operations:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">currentOp</span><span class="p">().</span><span class="nx">inprog</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span>
   <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span>
     <span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">waitingForLock</span> <span class="o">&amp;&amp;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">lockType</span> <span class="o">!=</span> <span class="s2">&quot;read&quot;</span><span class="p">)</span>
        <span class="nx">printjson</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span>
     <span class="p">})</span>
</pre></div>
</div>
</li>
<li><p class="first">Return the active write operation:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">currentOp</span><span class="p">().</span><span class="nx">inprog</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span>
   <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span>
     <span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">active</span> <span class="o">&amp;&amp;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">lockType</span> <span class="o">==</span> <span class="s2">&quot;write&quot;</span><span class="p">)</span>
        <span class="nx">printjson</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span>
     <span class="p">})</span>
</pre></div>
</div>
</li>
<li><p class="first">Return all active read operations:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">db</span><span class="p">.</span><span class="nx">currentOp</span><span class="p">().</span><span class="nx">inprog</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span>
   <span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span>
     <span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">active</span> <span class="o">&amp;&amp;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">lockType</span> <span class="o">==</span> <span class="s2">&quot;read&quot;</span><span class="p">)</span>
        <span class="nx">printjson</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span>
     <span class="p">})</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Terminate running operations with extreme caution. Only use
<a class="reference internal" href="db.killOp.html#db.killOp" title="db.killOp()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.killOp()</span></tt></a> to terminate operations initiated by clients
and <em>do not</em> terminate internal database operations.</p>
</div>
</dd></dl>

</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>The following is an example of <tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.currentOp()</span></tt> output. If you
specify the <tt class="docutils literal"><span class="pre">true</span></tt> argument, <tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.currentOp()</span></tt> returns
more verbose output.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;inprog&quot;</span><span class="o">:</span> <span class="p">[</span>
             <span class="p">{</span>
               <span class="s2">&quot;opid&quot;</span> <span class="o">:</span> <span class="mi">3434473</span><span class="p">,</span>
               <span class="s2">&quot;active&quot;</span> <span class="o">:</span> <span class="o">&lt;</span><span class="kr">boolean</span><span class="o">&gt;</span><span class="p">,</span>
               <span class="s2">&quot;secs_running&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
               <span class="s2">&quot;op&quot;</span> <span class="o">:</span> <span class="s2">&quot;&lt;operation&gt;&quot;</span><span class="p">,</span>
               <span class="s2">&quot;ns&quot;</span> <span class="o">:</span> <span class="s2">&quot;&lt;database&gt;.&lt;collection&gt;&quot;</span><span class="p">,</span>
               <span class="s2">&quot;query&quot;</span> <span class="o">:</span> <span class="p">{</span>
               <span class="p">},</span>
               <span class="s2">&quot;client&quot;</span> <span class="o">:</span> <span class="s2">&quot;&lt;host&gt;:&lt;outgoing&gt;&quot;</span><span class="p">,</span>
               <span class="s2">&quot;desc&quot;</span> <span class="o">:</span> <span class="s2">&quot;conn57683&quot;</span><span class="p">,</span>
               <span class="s2">&quot;threadId&quot;</span> <span class="o">:</span> <span class="s2">&quot;0x7f04a637b700&quot;</span><span class="p">,</span>
               <span class="s2">&quot;connectionId&quot;</span> <span class="o">:</span> <span class="mi">57683</span><span class="p">,</span>
               <span class="s2">&quot;locks&quot;</span> <span class="o">:</span> <span class="p">{</span>
                   <span class="s2">&quot;^&quot;</span> <span class="o">:</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;^local&quot;</span> <span class="o">:</span> <span class="s2">&quot;W&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;^&lt;database&gt;&quot;</span> <span class="o">:</span> <span class="s2">&quot;W&quot;</span>
               <span class="p">},</span>
               <span class="s2">&quot;waitingForLock&quot;</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
               <span class="s2">&quot;msg&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;string&gt;&quot;</span>
               <span class="s2">&quot;numYields&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
               <span class="s2">&quot;progress&quot;</span> <span class="o">:</span> <span class="p">{</span>
                   <span class="s2">&quot;done&quot;</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span><span class="p">,</span>
                   <span class="s2">&quot;total&quot;</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span>
               <span class="p">}</span>
               <span class="s2">&quot;lockStats&quot;</span> <span class="o">:</span> <span class="p">{</span>
                   <span class="s2">&quot;timeLockedMicros&quot;</span> <span class="o">:</span> <span class="p">{</span>
                       <span class="s2">&quot;R&quot;</span> <span class="o">:</span> <span class="nx">NumberLong</span><span class="p">(),</span>
                       <span class="s2">&quot;W&quot;</span> <span class="o">:</span> <span class="nx">NumberLong</span><span class="p">(),</span>
                       <span class="s2">&quot;r&quot;</span> <span class="o">:</span> <span class="nx">NumberLong</span><span class="p">(),</span>
                       <span class="s2">&quot;w&quot;</span> <span class="o">:</span> <span class="nx">NumberLong</span><span class="p">()</span>
                       <span class="p">},</span>
                       <span class="s2">&quot;timeAcquiringMicros&quot;</span> <span class="o">:</span> <span class="p">{</span>
                       <span class="s2">&quot;R&quot;</span> <span class="o">:</span> <span class="nx">NumberLong</span><span class="p">(),</span>
                       <span class="s2">&quot;W&quot;</span> <span class="o">:</span> <span class="nx">NumberLong</span><span class="p">(),</span>
                       <span class="s2">&quot;r&quot;</span> <span class="o">:</span> <span class="nx">NumberLong</span><span class="p">(),</span>
                       <span class="s2">&quot;w&quot;</span> <span class="o">:</span> <span class="nx">NumberLong</span><span class="p">()</span>
                   <span class="p">}</span>
               <span class="p">}</span>
             <span class="p">},</span>
            <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h2>
<p class="versionchanged">
<span class="versionmodified">Changed in version 2.2.</span></p>
<p>The <tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.currentOp()</span></tt> returns a document with an array named
<tt class="docutils literal"><span class="pre">inprog</span></tt>. The <tt class="docutils literal"><span class="pre">inprog</span></tt> array contains a document for each
in-progress operation. The fields that appear for a given operation
depend on the kind of operation and its state.</p>
<dl class="data">
<dt id="currentOp.opid">
<tt class="descclassname">currentOp.</tt><tt class="descname">opid</tt><a class="headerlink" href="#currentOp.opid" title="Permalink to this definition">¶</a></dt>
<dd><p>Holds an identifier for the operation. You can pass this value to
<a class="reference internal" href="db.killOp.html#db.killOp" title="db.killOp()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.killOp()</span></tt></a> in the <a class="reference internal" href="../program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell to terminate the
operation.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.active">
<tt class="descclassname">currentOp.</tt><tt class="descname">active</tt><a class="headerlink" href="#currentOp.active" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean value, that is <tt class="docutils literal"><span class="pre">true</span></tt> if the operation has started
or <tt class="docutils literal"><span class="pre">false</span></tt> if the operation is queued and waiting for a lock to run.
<tt class="xref mongodb mongodb-data docutils literal"><span class="pre">active</span></tt> may be <tt class="docutils literal"><span class="pre">true</span></tt> even if the operation has
yielded to another operation.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.secs_running">
<tt class="descclassname">currentOp.</tt><tt class="descname">secs_running</tt><a class="headerlink" href="#currentOp.secs_running" title="Permalink to this definition">¶</a></dt>
<dd><p>The duration of the operation in seconds. MongoDB calculates this
value by subtracting the current time from the start time of the
operation.</p>
<p>If the operation is not running, (i.e. if <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">active</span></tt> is
<tt class="docutils literal"><span class="pre">false</span></tt>,) this field may not appear in the output of
<tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.currentOp()</span></tt>.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.op">
<tt class="descclassname">currentOp.</tt><tt class="descname">op</tt><a class="headerlink" href="#currentOp.op" title="Permalink to this definition">¶</a></dt>
<dd><p>A string that identifies the type of operation. The possible values
are:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">insert</span></tt></li>
<li><tt class="docutils literal"><span class="pre">query</span></tt></li>
<li><tt class="docutils literal"><span class="pre">update</span></tt></li>
<li><tt class="docutils literal"><span class="pre">remove</span></tt></li>
<li><tt class="docutils literal"><span class="pre">getmore</span></tt></li>
<li><tt class="docutils literal"><span class="pre">command</span></tt></li>
</ul>
</dd></dl>

<dl class="data">
<dt id="currentOp.ns">
<tt class="descclassname">currentOp.</tt><tt class="descname">ns</tt><a class="headerlink" href="#currentOp.ns" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="../glossary.html#term-namespace"><em class="xref std std-term">namespace</em></a> the operation targets. MongoDB forms
namespaces using the name of the <a class="reference internal" href="../glossary.html#term-database"><em class="xref std std-term">database</em></a> and the name of
the <a class="reference internal" href="../glossary.html#term-collection"><em class="xref std std-term">collection</em></a>.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.query">
<tt class="descclassname">currentOp.</tt><tt class="descname">query</tt><a class="headerlink" href="#currentOp.query" title="Permalink to this definition">¶</a></dt>
<dd><p>A document containing the current operation&#8217;s query. The document
is empty for operations that do not have queries: <tt class="docutils literal"><span class="pre">getmore</span></tt>,
<tt class="docutils literal"><span class="pre">insert</span></tt>, and <tt class="docutils literal"><span class="pre">command</span></tt>.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.client">
<tt class="descclassname">currentOp.</tt><tt class="descname">client</tt><a class="headerlink" href="#currentOp.client" title="Permalink to this definition">¶</a></dt>
<dd><p>The IP address (or hostname) and the ephemeral port of the client
connection where the operation originates. If your <tt class="docutils literal"><span class="pre">inprog</span></tt>
array has operations from many different clients, use this string
to relate operations to clients.</p>
<p>For some commands, including <a class="reference internal" href="../command/findAndModify.html#dbcmd.findAndModify" title="findAndModify"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">findAndModify</span></tt></a> and
<a class="reference internal" href="db.eval.html#db.eval" title="db.eval()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">db.eval()</span></tt></a>, the client will be <tt class="docutils literal"><span class="pre">0.0.0.0:0</span></tt>, rather than
an actual client.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.desc">
<tt class="descclassname">currentOp.</tt><tt class="descname">desc</tt><a class="headerlink" href="#currentOp.desc" title="Permalink to this definition">¶</a></dt>
<dd><p>A description of the client. This string includes the
<tt class="xref mongodb mongodb-data docutils literal"><span class="pre">connectionId</span></tt>.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.threadId">
<tt class="descclassname">currentOp.</tt><tt class="descname">threadId</tt><a class="headerlink" href="#currentOp.threadId" title="Permalink to this definition">¶</a></dt>
<dd><p>An identifier for the thread that services the operation and its
connection.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.connectionId">
<tt class="descclassname">currentOp.</tt><tt class="descname">connectionId</tt><a class="headerlink" href="#currentOp.connectionId" title="Permalink to this definition">¶</a></dt>
<dd><p>An identifier for the connection where the operation originated.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.locks">
<tt class="descclassname">currentOp.</tt><tt class="descname">locks</tt><a class="headerlink" href="#currentOp.locks" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 2.2.</span></p>
<p>The <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">locks</span></tt> document reports on the kinds of locks the
operation currently holds. The following kinds of locks are possible:</p>
<dl class="data">
<dt id="currentOp.locks.^">
<tt class="descclassname">currentOp.locks.</tt><tt class="descname">^</tt><a class="headerlink" href="#currentOp.locks.^" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">^</span></tt> reports on the use of the global lock
:for the program:<cite>mongod</cite> instance. All operations must hold the
:global lock for some phases of operation.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.locks.^local">
<tt class="descclassname">currentOp.locks.</tt><tt class="descname">^local</tt><a class="headerlink" href="#currentOp.locks.^local" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">^local</span></tt> reports on the lock for the <tt class="docutils literal"><span class="pre">local</span></tt>
database. MongoDB uses the <tt class="docutils literal"><span class="pre">local</span></tt> database for a number of
operations, but the most frequent use of the <tt class="docutils literal"><span class="pre">local</span></tt> database
is for the <a class="reference internal" href="../glossary.html#term-oplog"><em class="xref std std-term">oplog</em></a> used in replication.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.locks.^&lt;database&gt;">
<tt class="descclassname">currentOp.locks.</tt><tt class="descname">^&lt;database&gt;</tt><a class="headerlink" href="#currentOp.locks.^<database>" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">locks.^&lt;database&gt;</span></tt> reports on the lock state for the
database that this operation targets.</p>
</dd></dl>

<p><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">locks</span></tt> replaces <tt class="docutils literal"><span class="pre">lockType</span></tt> in earlier versions.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.lockType">
<tt class="descclassname">currentOp.</tt><tt class="descname">lockType</tt><a class="headerlink" href="#currentOp.lockType" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionchanged">
<span class="versionmodified">Changed in version 2.2: </span>The <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">locks</span></tt> replaced the <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">lockType</span></tt> field in 2.2.</p>
<p>Identifies the type of lock the operation currently holds. The
possible values are:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">read</span></tt></li>
<li><tt class="docutils literal"><span class="pre">write</span></tt></li>
</ul>
</dd></dl>

<dl class="data">
<dt id="currentOp.waitingForLock">
<tt class="descclassname">currentOp.</tt><tt class="descname">waitingForLock</tt><a class="headerlink" href="#currentOp.waitingForLock" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a boolean value. <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">waitingForLock</span></tt> is <tt class="docutils literal"><span class="pre">true</span></tt> if the
operation is waiting for a lock and <tt class="docutils literal"><span class="pre">false</span></tt> if the operation has
the required lock.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.msg">
<tt class="descclassname">currentOp.</tt><tt class="descname">msg</tt><a class="headerlink" href="#currentOp.msg" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">msg</span></tt> provides a message that describes the status and
progress of the operation. In the case of indexing or mapReduce
operations, the field reports the completion percentage.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.progress">
<tt class="descclassname">currentOp.</tt><tt class="descname">progress</tt><a class="headerlink" href="#currentOp.progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports on the progress of mapReduce or indexing operations. The
<tt class="xref mongodb mongodb-data docutils literal"><span class="pre">progress</span></tt> fields corresponds to the completion percentage in
the <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">msg</span></tt> field. The <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">progress</span></tt> specifies the following
information:</p>
<dl class="data">
<dt id="currentOp.progress.done">
<tt class="descclassname">currentOp.progress.</tt><tt class="descname">done</tt><a class="headerlink" href="#currentOp.progress.done" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports the number completed.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.progress.total">
<tt class="descclassname">currentOp.progress.</tt><tt class="descname">total</tt><a class="headerlink" href="#currentOp.progress.total" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports the total number.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="currentOp.killed">
<tt class="descclassname">currentOp.</tt><tt class="descname">killed</tt><a class="headerlink" href="#currentOp.killed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">true</span></tt> if <a class="reference internal" href="../program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance is in the process of
killing the operation.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.numYields">
<tt class="descclassname">currentOp.</tt><tt class="descname">numYields</tt><a class="headerlink" href="#currentOp.numYields" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">numYields</span></tt> is a counter that reports the number of times the
operation has yielded to allow other operations to complete.</p>
<p>Typically, operations yield when they need access to data that
MongoDB has not yet fully read into memory. This allows
other operations that have data in memory to complete quickly
while MongoDB reads in data for the yielding operation.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.lockStats">
<tt class="descclassname">currentOp.</tt><tt class="descname">lockStats</tt><a class="headerlink" href="#currentOp.lockStats" title="Permalink to this definition">¶</a></dt>
<dd><p class="versionadded">
<span class="versionmodified">New in version 2.2.</span></p>
<p>The <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">lockStats</span></tt> document reflects the amount of time the
operation has spent both acquiring and holding
locks. <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">lockStats</span></tt> reports data on a per-lock type, with the
following possible lock types:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">R</span></tt> represents the global read lock,</li>
<li><tt class="docutils literal"><span class="pre">W</span></tt> represents the global write lock,</li>
<li><tt class="docutils literal"><span class="pre">r</span></tt> represents the database specific read lock, and</li>
<li><tt class="docutils literal"><span class="pre">w</span></tt> represents the database specific write lock.</li>
</ul>
<blockquote>
<div><dl class="data">
<dt id="currentOp.timeLockedMicros">
<tt class="descclassname">currentOp.</tt><tt class="descname">timeLockedMicros</tt><a class="headerlink" href="#currentOp.timeLockedMicros" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">timeLockedMicros</span></tt> document reports the amount of
time the operation has spent holding a specific lock.</p>
<p>For operations that require more than one lock, like those that
lock the <tt class="docutils literal"><span class="pre">local</span></tt> database to update the <a class="reference internal" href="../glossary.html#term-oplog"><em class="xref std std-term">oplog</em></a>, then
the values in this document can be longer than this value may
be longer than the total length of the operation
(i.e. <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">secs_running</span></tt>.)</p>
<dl class="data">
<dt id="currentOp.timeLockedMicros.R">
<tt class="descclassname">currentOp.timeLockedMicros.</tt><tt class="descname">R</tt><a class="headerlink" href="#currentOp.timeLockedMicros.R" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports the amount of time in microseconds the operation has held the
global read lock.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.timeLockedMicros.W">
<tt class="descclassname">currentOp.timeLockedMicros.</tt><tt class="descname">W</tt><a class="headerlink" href="#currentOp.timeLockedMicros.W" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports the amount of time in microseconds the operation has held the
global write lock.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.timeLockedMicros.r">
<tt class="descclassname">currentOp.timeLockedMicros.</tt><tt class="descname">r</tt><a class="headerlink" href="#currentOp.timeLockedMicros.r" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports the amount of time in microseconds the operation has held the
database specific read lock.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.timeLockedMicros.w">
<tt class="descclassname">currentOp.timeLockedMicros.</tt><tt class="descname">w</tt><a class="headerlink" href="#currentOp.timeLockedMicros.w" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports the amount of time in microseconds the operation has held the
database specific write lock.</p>
</dd></dl>

</dd></dl>

</div></blockquote>
<dl class="data">
<dt id="currentOp.timeAcquiringMicros">
<tt class="descclassname">currentOp.</tt><tt class="descname">timeAcquiringMicros</tt><a class="headerlink" href="#currentOp.timeAcquiringMicros" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="xref mongodb mongodb-data docutils literal"><span class="pre">timeAcquiringMicros</span></tt> document reports the amount of time
the operation has spent <em>waiting</em> to acquire a specific lock.</p>
<dl class="data">
<dt id="currentOp.timeAcquiringMicros.R">
<tt class="descclassname">currentOp.timeAcquiringMicros.</tt><tt class="descname">R</tt><a class="headerlink" href="#currentOp.timeAcquiringMicros.R" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports the mount of time in microseconds the operation has waited for the
global read lock.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.timeAcquiringMicros.W">
<tt class="descclassname">currentOp.timeAcquiringMicros.</tt><tt class="descname">W</tt><a class="headerlink" href="#currentOp.timeAcquiringMicros.W" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports the mount of time in microseconds the operation has waited for the
global write lock.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.timeAcquiringMicros.r">
<tt class="descclassname">currentOp.timeAcquiringMicros.</tt><tt class="descname">r</tt><a class="headerlink" href="#currentOp.timeAcquiringMicros.r" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports the mount of time in microseconds the operation has waited for the
database specific read lock.</p>
</dd></dl>

<dl class="data">
<dt id="currentOp.timeAcquiringMicros.w">
<tt class="descclassname">currentOp.timeAcquiringMicros.</tt><tt class="descname">w</tt><a class="headerlink" href="#currentOp.timeAcquiringMicros.w" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports the mount of time in microseconds the operation has waited for the
database specific write lock.</p>
</dd></dl>

</dd></dl>

</dd></dl>

</div>
</div>


    <div id="btnv">
        <ul id="btnvl">
              <li id="btnvpr"><a href="db.createCollection.html" title="Previous Section: db.createCollection()">&lt; &nbsp; db.createCollection()</a></li>
              <li id="btnvup"><a href="../../reference.html" title="Parent Section: Reference" >&#47;&#92;&nbsp; Reference</a></li>
              <li id="btnvnx"><a href="db.dropDatabase.html" title="Next Section: db.dropDatabase()">db.dropDatabase() &nbsp;&gt;</a></li>
        </ul>
    </div></div></div>
           </div>
       <div class="sphinxsidebar">
         <div class="sphinxsidebarwrapper">
  <h3>
    <a href="../../index.html">MongoDB Manual</a> <span id="vn">2.4</span>
  </h3>



<div class="site-contents"><a href="../../contents.html">Contents</a></div>


<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Install MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../crud.html">Core MongoDB Operations (CRUD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data-modeling.html">Data Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aggregation.html">Aggregation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../indexes.html">Indexes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../replication.html">Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sharding.html">Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../applications.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mongo.html">The <tt class="docutils literal"><span class="pre">mongo</span></tt> Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use-cases.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../operator.html">Query, Update and Projection Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../command.html">Database Commands</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../method.html"><tt class="docutils literal"><span class="pre">mongo</span></tt> Shell Methods</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="js-collection.html">Collection Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="js-cursor.html">Cursor Methods</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="js-database.html">Database Methods</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="db.addUser.html">db.addUser()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.auth.html">db.auth()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.cloneCollection.html">db.cloneCollection()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.cloneDatabase.html">db.cloneDatabase()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.commandHelp.html">db.commandHelp()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.copyDatabase.html">db.copyDatabase()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.createCollection.html">db.createCollection()</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">db.currentOp()</a><ul class="simple">
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="db.dropDatabase.html">db.dropDatabase()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.eval.html">db.eval()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.fsyncLock.html">db.fsyncLock()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.fsyncUnlock.html">db.fsyncUnlock()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getCollection.html">db.getCollection()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getCollectionNames.html">db.getCollectionNames()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getLastError.html">db.getLastError()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getLastErrorObj.html">db.getLastErrorObj()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getMongo.html">db.getMongo()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getName.html">db.getName()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getPrevError.html">db.getPrevError()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getProfilingLevel.html">db.getProfilingLevel()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getProfilingStatus.html">db.getProfilingStatus()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getReplicationInfo.html">db.getReplicationInfo()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.getSiblingDB.html">db.getSiblingDB()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.help.html">db.help()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.hostInfo.html">db.hostInfo()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.isMaster.html">db.isMaster()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.killOp.html">db.killOp()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.listCommands.html">db.listCommands()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.loadServerScripts.html">db.loadServerScripts()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.logout.html">db.logout()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.printCollectionStats.html">db.printCollectionStats()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.printReplicationInfo.html">db.printReplicationInfo()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.printShardingStatus.html">db.printShardingStatus()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.printSlaveReplicationInfo.html">db.printSlaveReplicationInfo()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.removeUser.html">db.removeUser()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.repairDatabase.html">db.repairDatabase()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.resetError.html">db.resetError()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.runCommand.html">db.runCommand()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.serverBuildInfo.html">db.serverBuildInfo()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.serverStatus.html">db.serverStatus()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.setProfilingLevel.html">db.setProfilingLevel()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.shutdownServer.html">db.shutdownServer()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.stats.html">db.stats()</a></li>
<li class="toctree-l4"><a class="reference internal" href="db.version.html">db.version()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="js-replication.html">Replication Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="js-sharding.html">Sharding Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="js-connection.html">Connection Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="js-subprocess.html">Subprocess Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="js-native.html">Native Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sql-comparison.html">SQL to MongoDB Mapping Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../program.html">MongoDB Package Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../local-database.html">The <tt class="docutils literal"><span class="pre">local</span></tt> Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system-collections.html">System Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database-profiler.html">Database Profiler Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exit-codes.html">Exit Codes and Statuses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../limits.html">MongoDB Limits and Thresholds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../connection-string.html">Connection String URI Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mongodb-extended-json.html">MongoDB Extended JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database-references.html">Database References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gridfs.html">GridFS Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About MongoDB Documentation</a></li>
</ul>



<div class="site-index"><a href="../../genindex.html">Index</a></div>
<h3>Formats</h3>
<ul class="this-page-menu">
  <li><a href="/manual/single/">MongoDB Manual, Single HTML Page</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.pdf" rel="nofollow">MongoDB Manual, PDF Format</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.epub" rel="nofollow">MongoDB Manual, ePub Format</a></li>
</ul>
<h3><a href="http://www.mongodb.org/about/">About MongoDB</a></h3>
<ul>
  <li><a href="http://www.mongodb.org/about/introduction">Introduction</a></li>
  <li><a href="http://www.mongodb.org/about/community">User Community</a></li>
  <li><a href="http://mongodb.org/about/community/masters">MongoDB Masters</a></li>
  <li><a href="http://planet.mongodb.org">Planet MongoDB</a></li>
</ul>
<h3><a href="http://docs.mongodb.org/ecosystem/">MongoDB Ecosystem</a></h3>
<ul>
 <li><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers and Client libraries</a>
   <ul>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/c">C</a> (<a href="http://api.mongodb.org/c/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/cpp">C++</a> (<a href="http://api.mongodb.org/cplusplus/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/csharp">C#</a> (<a href="http://api.mongodb.org/csharp/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/erlang">Erlang</a> (<a href="http://api.mongodb.org/erlang">docs</a>)</li>
     <li><a href="http://hackage.haskell.org/package/mongoDB">Haskell</a> (<a href="http://api.mongodb.org/haskell">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/java">Java</a> (<a href="http://api.mongodb.org/java/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/javascript">JavaScript</a> (<a href="http://api.mongodb.org/js/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/perl">Perl</a> (<a href="http://api.mongodb.org/perl/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/php">PHP</a> (<a href="http://php.net/mongo/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/python">Python</a> (<a href="http://api.mongodb.org/python/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/ruby">Ruby</a> (<a href="http://api.mongodb.org/ruby/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/scala">Scala</a> (<a href="http://api.mongodb.org/scala/casbah/current/">docs</a>)</li>
   </ul>
 </li>
 <li><a href="http://docs.mongodb.org/ecosystem/tools/">Tools and Integration</a></li>
 <li><a href="http://docs.mongodb.org/ecosystem/platforms/">Platform Integration</a></li>
</ul><h3>MongoDB Resources</h3>
<ul>
  <li><a href="http://www.mongodb.org/downloads">Downloads</a></li>
  <li><a href="http://www.10gen.com/events">MongoDB Events</a></li>
  <li><a href="http://www.10gen.com/presentations">Slides and Video</a></li>
  <li><a href="http://www.10gen.com/products/mms/">MongoDB Monitoring Service</a> (<a href="http://mms.10gen.com/help/">docs</a>)</li>
</ul>
         </div>
       </div>
        <div class="clearer"></div>
      </div><div id="top-right">
        <div class="user-right">
          <ul id="header-menu-bar" class="ajs-menu-bar">
            <li class="normal"><a target="_blank" href="http://groups.google.com/group/mongodb-user">Forums</a></li>
            <li class="normal"><a target="_blank" href="http://blog.mongodb.org/">Blog</a></li>
            <li class="normal"><a href="http://www.mongodb.org/downloads">Download</a></li>
            <li class="normal"><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers</a></li>
            <li class="normal"><a href="http://www.10gen.com/events">Events</a></li>
            <li class="normal last"><a class="last" href="http://docs.mongodb.org/manual/meta/translation">Translations</a></li>
          </ul>
        </div>
      </div>
      <div class="search-db"><gcse:searchbox></gcse:searchbox></div>
          <div id="etp">
            <ul>
              <li><a href="https://github.com/mongodb/docs/blob/master/source/reference/method/db.currentOp.txt" target="_blank" title="Edit reference/method/db.currentOp.txt on GitHub">Edit this Page</a></li>
              <li><a href="http://github.com/mongodb/docs" target="_blank" title="Fork the documentation on GitHub and contribute.">GitHub</a></li>
              <li><a id="jirafeedback" href="https://jira.mongodb.org/secure/CreateIssueDetails!init.jspa?pid=10380&issuetype=4&priority=4&summary=Comment+on%3a+%22reference/method/db.currentOp%2Etxt%22" target="_blank" title="Report a problem with reference/method/db.currentOp.txt on Jira">Report a Problem</a></li>
            </ul>
          </div>
      <div class="footer">
        <p>
          &copy; <a href="">Copyright</a> 2011-2013, 10gen, Inc. 
          MongoDB&reg;, Mongo&reg;, and the leaf logo are registered trademarks of <a href="http://www.10gen.com/">10gen, Inc.</a>
        </p>
      </div><script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
_gaq.push(['_setAccount', 'UA-7301842-8']);
_gaq.push(['_setDomainName', 'docs.mongodb.org']);
_gaq.push(['_trackPageview']);
(function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
        })();
</script>

<script type="text/javascript">var _kiq = _kiq || [];</script>
<script type="text/javascript">
(function(){
setTimeout(function(){ var d = document, f = d.getElementsByTagName('script')[0], s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//s3.amazonaws.com/ki.js/49119/a7n.js'; f.parentNode.insertBefore(s, f); }, 1);
})();
</script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-7301842-14', 'mongodb.org');
ga('send', 'pageview');
</script>

<script type="text/javascript">
document.write(unescape("%3Cscript src='" + document.location.protocol + "//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script>try { mktoMunchkin("017-HGS-593"); } catch(e) {}</script><script type="text/javascript">
jQuery.ajax({
	 url: "https://jira.mongodb.org/s/en_UScn8g8x/782/6/1.2.5/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?collectorId=298ba4e7",
	 type: "get",
	 cache: true,
	 dataType: "script"
	});
window.ATL_JQ_PAGE_PROPS =  {
	"triggerFunction": function(showCollectorDialog) {
		jQuery("#jirafeedback").click(function(e) {e.preventDefault();showCollectorDialog();});},
		fieldValues: {component: 'mongodb-manual', summary: 'Comment on: "manual/reference/method/db.currentOp.txt"'},
		environment: {'repo': 'docs','source': 'reference/method/db.currentOp'}
		};
</script><script type="text/javascript">
var versions = [{'t': '2.4 (current)', 'v': 'v2.4'}, {'t': '2.2', 'v': 'v2.2'}]
var pagename = 'reference/method/db.currentOp'
var stable = 'v2.4'

function vfnav() {
    if ( pagename=='index' ) {
        pn = ''
    }
    else {
        pn = pagename
    }

    v = $(this).children("option:selected").attr('value')

    if ( (v==0) || (v==stable) ) {
        uri = '/manual/' + pn
    }
    else {
        uri = '/' + v + '/' + pn
    }
    window.location.href= uri;
}

$(document).ready(function(){
    $("#vn").html(function(){
        s=$("<select/>");
        o='<option/>';

        $.each(versions,function(index, version) {
            if ( version.v==stable ) {
                dv=true;
            }
            $(o,{value:version.v,text: version.t}).appendTo(s);
        });

        if ( dv==false ) {
            $(o, {value:0,text:'(stable)'}).appendTo(s);
        }
        return(s);
    });

    $("#vn select").bind('change', vfnav);
    $('#vn select').val('v2.4');
});
</script>
</body>
</html>