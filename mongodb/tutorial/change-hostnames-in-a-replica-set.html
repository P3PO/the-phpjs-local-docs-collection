<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head><title>Change Hostnames in a Replica Set &mdash; MongoDB Manual 2.4.3</title><link rel="shortcut icon" href="http://media.mongodb.org/favicon.ico" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="robots" content="index" />
  <meta name="release" content="2.4.3"/>
  <meta name="DC.Source" content="https://github.com/mongodb/docs/blob/master/source/tutorial/change-hostnames-in-a-replica-set.txt"/>
      <link rel="canonical" href="http://docs.mongodb.org/manual/tutorial/change-hostnames-in-a-replica-set" />
  
   <link rel="stylesheet" href="../_static/mongodb-docs.css" type="text/css" />
   <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      
   <script type="text/javascript">
     var DOCUMENTATION_OPTIONS = {
         URL_ROOT:    '../',
         VERSION:     '2.4',
         COLLAPSE_INDEX: false,
         FILE_SUFFIX: '.html',
         HAS_SOURCE:  false,
     };
   </script>
       <script type="text/javascript" src="../_static/jquery.js"></script>
       <script type="text/javascript" src="../_static/underscore.js"></script>
       <script type="text/javascript" src="../_static/doctools.js"></script>
          <link rel="search" type="application/opensearchdescription+xml" href="http://docs.mongodb.org/osd.xml" title="MongoDB Help"/>
<link rel="author" title="About these documents" href="../about.html" />
<link rel="top" title="MongoDB Manual" href="../index.html" />
<link rel="up" title="Replica Set Administration" href="../administration/replica-sets.html" />
<link rel="next" title="Troubleshoot Replica Sets" href="troubleshoot-replica-sets.html" />
<link rel="prev" title="Manage Chained Replication" href="manage-chained-replication.html" />
          <script>
            (function() {
               var cx = '017213726194841070573:WMX6838984';
               var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
               gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;
               var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
            })();
          </script></head>
<body>
      <div id="header-db" class="spread">
        <div class="split">
          <div id="logo">
            <div><a href="http://www.mongodb.org/"><img class="logo" src="http://media.mongodb.org/logo-mongodb.png" alt="MongoDB Logo"/></a></div>
          </div>
        </div>
      </div>  
      <div class="document">
           <div class="documentwrapper"><div class="bodywrapper">
               <div class="body">
                 
    <div class="bc">
      <ul>
          <li><a href="../replication.html">Replication</a><span class="bcpoint"> > </span></li>
          
          <li><a href="../administration/replica-sets.html">Replica Set Administration</a><span class="bcpoint"> > </span></li>
          <li>Change Hostnames in a Replica Set</li> 
      </ul>
    </div>
                 <div id="cse-results">
                   <gcse:searchresults linkTarget="_top"></gcse:searchresults>
                 </div>
                 
  <div class="section" id="change-hostnames-in-a-replica-set">
<h1>Change Hostnames in a Replica Set<a class="headerlink" href="#change-hostnames-in-a-replica-set" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>For most <a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">replica sets</em></a> the hostnames
<a class="footnote-reference" href="#hostnames-ips-dns" id="id1">[1]</a> in the
<a class="reference internal" href="../reference/replica-configuration.html#local.system.replset.members[n].host" title="local.system.replset.members[n].host"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">host</span></tt></a> field never
change. However, in some cases you must migrate some or all host names
in a replica set as organizational needs change. This document
presents two possible procedures for changing the hostnames in the
<a class="reference internal" href="../reference/replica-configuration.html#local.system.replset.members[n].host" title="local.system.replset.members[n].host"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">host</span></tt></a> field. Depending on your
environments availability requirements, you may:</p>
<ol class="arabic">
<li><p class="first">Make the configuration change without disrupting the availability
of the replica set. While this ensures that your application will
always be able to read and write data to the replica set, this
procedure can take a long time and may incur downtime at the
application layer. <a class="footnote-reference" href="#application-changes" id="id2">[2]</a></p>
<p>For this procedure, see <a class="reference internal" href="#replica-set-change-hostname-no-downtime"><em>Changing Hostnames while Maintaining the Replica Set&#8217;s Availability</em></a>.</p>
</li>
<li><p class="first">Stop all members of the replica set at once running on the &#8220;old&#8221;
hostnames or interfaces, make the configuration changes, and then
start the members at the new hostnames or interfaces. While the set
will be totally unavailable during the operation, the total
maintenance window is often shorter.</p>
<p>For this procedure, see <a class="reference internal" href="#replica-set-change-hostname-downtime"><em>Changing All Hostnames in Replica Set at Once</em></a>.</p>
</li>
</ol>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/replica-configuration.html"><em>Replica Set Configuration</em></a></li>
<li><a class="reference internal" href="../reference/replica-configuration.html#replica-set-reconfiguration-usage"><em>Replica Set Reconfiguration Process</em></a></li>
<li><a class="reference internal" href="../reference/method/rs.conf.html#rs.conf" title="rs.conf()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a> and <a class="reference internal" href="../reference/method/rs.reconfig.html#rs.reconfig" title="rs.reconfig()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.reconfig()</span></tt></a></li>
</ul>
<p>And the following tutorials:</p>
<ul class="last simple">
<li><a class="reference internal" href="deploy-replica-set.html"><em>Deploy a Replica Set</em></a></li>
<li><a class="reference internal" href="expand-replica-set.html"><em>Add Members to a Replica Set</em></a></li>
</ul>
</div>
<table class="docutils footnote" frame="void" id="hostnames-ips-dns" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Always use resolvable hostnames
for the value of the <a class="reference internal" href="../reference/replica-configuration.html#local.system.replset.members[n].host" title="local.system.replset.members[n].host"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">host</span></tt></a> field in the replica
set configuration to avoid confusion and complexity.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="application-changes" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>You will have to configure your applications
so that they can connect to the replica set at both the old and new
locations. This often requires a restart and reconfiguration at the
application layer, which may affect the availability of your
applications. This re-configuration is beyond the scope of this
document and makes the <a class="reference internal" href="#replica-set-change-hostname-downtime"><em>second option</em></a>
preferable when you must change the hostnames of <em>all</em> members of
the replica set at once.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="procedures">
<h2>Procedures<a class="headerlink" href="#procedures" title="Permalink to this headline">¶</a></h2>
<p id="procedure-assumption-change-hostnames-replica-set">Given a <a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a> with three members:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">database0.example.com:27017</span></tt> (the <a class="reference internal" href="../reference/glossary.html#term-primary"><em class="xref std std-term">primary</em></a>)</li>
<li><tt class="docutils literal"><span class="pre">database1.example.com:27017</span></tt></li>
<li><tt class="docutils literal"><span class="pre">database2.example.com:27017</span></tt></li>
</ul>
<p>And with the following <a class="reference internal" href="../reference/method/rs.conf.html#rs.conf" title="rs.conf()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a> output:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;rs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;members&quot;</span> <span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;database0.example.com:27017&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;database1.example.com:27017&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;database2.example.com:27017&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following procedures change the members&#8217; hostnames as follows:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">mongodb0.example.net:27017</span></tt> (the primary)</li>
<li><tt class="docutils literal"><span class="pre">mongodb1.example.net:27017</span></tt></li>
<li><tt class="docutils literal"><span class="pre">mongodb2.example.net:27017</span></tt></li>
</ul>
<p>Use the most appropriate procedure for your deployment.</p>
<div class="section" id="changing-hostnames-while-maintaining-the-replica-set-s-availability">
<span id="replica-set-change-hostname-no-downtime"></span><h3>Changing Hostnames while Maintaining the Replica Set&#8217;s Availability<a class="headerlink" href="#changing-hostnames-while-maintaining-the-replica-set-s-availability" title="Permalink to this headline">¶</a></h3>
<p>This procedure uses the above <a class="reference internal" href="#procedure-assumption-change-hostnames-replica-set"><em>assumptions</em></a>.</p>
<ol class="arabic">
<li><p class="first">For each <a class="reference internal" href="../reference/glossary.html#term-secondary"><em class="xref std std-term">secondary</em></a> in the replica set, perform the
following sequence of operations:</p>
<ol class="loweralpha">
<li><p class="first">Stop the secondary.</p>
</li>
<li><p class="first">Restart the secondary at the new location.</p>
</li>
<li><p class="first">Open a <a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell connected to the replica set&#8217;s
primary. In our example, the primary runs on port <tt class="docutils literal"><span class="pre">27017</span></tt> so you
would issue the following command:</p>
<div class="highlight-sh"><div class="highlight"><pre>mongo --port 27017
</pre></div>
</div>
</li>
<li><p class="first">Run the following reconfigure option, for the
<a class="reference internal" href="../reference/replica-configuration.html#local.system.replset.members[n].host" title="local.system.replset.members[n].host"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">host</span></tt></a> value where <tt class="docutils literal"><span class="pre">n</span></tt> is <tt class="docutils literal"><span class="pre">1</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">cfg</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">conf</span><span class="p">()</span>

<span class="nx">cfg</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">host</span> <span class="o">=</span> <span class="s2">&quot;mongodb1.example.net:27017&quot;</span>

<span class="nx">rs</span><span class="p">.</span><span class="nx">reconfig</span><span class="p">(</span><span class="nx">cfg</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../reference/replica-configuration.html"><em>Replica Set Configuration</em></a> for more
information.</p>
</li>
<li><p class="first">Make sure your client applications are able to access the
set at the new location and that the secondary has a chance to
catch up with the other members of the set.</p>
<p>Repeat the above steps for each non-primary member of the set.</p>
</li>
</ol>
</li>
<li><p class="first">Open a <a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell connected to the primary and step
down the primary using <a class="reference internal" href="../reference/command/replSetStepDown.html#dbcmd.replSetStepDown" title="replSetStepDown"><tt class="xref mongodb mongodb-dbcommand docutils literal"><span class="pre">replSetStepDown</span></tt></a>. In the
<a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell, use the <a class="reference internal" href="../reference/method/rs.stepDown.html#rs.stepDown" title="rs.stepDown()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.stepDown()</span></tt></a> wrapper,
as follows:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">rs</span><span class="p">.</span><span class="nx">stepDown</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">When the step down succeeds, shut down the primary.</p>
</li>
<li><p class="first">To make the final configuration change, connect to the new primary
in the <a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell and reconfigure the
<a class="reference internal" href="../reference/replica-configuration.html#local.system.replset.members[n].host" title="local.system.replset.members[n].host"><tt class="xref mongodb mongodb-data docutils literal"><span class="pre">host</span></tt></a> value where <tt class="docutils literal"><span class="pre">n</span></tt> is
<tt class="docutils literal"><span class="pre">0</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">cfg</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">conf</span><span class="p">()</span>

<span class="nx">cfg</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">host</span> <span class="o">=</span> <span class="s2">&quot;mongodb0.example.net:27017&quot;</span>

<span class="nx">rs</span><span class="p">.</span><span class="nx">reconfig</span><span class="p">(</span><span class="nx">cfg</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Start the original primary.</p>
</li>
<li><p class="first">Open a <a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell connected to the primary.</p>
</li>
<li><p class="first">To confirm the new configuration, call <a class="reference internal" href="../reference/method/rs.conf.html#rs.conf" title="rs.conf()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a> in the
<a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell.</p>
<p>Your output should resemble:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;rs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span> <span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;members&quot;</span> <span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;mongodb0.example.net:27017&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;mongodb1.example.net:27017&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;mongodb2.example.net:27017&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="changing-all-hostnames-in-replica-set-at-once">
<span id="replica-set-change-hostname-downtime"></span><h3>Changing All Hostnames in Replica Set at Once<a class="headerlink" href="#changing-all-hostnames-in-replica-set-at-once" title="Permalink to this headline">¶</a></h3>
<p>This procedure uses the above <a class="reference internal" href="#procedure-assumption-change-hostnames-replica-set"><em>assumptions</em></a>.</p>
<ol class="arabic">
<li><p class="first">Stop all members in the <a class="reference internal" href="../reference/glossary.html#term-replica-set"><em class="xref std std-term">replica set</em></a>.</p>
</li>
<li><p class="first">Restart each member <em>on a different port</em> and <em>without</em> using the
<a class="reference internal" href="../reference/program/mongod.html#cmdoption-mongod--replSet"><em class="xref std std-option">--replSet</em></a> run-time option. Changing
the port number during maintenance prevents clients from connecting
to this host while you perform maintenance. Use the member&#8217;s usual
<a class="reference internal" href="../reference/program/mongod.html#cmdoption-mongod--dbpath"><em class="xref std std-option">--dbpath</em></a>, which in this
example is <tt class="docutils literal"><span class="pre">/data/db1</span></tt>. Use a command that resembles the following:</p>
<div class="highlight-sh"><div class="highlight"><pre>mongod --dbpath /data/db1/ --port 37017
</pre></div>
</div>
</li>
<li><p class="first">For each member of the replica set, perform the following sequence
of operations:</p>
<ol class="loweralpha">
<li><p class="first">Open a <a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell connected to the <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a>
running on the new, temporary port. For example, for a member
running on a temporary port of <tt class="docutils literal"><span class="pre">37017</span></tt>, you would issue this
command:</p>
<div class="highlight-sh"><div class="highlight"><pre>mongo --port 37017
</pre></div>
</div>
</li>
<li><p class="first">Edit the replica set configuration manually. The replica set
configuration is the only document in the <tt class="docutils literal"><span class="pre">system.replset</span></tt>
collection in the <tt class="docutils literal"><span class="pre">local</span></tt> database. Edit the replica set
configuration with the new hostnames and correct ports for all
the members of the replica set. Consider the following sequence of
commands to change the hostnames in a three-member set:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">use</span> <span class="nx">local</span>

<span class="nx">cfg</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">system</span><span class="p">.</span><span class="nx">replset</span><span class="p">.</span><span class="nx">findOne</span><span class="p">(</span> <span class="p">{</span> <span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;rs&quot;</span> <span class="p">}</span> <span class="p">)</span>

<span class="nx">cfg</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">host</span> <span class="o">=</span> <span class="s2">&quot;mongodb0.example.net:27017&quot;</span>

<span class="nx">cfg</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">host</span> <span class="o">=</span> <span class="s2">&quot;mongodb1.example.net:27017&quot;</span>

<span class="nx">cfg</span><span class="p">.</span><span class="nx">members</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">host</span> <span class="o">=</span> <span class="s2">&quot;mongodb2.example.net:27017&quot;</span>

<span class="nx">db</span><span class="p">.</span><span class="nx">system</span><span class="p">.</span><span class="nx">replset</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span> <span class="p">{</span> <span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;rs&quot;</span> <span class="p">}</span> <span class="p">,</span> <span class="nx">cfg</span> <span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Stop the <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> process on the member.</p>
</li>
</ol>
</li>
<li><p class="first">After re-configuring all members of the set, start each
<a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instance in the normal way: use the usual port
number and use the <a class="reference internal" href="../reference/program/mongod.html#cmdoption-mongod--replSet"><em class="xref std std-option">--replSet</em></a> option. For
example:</p>
<div class="highlight-sh"><div class="highlight"><pre>mongod --dbpath /data/db1/ --port 27017 --replSet rs
</pre></div>
</div>
</li>
<li><p class="first">Connect to one of the <a class="reference internal" href="../reference/program/mongod.html#bin.mongod" title="mongod"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongod</span></tt></a> instances
using the <a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell. For example:</p>
<div class="highlight-sh"><div class="highlight"><pre>mongo --port 27017
</pre></div>
</div>
</li>
<li><p class="first">To confirm the new configuration, call <a class="reference internal" href="../reference/method/rs.conf.html#rs.conf" title="rs.conf()"><tt class="xref mongodb mongodb-method docutils literal"><span class="pre">rs.conf()</span></tt></a> in the
<a class="reference internal" href="../reference/program/mongo.html#bin.mongo" title="mongo"><tt class="xref mongodb mongodb-program docutils literal"><span class="pre">mongo</span></tt></a> shell.</p>
<p>Your output should resemble:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;rs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span> <span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;members&quot;</span> <span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;mongodb0.example.net:27017&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;mongodb1.example.net:27017&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;host&quot;</span> <span class="o">:</span> <span class="s2">&quot;mongodb2.example.net:27017&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
</div>


    <div id="btnv">
        <ul id="btnvl">
              <li id="btnvpr"><a href="manage-chained-replication.html" title="Previous Section: Manage Chained Replication">&lt; &nbsp; Manage Chained Replication</a></li>
              <li id="btnvup"><a href="../replication.html" title="Parent Section: Replication" >&#47;&#92;&nbsp; Replication</a></li>
              <li id="btnvnx"><a href="troubleshoot-replica-sets.html" title="Next Section: Troubleshoot Replica Sets">Troubleshoot Replica Sets &nbsp;&gt;</a></li>
        </ul>
    </div></div></div>
           </div>
       <div class="sphinxsidebar">
         <div class="sphinxsidebarwrapper">
  <h3>
    <a href="../index.html">MongoDB Manual</a> <span id="vn">2.4</span>
  </h3>



<div class="site-contents"><a href="../contents.html">Contents</a></div>


<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crud.html">Core MongoDB Operations (CRUD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-modeling.html">Data Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aggregation.html">Aggregation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indexes.html">Indexes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../replication.html">Replication</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core/replication.html">Replica Set Fundamental Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/replica-set-architectures.html">Replica Set Architectures and Deployment Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../applications/replication.html">Replica Set Considerations and Behaviors for Applications and Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/replication-internals.html">Replica Set Internals and Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core/master-slave.html">Master Slave Replication</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../administration/replica-sets.html">Replica Set Administration</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="deploy-replica-set.html">Deploy a Replica Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="convert-standalone-to-replica-set.html">Convert a Standalone to a Replica Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="expand-replica-set.html">Add Members to a Replica Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="remove-replica-set-member.html">Remove Members from Replica Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="replace-replica-set-member.html">Replace a Replica Set Member</a></li>
<li class="toctree-l3"><a class="reference internal" href="adjust-replica-set-member-priority.html">Adjust Priority for Replica Set Member</a></li>
<li class="toctree-l3"><a class="reference internal" href="resync-replica-set-member.html">Resync a Member of a Replica Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="deploy-geographically-distributed-replica-set.html">Deploy a Geographically Distributed Replica Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="change-oplog-size.html">Change the Size of the Oplog</a></li>
<li class="toctree-l3"><a class="reference internal" href="force-member-to-be-primary.html">Force a Member to Become Primary</a></li>
<li class="toctree-l3"><a class="reference internal" href="manage-chained-replication.html">Manage Chained Replication</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Change Hostnames in a Replica Set</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="troubleshoot-replica-sets.html">Troubleshoot Replica Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="add-replica-set-arbiter.html">Add an Arbiter to Replica Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="convert-secondary-into-arbiter.html">Convert a Secondary to an Arbiter</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure-a-delayed-replica-set-member.html">Configure a Delayed Replica Set Member</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure-a-hidden-replica-set-member.html">Configure a Replica Set Member as Hidden</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure-a-non-voting-replica-set-member.html">Configure a Non-Voting Replica Set Member</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure-secondary-only-replica-set-member.html">Prevent Replica Set Member from Becoming Primary</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure-replica-set-secondary-sync-target.html">Configure a Secondary&#8217;s Sync Target</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure-replica-set-tag-sets.html">Configure Replica Set Tag Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="reconfigure-replica-set-with-unavailable-members.html">Reconfigure a Replica Set with Unavailable Members</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/replica-configuration.html">Replica Set Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/replica-commands.html">Replica Set Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release-notes/replica-set-features.html">Replica Set Features and Version Compatibility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sharding.html">Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mongo.html">The <tt class="docutils literal"><span class="pre">mongo</span></tt> Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use-cases.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About MongoDB Documentation</a></li>
</ul>



<div class="site-index"><a href="../genindex.html">Index</a></div>
<h3>Formats</h3>
<ul class="this-page-menu">
  <li><a href="/manual/single/">MongoDB Manual, Single HTML Page</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.pdf" rel="nofollow">MongoDB Manual, PDF Format</a></li>
  <li><a href="http://docs.mongodb.org/master/MongoDB-Manual-master.epub" rel="nofollow">MongoDB Manual, ePub Format</a></li>
</ul>
<h3><a href="http://www.mongodb.org/about/">About MongoDB</a></h3>
<ul>
  <li><a href="http://www.mongodb.org/about/introduction">Introduction</a></li>
  <li><a href="http://www.mongodb.org/about/community">User Community</a></li>
  <li><a href="http://mongodb.org/about/community/masters">MongoDB Masters</a></li>
  <li><a href="http://planet.mongodb.org">Planet MongoDB</a></li>
</ul>
<h3><a href="http://docs.mongodb.org/ecosystem/">MongoDB Ecosystem</a></h3>
<ul>
 <li><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers and Client libraries</a>
   <ul>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/c">C</a> (<a href="http://api.mongodb.org/c/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/cpp">C++</a> (<a href="http://api.mongodb.org/cplusplus/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/csharp">C#</a> (<a href="http://api.mongodb.org/csharp/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/erlang">Erlang</a> (<a href="http://api.mongodb.org/erlang">docs</a>)</li>
     <li><a href="http://hackage.haskell.org/package/mongoDB">Haskell</a> (<a href="http://api.mongodb.org/haskell">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/java">Java</a> (<a href="http://api.mongodb.org/java/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/javascript">JavaScript</a> (<a href="http://api.mongodb.org/js/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/perl">Perl</a> (<a href="http://api.mongodb.org/perl/current/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/php">PHP</a> (<a href="http://php.net/mongo/">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/python">Python</a> (<a href="http://api.mongodb.org/python/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/ruby">Ruby</a> (<a href="http://api.mongodb.org/ruby/current">docs</a>)</li>
     <li><a href="http://docs.mongodb.org/ecosystem/drivers/scala">Scala</a> (<a href="http://api.mongodb.org/scala/casbah/current/">docs</a>)</li>
   </ul>
 </li>
 <li><a href="http://docs.mongodb.org/ecosystem/tools/">Tools and Integration</a></li>
 <li><a href="http://docs.mongodb.org/ecosystem/platforms/">Platform Integration</a></li>
</ul><h3>MongoDB Resources</h3>
<ul>
  <li><a href="http://www.mongodb.org/downloads">Downloads</a></li>
  <li><a href="http://www.10gen.com/events">MongoDB Events</a></li>
  <li><a href="http://www.10gen.com/presentations">Slides and Video</a></li>
  <li><a href="http://www.10gen.com/products/mms/">MongoDB Monitoring Service</a> (<a href="http://mms.10gen.com/help/">docs</a>)</li>
</ul>
         </div>
       </div>
        <div class="clearer"></div>
      </div><div id="top-right">
        <div class="user-right">
          <ul id="header-menu-bar" class="ajs-menu-bar">
            <li class="normal"><a target="_blank" href="http://groups.google.com/group/mongodb-user">Forums</a></li>
            <li class="normal"><a target="_blank" href="http://blog.mongodb.org/">Blog</a></li>
            <li class="normal"><a href="http://www.mongodb.org/downloads">Download</a></li>
            <li class="normal"><a href="http://docs.mongodb.org/ecosystem/drivers/">Drivers</a></li>
            <li class="normal"><a href="http://www.10gen.com/events">Events</a></li>
            <li class="normal last"><a class="last" href="http://docs.mongodb.org/manual/meta/translation">Translations</a></li>
          </ul>
        </div>
      </div>
      <div class="search-db"><gcse:searchbox></gcse:searchbox></div>
          <div id="etp">
            <ul>
              <li><a href="https://github.com/mongodb/docs/blob/master/source/tutorial/change-hostnames-in-a-replica-set.txt" target="_blank" title="Edit tutorial/change-hostnames-in-a-replica-set.txt on GitHub">Edit this Page</a></li>
              <li><a href="http://github.com/mongodb/docs" target="_blank" title="Fork the documentation on GitHub and contribute.">GitHub</a></li>
              <li><a id="jirafeedback" href="https://jira.mongodb.org/secure/CreateIssueDetails!init.jspa?pid=10380&issuetype=4&priority=4&summary=Comment+on%3a+%22tutorial/change-hostnames-in-a-replica-set%2Etxt%22" target="_blank" title="Report a problem with tutorial/change-hostnames-in-a-replica-set.txt on Jira">Report a Problem</a></li>
            </ul>
          </div>
      <div class="footer">
        <p>
          &copy; <a href="">Copyright</a> 2011-2013, 10gen, Inc. 
          MongoDB&reg;, Mongo&reg;, and the leaf logo are registered trademarks of <a href="http://www.10gen.com/">10gen, Inc.</a>
        </p>
      </div><script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
_gaq.push(['_setAccount', 'UA-7301842-8']);
_gaq.push(['_setDomainName', 'docs.mongodb.org']);
_gaq.push(['_trackPageview']);
(function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
        })();
</script>

<script type="text/javascript">var _kiq = _kiq || [];</script>
<script type="text/javascript">
(function(){
setTimeout(function(){ var d = document, f = d.getElementsByTagName('script')[0], s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//s3.amazonaws.com/ki.js/49119/a7n.js'; f.parentNode.insertBefore(s, f); }, 1);
})();
</script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-7301842-14', 'mongodb.org');
ga('send', 'pageview');
</script>

<script type="text/javascript">
document.write(unescape("%3Cscript src='" + document.location.protocol + "//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script>try { mktoMunchkin("017-HGS-593"); } catch(e) {}</script><script type="text/javascript">
jQuery.ajax({
	 url: "https://jira.mongodb.org/s/en_UScn8g8x/782/6/1.2.5/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?collectorId=298ba4e7",
	 type: "get",
	 cache: true,
	 dataType: "script"
	});
window.ATL_JQ_PAGE_PROPS =  {
	"triggerFunction": function(showCollectorDialog) {
		jQuery("#jirafeedback").click(function(e) {e.preventDefault();showCollectorDialog();});},
		fieldValues: {component: 'mongodb-manual', summary: 'Comment on: "manual/tutorial/change-hostnames-in-a-replica-set.txt"'},
		environment: {'repo': 'docs','source': 'tutorial/change-hostnames-in-a-replica-set'}
		};
</script><script type="text/javascript">
var versions = [{'t': '2.4 (current)', 'v': 'v2.4'}, {'t': '2.2', 'v': 'v2.2'}]
var pagename = 'tutorial/change-hostnames-in-a-replica-set'
var stable = 'v2.4'

function vfnav() {
    if ( pagename=='index' ) {
        pn = ''
    }
    else {
        pn = pagename
    }

    v = $(this).children("option:selected").attr('value')

    if ( (v==0) || (v==stable) ) {
        uri = '/manual/' + pn
    }
    else {
        uri = '/' + v + '/' + pn
    }
    window.location.href= uri;
}

$(document).ready(function(){
    $("#vn").html(function(){
        s=$("<select/>");
        o='<option/>';

        $.each(versions,function(index, version) {
            if ( version.v==stable ) {
                dv=true;
            }
            $(o,{value:version.v,text: version.t}).appendTo(s);
        });

        if ( dv==false ) {
            $(o, {value:0,text:'(stable)'}).appendTo(s);
        }
        return(s);
    });

    $("#vn select").bind('change', vfnav);
    $('#vn select').val('v2.4');
});
</script>
</body>
</html>