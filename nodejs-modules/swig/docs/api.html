
  
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  
  <!--[if IE]>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <![endif]-->
  <title>Swig » Documentation &raquo; API</title>
  

  

  

<link rel="stylesheet" href="../css/swig.css">



</head>
<body class="">

  


<header class="header">
  <div class="content row">
    <hgroup class="span7">
      <h1><a href="../">Swig</a></h1>
      <h2>A Node.js and Browser-based JavaScript Template Engine</h2>
    </hgroup>
    
    <nav class="span5">
      <ul class="mainNav">
        <li><a href="../docs/">Documentation</a></li>
        <li><a href="https://github.com/paularmstrong/swig/">Code</a></li>
      </ul>
    </nav>
  
  </div>

  <div class="content">
    <p class="warning">This documentation is for a pre-release version and may be missing information.</p>
  </div>
</header>



<div class="content row guttered">
  <div class="span9">
  
<h1>Swig API</h1>



  <section id="SwigOpts" class="doc">
    <h2>Object Type: SwigOpts</h2>
    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L18">lib/swig.js#L18</a></p>


    

  <p>Swig Options Object. This object can be passed to many of the API-level Swig methods to control various aspects of the engine. All keys are optional.</p>



    
    <h3>Properties</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">autoescape</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">boolean</span></code></td>
          <td>Controls whether or not variable output will automatically be escaped for safe HTML output. Defaults to <code data-language="js" class="rainbow"><span class="constant language">true</span></code>. Functions executed in variable statements will not be auto-escaped. Your application/functions should take care of their own auto-escaping.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">varControls</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">array</span></code></td>
          <td>Open and close controls for variables. Defaults to <code data-language="js" class="rainbow">[<span class="string">'{{'</span>, <span class="string">'}}'</span>]</code>.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">tagControls</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">array</span></code></td>
          <td>Open and close controls for tags. Defaults to <code data-language="js" class="rainbow">[<span class="string">'{%'</span>, <span class="string">'%}'</span>]</code>.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">cmtControls</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">array</span></code></td>
          <td>Open and close controls for comments. Defaults to <code data-language="js" class="rainbow">[<span class="string">'{#'</span>, <span class="string">'#}'</span>]</code>.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">locals</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">object</span></code></td>
          <td>Default variable context to be passed to <strong>all</strong> templates.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">cache</var></td>
          <td><code data-language="js" class="rainbow">CacheOptions</code></td>
          <td>Cache control for templates. Defaults to saving in <code data-language="js" class="rainbow">'memory'</code>. Send <code data-language="js" class="rainbow"><span class="constant language">false</span></code> to disable. Send an object with <code data-language="js" class="rainbow">get</code> and <code data-language="js" class="rainbow">set</code> functions to customize.</td>
        </tr>
      
      </tbody>
    </table>
    

    
  </section>



  <section id="CacheOptions" class="doc">
    <h2>Object Type: CacheOptions</h2>
    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L34">lib/swig.js#L34</a></p>


    

  <p>Cache control for templates. Defaults to saving all templates into memory.</p>



    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow"><span class="comment">// Default</span>
swig.<span class="function call">setDefaults</span>({ cache: <span class="string">'memory'</span> });</code></pre>
    
    <pre><code data-language="js" class="rainbow"><span class="comment">// Disables caching in Swig.</span>
swig.<span class="function call">setDefaults</span>({ cache: <span class="constant language">false</span> });</code></pre>
    
    <pre><code data-language="js" class="rainbow"><span class="comment">// Custom cache storage and retrieval</span>
swig.<span class="function call">setDefaults</span>({
  cache: {
    get: <span class="storage function">function</span> (key) { ... },
    set: <span class="storage function">function</span> (key, val) { ... }
  }
});</code></pre>
    
    
  </section>



































































































































































































































































































  <section id="version" class="doc">
    <h2>swig.version</h2>
    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L16">lib/swig.js#L16</a></p>


    

  <p>Swig version number as a string.</p>



    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow"><span class="keyword">if</span> (swig.version <span class="keyword operator">=</span><span class="keyword operator">=</span><span class="keyword operator">=</span> <span class="string">"1.0.0-rc2"</span>) { ... }</code></pre>
    
    
  </section>
































































































































































































































































  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
  <section id="setDefaults" class="doc">
    <h2>
      swig.setDefaults(
      options
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L116">lib/swig.js#L116</a></p>


    

  <p>Set defaults for the base and all new Swig environments.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">options</var></td>
          <td><code data-language="js" class="rainbow">SwigOpts</code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">{}</code></td>
          <td>Swig options object.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">undefined</samp>: </p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow">swig.<span class="function call">setDefaults</span>({ cache: <span class="constant language">false</span> });
<span class="comment">// =&gt; Disables Cache</span></code></pre>
    
    <pre><code data-language="js" class="rainbow">swig.<span class="function call">setDefaults</span>({ locals: { now: <span class="storage function">function</span> () { <span class="keyword">return</span> <span class="keyword">new</span> <span class="function call">Date</span>(); } }});
<span class="comment">// =&gt; sets a globally accessible method for all template</span>
<span class="comment">//    contexts, allowing you to print the current date</span>
<span class="comment">// =&gt; {{ now()|date('F jS, Y') }}</span></code></pre>
    
    
  </section>
  

  

  

  

  
  <section id="setDefaultTZOffset" class="doc">
    <h2>
      swig.setDefaultTZOffset(
      offset
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L132">lib/swig.js#L132</a></p>


    

  <p>Set the default TimeZone offset for date formatting via the date filter. This is a global setting and will affect all Swig environments, old or new.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">offset</var></td>
          <td><code data-language="js" class="rainbow">number</code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Offset from GMT, in minutes.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">undefined</samp>: </p>
    
    

    
  </section>
  

  

  
  <section id="Swig" class="doc">
    <h2>
      swig.Swig(
      opts
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L150">lib/swig.js#L150</a></p>


    

  <p>Create a new, separate Swig compile/render environment.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">opts</var></td>
          <td><code data-language="js" class="rainbow">SwigOpts</code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">{}</code></td>
          <td>Swig options object.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">object</samp>: New Swig environment.</p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow"><span class="keyword">var</span> swig <span class="keyword operator">=</span> <span class="function call">require</span>(<span class="string">'swig'</span>);
<span class="keyword">var</span> myswig <span class="keyword operator">=</span> <span class="keyword">new</span> swig.<span class="function call">Swig</span>({varControls: [<span class="string">'&lt;%='</span>, <span class="string">'%&gt;'</span>]});
myswig.<span class="function call">render</span>(<span class="string">'Tacos are &lt;%= tacos =&gt;!'</span>, { locals: { tacos: <span class="string">'delicious'</span> }});
<span class="comment">// =&gt; Tacos are delicious!</span>
swig.<span class="function call">render</span>(<span class="string">'Tacos are &lt;%= tacos =&gt;!'</span>, { locals: { tacos: <span class="string">'delicious'</span> }});
<span class="comment">// =&gt; 'Tacos are &lt;%= tacos =&gt;!'</span></code></pre>
    
    
  </section>
  

  

  

  

  

  

  

  

  

  

  

  
  <section id="invalidateCache" class="doc">
    <h2>
      swig.invalidateCache(
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L219">lib/swig.js#L219</a></p>


    

  <p>Clears the in-memory template cache.</p>



    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">undefined</samp>: </p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow">swig.<span class="function call">invalidateCache</span>();</code></pre>
    
    
  </section>
  

  

  
  <section id="setFilter" class="doc">
    <h2>
      swig.setFilter(
      name
      , method
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L238">lib/swig.js#L238</a></p>


    

  <p>Add a custom filter for swig variables.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">name</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">string</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Name of filter, used in templates. <strong>Will</strong> overwrite previously defined filters, if using the same name.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">method</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">function</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Function that acts against the input. See <a href="/docs/filters/#custom">Custom Filters</a> for more information.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">undefined</samp>: </p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow"><span class="storage function">function</span> <span class="entity name function">replaceMs</span>(input) { <span class="keyword">return</span> input.<span class="function call">replace</span>(/m/g, <span class="string">'f'</span>); }
swig.<span class="function call">setFilter</span>(<span class="string">'replaceMs'</span>, replaceMs);
<span class="comment">// =&gt; {{ "onomatopoeia"|replaceMs }}</span>
<span class="comment">// =&gt; onofatopeia</span></code></pre>
    
    
  </section>
  

  

  
  <section id="setTag" class="doc">
    <h2>
      swig.setTag(
      name
      , parse
      , compile
      , ends
      , blockLevel
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L263">lib/swig.js#L263</a></p>


    

  <p>Add a custom tag. To expose your own extensions to compiled template code, see <code data-language="js" class="rainbow">swig.setExtension</code>.</p><p></p><p>For a more in-depth explanation of writing custom tags, see <a href="../extending/#tags">Custom Tags</a>.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">name</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">string</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Tag name.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">parse</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">function</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Method for parsing tokens.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">compile</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">function</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Method for compiling renderable output.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">ends</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">boolean</span></code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow"><span class="constant language">false</span></code></td>
          <td>Whether or not this tag requires an <i>end</i> tag.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">blockLevel</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">boolean</span></code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow"><span class="constant language">false</span></code></td>
          <td>If false, this tag will not be compiled outside of <code>block</code> tags when extending a parent template.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">undefined</samp>: </p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow"><span class="keyword">var</span> tacotag <span class="keyword operator">=</span> <span class="function call">require</span>(<span class="string">'./tacotag'</span>);
swig.<span class="function call">setTag</span>(<span class="string">'tacos'</span>, tacotag.parse, tacotag.compile, tacotag.ends, tacotag.blockLevel);
<span class="comment">// =&gt; {% tacos %}Make this be tacos.{% endtacos %}</span>
<span class="comment">// =&gt; Tacos tacos tacos tacos.</span></code></pre>
    
    
  </section>
  

  

  

  

  

  

  
  <section id="setExtension" class="doc">
    <h2>
      swig.setExtension(
      name
      , object
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L294">lib/swig.js#L294</a></p>


    

  <p>Add extensions for custom tags. This allows any custom tag to access a globally available methods via a special globally available object, <var>_ext</var>, in templates.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">name</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">string</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Key name of the extension. Accessed via <code data-language="js" class="rainbow">_ext[name]</code>.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">object</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword operator">*</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>The method, value, or object that should be available via the given name.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">undefined</samp>: </p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow">swig.<span class="function call">setExtension</span>(<span class="string">'trans'</span>, <span class="storage function">function</span> (v) { <span class="keyword">return</span> <span class="function call">translate</span>(v); });
<span class="storage function">function</span> <span class="entity name function">compileTrans</span>(compiler, args, content, parent, options) {
  <span class="keyword">return</span> <span class="string">'_output += _ext.trans('</span> <span class="keyword operator">+</span> args[<span class="constant numeric">0</span>] <span class="keyword operator">+</span> <span class="string">');'</span>
};
swig.<span class="function call">setTag</span>(<span class="string">'trans'</span>, parseTrans, compileTrans, <span class="constant language">true</span>);</code></pre>
    
    
  </section>
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
  <section id="precompile" class="doc">
    <h2>
      swig.precompile(
      source
      , options
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L455">lib/swig.js#L455</a></p>


    

  <p>Pre-compile a source string into a cache-able template function.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">source</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">string</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Swig template source string.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">options</var></td>
          <td><code data-language="js" class="rainbow">SwigOpts</code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">{}</code></td>
          <td>Swig options object.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">object</samp>: Renderable function and tokens object.</p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow">swig.<span class="function call">precompile</span>(<span class="string">'{{ tacos }}'</span>);
<span class="comment">// =&gt; {</span>
<span class="comment">//      tpl: function (_swig, _locals, _filters, _utils, _fn) { ... },</span>
<span class="comment">//      tokens: {</span>
<span class="comment">//        name: undefined,</span>
<span class="comment">//        parent: null,</span>
<span class="comment">//        tokens: [...],</span>
<span class="comment">//        blocks: {}</span>
<span class="comment">//      }</span>
<span class="comment">//    }</span>

In order to render a pre<span class="keyword operator">-</span>compiled template, you must have access to filters <span class="keyword">and</span> utils from Swig. <span class="keyword operator">&lt;</span><span class="keyword">var</span><span class="keyword operator">&gt;</span>efn<span class="keyword operator">&lt;</span>/<span class="keyword">var</span><span class="keyword operator">&gt;</span> is simply an empty <span class="keyword">function</span> that does nothing.</code></pre>
    
    
  </section>
  

  

  

  

  

  

  

  

  
  <section id="render" class="doc">
    <h2>
      swig.render(
      source
      , options
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L489">lib/swig.js#L489</a></p>


    

  <p>Compile and render a template string for final output.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">source</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">string</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Swig template source string.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">options</var></td>
          <td><code data-language="js" class="rainbow">SwigOpts</code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">{}</code></td>
          <td>Swig options object.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">string</samp>: Rendered output.</p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow">swig.<span class="function call">render</span>(<span class="string">'{{ tacos }}'</span>, { locals: { tacos: <span class="string">'Tacos!!!!'</span> }});
<span class="comment">// =&gt; Tacos!!!!</span>

When rendering a source <span class="keyword">string</span>, a file path should be specified in the options <span class="keyword">object</span> in order <span class="keyword">for</span> <span class="keyword operator">&lt;</span><span class="keyword">var</span><span class="keyword operator">&gt;</span><span class="keyword">extends</span><span class="keyword operator">&lt;</span>/<span class="keyword">var</span><span class="keyword operator">&gt;</span>, <span class="keyword operator">&lt;</span><span class="keyword">var</span><span class="keyword operator">&gt;</span>include<span class="keyword operator">&lt;</span>/<span class="keyword">var</span><span class="keyword operator">&gt;</span>, <span class="keyword">and</span> <span class="keyword operator">&lt;</span><span class="keyword">var</span><span class="keyword operator">&gt;</span><span class="keyword">import</span><span class="keyword operator">&lt;</span>/<span class="keyword">var</span><span class="keyword operator">&gt;</span> to work properly. <span class="keyword">Do</span> <span class="keyword">this</span> by adding <span class="keyword operator">&lt;</span>code data<span class="keyword operator">-</span>language<span class="keyword operator">=</span><span class="string">"js"</span><span class="keyword operator">&gt;</span>{ filename: <span class="string">'/absolute/path/to/mytpl.html'</span> }<span class="keyword operator">&lt;</span>/code<span class="keyword operator">&gt;</span> to the options argument.</code></pre>
    
    
  </section>
  

  
  <section id="renderFile" class="doc">
    <h2>
      swig.renderFile(
      pathName
      , locals
      , cb
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L513">lib/swig.js#L513</a></p>


    

  <p>Compile and render a template file for final output. This is most useful for libraries like Express.js.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">pathName</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">string</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>File location.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">locals</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">object</span></code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">{}</code></td>
          <td>Template variable context.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">cb</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">Function</span></code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Asyncronous callback function. If not provided, <var>compileFile</var> will run syncronously.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">string</samp>: Rendered output.</p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow">swig.<span class="function call">renderFile</span>(<span class="string">'./template.html'</span>, {}, <span class="storage function">function</span> (err, output) {
  <span class="keyword">if</span> (err) {
    <span class="keyword">throw</span> err;
  }
  console.<span class="function call">log</span>(output);
});</code></pre>
    
    <pre><code data-language="js" class="rainbow">swig.<span class="function call">renderFile</span>(<span class="string">'./template.html'</span>, {});
<span class="comment">// =&gt; output</span></code></pre>
    
    
  </section>
  

  

  
  <section id="compile" class="doc">
    <h2>
      swig.compile(
      source
      , options
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L549">lib/swig.js#L549</a></p>


    

  <p>Compile string source into a renderable template function.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">source</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">string</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Swig template source string.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">options</var></td>
          <td><code data-language="js" class="rainbow">SwigOpts</code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">{}</code></td>
          <td>Swig options object.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">function</samp>: Renderable function with keys for parent, blocks, and tokens.</p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow"><span class="keyword">var</span> tpl <span class="keyword operator">=</span> swig.<span class="function call">compile</span>(<span class="string">'{{ tacos }}'</span>);
<span class="comment">// =&gt; {</span>
<span class="comment">//      [Function: compiled]</span>
<span class="comment">//      parent: null,</span>
<span class="comment">//      tokens: [{ compile: [Function] }],</span>
<span class="comment">//      blocks: {}</span>
<span class="comment">//    }</span>
<span class="function call">tpl</span>({ tacos: <span class="string">'Tacos!!!!'</span> });
<span class="comment">// =&gt; Tacos!!!!</span>

When compiling a source <span class="keyword">string</span>, a file path should be specified in the options <span class="keyword">object</span> in order <span class="keyword">for</span> <span class="keyword operator">&lt;</span><span class="keyword">var</span><span class="keyword operator">&gt;</span><span class="keyword">extends</span><span class="keyword operator">&lt;</span>/<span class="keyword">var</span><span class="keyword operator">&gt;</span>, <span class="keyword operator">&lt;</span><span class="keyword">var</span><span class="keyword operator">&gt;</span>include<span class="keyword operator">&lt;</span>/<span class="keyword">var</span><span class="keyword operator">&gt;</span>, <span class="keyword">and</span> <span class="keyword operator">&lt;</span><span class="keyword">var</span><span class="keyword operator">&gt;</span><span class="keyword">import</span><span class="keyword operator">&lt;</span>/<span class="keyword">var</span><span class="keyword operator">&gt;</span> to work properly. <span class="keyword">Do</span> <span class="keyword">this</span> by adding <span class="keyword operator">&lt;</span>code data<span class="keyword operator">-</span>language<span class="keyword operator">=</span><span class="string">"js"</span><span class="keyword operator">&gt;</span>{ filename: <span class="string">'/absolute/path/to/mytpl.html'</span> }<span class="keyword operator">&lt;</span>/code<span class="keyword operator">&gt;</span> to the options argument.</code></pre>
    
    
  </section>
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
  <section id="compileFile" class="doc">
    <h2>
      swig.compileFile(
      pathname
      , options
      , cb
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L611">lib/swig.js#L611</a></p>


    

  <p>Compile a source file into a renderable template function.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">pathname</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">string</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>File location.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">options</var></td>
          <td><code data-language="js" class="rainbow">SwigOpts</code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">{}</code></td>
          <td>Swig options object.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">cb</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">Function</span></code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Asyncronous callback function. If not provided, <var>compileFile</var> will run syncronously.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">function</samp>: Renderable function with keys for parent, blocks, and tokens.</p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow"><span class="keyword">var</span> tpl <span class="keyword operator">=</span> swig.<span class="function call">compileFile</span>(<span class="string">'./mytpl.html'</span>);
<span class="comment">// =&gt; {</span>
<span class="comment">//      [Function: compiled]</span>
<span class="comment">//      parent: null,</span>
<span class="comment">//      tokens: [{ compile: [Function] }],</span>
<span class="comment">//      blocks: {}</span>
<span class="comment">//    }</span>
<span class="function call">tpl</span>({ tacos: <span class="string">'Tacos!!!!'</span> });
<span class="comment">// =&gt; Tacos!!!!</span></code></pre>
    
    <pre><code data-language="js" class="rainbow">swig.<span class="function call">compileFile</span>(<span class="string">'/myfile.txt'</span>, { varControls: [<span class="string">'&lt;%='</span>, <span class="string">'=%&gt;'</span>], tagControls: [<span class="string">'&lt;%'</span>, <span class="string">'%&gt;'</span>]});
<span class="comment">// =&gt; will compile 'myfile.txt' using the var and tag controls as specified.</span></code></pre>
    
    
  </section>
  

  

  

  

  

  

  

  

  

  
  <section id="run" class="doc">
    <h2>
      swig.run(
      tpl
      , locals
      , pathName
      )
    </h2>

    
<p class="source">Source: <a href="https://github.com/paularmstrong/swig/blob/v1.0.0-rc2/lib/swig.js#L668">lib/swig.js#L668</a></p>


    

  <p>Run a pre-compiled template function. This is most useful in the browser when you've pre-compiled your templates with the Swig command-line tool.</p>



    
    <h3>Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Optional</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
      
        <tr>
          <td><var data-language="js">tpl</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">function</span></code></td>
          <td></td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Pre-compiled Swig template function. Use the Swig CLI to compile your templates.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">locals</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">object</span></code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">{}</code></td>
          <td>Template variable context.</td>
        </tr>
      
        <tr>
          <td><var data-language="js">pathName</var></td>
          <td><code data-language="js" class="rainbow"><span class="keyword">string</span></code></td>
          <td>✔</td>
          <td><code data-language="js" class="rainbow">undefined</code></td>
          <td>Path of the file. Used for relative include lookups.</td>
        </tr>
      
      </tbody>
    </table>
    

    
    <h3>Returns</h3>
    
    <p><samp data-language="js">string</samp>: Rendered output.</p>
    
    

    
    <h3>Examples</h3>
    
    <pre><code data-language="js" class="rainbow">$ swig compile ./mytpl.html <span class="keyword operator">-</span><span class="keyword operator">-</span>wrap<span class="keyword operator">-</span>start<span class="keyword operator">=</span><span class="string">"var mytpl = "</span> <span class="keyword operator">&gt;</span> mytpl.js</code></pre>
    
    <pre><code data-language="js" class="rainbow"><span class="keyword operator">&lt;</span>script src<span class="keyword operator">=</span><span class="string">"mytpl.js"</span><span class="keyword operator">&gt;</span><span class="keyword operator">&lt;</span>/script<span class="keyword operator">&gt;</span>
<span class="keyword operator">&lt;</span>script<span class="keyword operator">&gt;</span>
  swig.<span class="function call">run</span>(mytpl, {});
  <span class="comment">// =&gt; "rendered template..."</span>
<span class="keyword operator">&lt;</span>/script<span class="keyword operator">&gt;</span></code></pre>
    
    
  </section>
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  



  </div>

  <div class="span3">
<nav>
  <ol class="sidenav">
    <li>
      <a href="../docs/">Getting Started</a>
      
    </li>
    <li>
      <a href="../docs/api.html">Swig API</a>
      
<ol>


  <li><a href="#SwigOpts">Object: SwigOpts</a></li>



  <li><a href="#CacheOptions">Object: CacheOptions</a></li>

















  <li><a href="#version">swig.version</a></li>























  <li><a href="#setDefaults">swig.setDefaults</a></li>









  <li><a href="#setDefaultTZOffset">swig.setDefaultTZOffset</a></li>





  <li><a href="#Swig">swig.Swig</a></li>























  <li><a href="#invalidateCache">swig.invalidateCache</a></li>





  <li><a href="#setFilter">swig.setFilter</a></li>





  <li><a href="#setTag">swig.setTag</a></li>













  <li><a href="#setExtension">swig.setExtension</a></li>











































































  <li><a href="#precompile">swig.precompile</a></li>

















  <li><a href="#render">swig.render</a></li>



  <li><a href="#renderFile">swig.renderFile</a></li>





  <li><a href="#compile">swig.compile</a></li>

































  <li><a href="#compileFile">swig.compileFile</a></li>



















  <li><a href="#run">swig.run</a></li>
































</ol>

    </li>
    <li>
      <a href="../docs/filters.html">Filters</a>
      
    </li>
    <li>
      <a href="../docs/tags.html">Tags</a>
      
    </li>
    <li>
      <a href="../docs/cli.html">Command-Line</a>
      
    </li>
    <li>
      <a href="../docs/browser.html">Browser Usage</a>
      
    </li>
    <li>
      <a href="../docs/extending.html">Extending Swig</a>
      
    </li>
  </ol>
</nav>
</div>
</div>

<a class="forkme" href="https://github.com/paularmstrong/swig">Fork me on GitHub</a>


  
<script src="../js/lib/rainbow.min.js"></script>
<script src="../js/master.js"></script>

</body>
</html>
