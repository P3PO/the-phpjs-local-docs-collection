<html>
<head>
  <title>Pandoc - </title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" href="css/screen.css" />
  <link rel="stylesheet" type="text/css" media="print" href="css/print.css" />
  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2234613-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
  <script type="text/javascript">
  /* <![CDATA[ */
    (function() {
        var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
        t.parentNode.insertBefore(s, t);
    })();
  /* ]]> */
  </script>
</head>
<body>
  <div id="doc" class="yui-t2">
    <div id="hd" role="banner">
        <div id="flattr"><a class="FlattrButton" style="display:none;" rev="flattr;button:compact;" href="http://johnmacfarlane.net/pandoc"></a>
<noscript><a href="http://flattr.com/thing/936364/Pandoc" target="_blank">
    <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" /></a></noscript></div>

        <span class="big">Pandoc</span>
        &nbsp;
        <span class="small">a universal document converter</span>
    </div>
    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
<h1 id="contributing-to-pandoc"><a href="#contributing-to-pandoc">Contributing to pandoc</a></h1>
<h2 id="found-a-bug"><a href="#found-a-bug">Found a bug?</a></h2>
<p>Bug reports are welcome! Please report all bugs on pandoc’s github <a href="https://github.com/jgm/pandoc/issues">issue tracker</a>.</p>
<p>Before you submit a bug report, search the (open <em>and</em> closed) issues to make sure the issue hasn’t come up before. Also, check the <a href="http://johnmacfarlane.net/pandoc/README.html">User’s Guide</a> and <a href="http://johnmacfarlane.net/pandoc/faqs.html">FAQs</a> for anything relevant.</p>
<p>Make sure you can reproduce the bug with the latest released version of pandoc (or, even better, the development version).</p>
<p>Your report should give detailed instructions for how to reproduce the problem, including</p>
<ul>
<li>the exact command line used</li>
<li>the exact input used</li>
<li>the output received</li>
<li>the output you expected instead</li>
</ul>
<p>A small test case (just a few lines) is ideal. If your input is large, try to whittle it down to the minimum necessary to illustrate the problem.</p>
<h2 id="have-an-idea-for-a-new-feature"><a href="#have-an-idea-for-a-new-feature">Have an idea for a new feature?</a></h2>
<p>First, search <a href="http://groups.google.com/group/pandoc-discuss">pandoc-discuss</a> and the issue tracker (both open and closed issues) to make sure that the idea has not been discussed before.</p>
<p>Explain the rationale for the feature you’re requesting. Why would this feature be useful? Consider also any possible drawbacks, including backwards compatibility, new library dependencies, and performance issues.</p>
<p>It is best to discuss a potential new feature on <a href="http://groups.google.com/group/pandoc-discuss">pandoc-discuss</a> before opening an issue.</p>
<h2 id="patches-and-pull-requests"><a href="#patches-and-pull-requests">Patches and pull requests</a></h2>
<p>Patches and pull requests are welcome. Before you put time into a nontrivial patch, it is a good idea to discuss it on <a href="http://groups.google.com/group/pandoc-discuss">pandoc-discuss</a>, especially if it is for a new feature (rather than fixing a bug).</p>
<p>Please follow these guidelines:</p>
<ol style="list-style-type: decimal">
<li><p>Each patch (commit) should make a single logical change (fix a bug, add a feature, clean up some code, add documentation). Everything related to that change should be included (including tests and documentation), and nothing unrelated should be included.</p></li>
<li><p>The first line of the commit message should be a short description of the whole commit (ideally &lt;= 50 characters). Then there should be a blank line, followed by a more detailed description of the change.</p></li>
<li><p>Follow the stylistic conventions you find in the existing pandoc code. Use spaces, not tabs, and wrap code to 80 columns. Always include type signatures for top-level functions.</p></li>
<li><p>Your code should compile without warnings (<code>-Wall</code> clean).</p></li>
<li><p>Run the tests to make sure your code does not introduce new bugs. (See below under <a href="#tests">Tests</a>.) All tests should pass.</p></li>
<li><p>It is a good idea to add test cases for the bug you are fixing. (See below under <a href="#tests">Tests</a>.) If you are adding a new writer or reader, you must include tests.</p></li>
<li><p>If you are adding a new feature, include updates to the README.</p></li>
<li><p>All code must be released under the general license governing pandoc (GPL v2).</p></li>
<li><p>It is better not to introduce new dependencies. Dependencies on external C libraries should especially be avoided.</p></li>
</ol>
<h2 id="tests"><a href="#tests">Tests</a></h2>
<p>Tests can be run as follows:</p>
<pre><code>cabal configure --enable-tests
cabal build
cabal test</code></pre>
<p>The test program is <code>tests/test-pandoc.hs</code>.</p>
<p>Benchmarks can be enabled by passing the <code>--enable-benchmarks</code> flag to <code>cabal configure</code>, and run using <code>cabal bench</code>.</p>
<h2 id="the-code"><a href="#the-code">The code</a></h2>
<p>Pandoc has a publicly accessible git repository on github: <a href="http://github.com/jgm/pandoc">http://github.com/jgm/pandoc</a>. To get a local copy of the source:</p>
<pre><code>git clone git://github.com/jgm/pandoc.git</code></pre>
<p>Note: after cloning the repository (and in the future after pulling from it), you should do</p>
<pre><code>git submodule update --init</code></pre>
<p>to pull in changes to the templates (<code>data/templates/</code>). You can automate this by creating a file <code>.git/hooks/post-merge</code> with the contents:</p>
<pre><code>#!/bin/sh
git submodule update --init</code></pre>
<p>and making it executable:</p>
<pre><code>chmod +x .git/hooks/post-merge</code></pre>
<p>The source for the main pandoc program is <code>pandoc.hs</code>. The source for the pandoc library is in <code>src/</code>, the source for the tests is in <code>tests/</code>, and the source for the benchmarks is in <code>benchmark/</code>.</p>
<p>The modules <code>Text.Pandoc.Definition</code>, <code>Text.Pandoc.Builder</code>, and <code>Text.Pandoc.Generics</code> are in a separate library <code>pandoc-types</code>. The code can be found in a <a href="http://github.com/jgm/pandoc-types">http://github.com/jgm/pandoc-types</a>.</p>
<p>To build pandoc, you will need a working installation of the <a href="http://www.haskell.org/platform/">Haskell platform</a>.</p>
<p>The library is structured as follows:</p>
<ul>
<li><code>Text.Pandoc</code> is a top-level module that exports what is needed by most users of the library. Any patches that add new readers or writers will need to make changes here, too.</li>
<li><code>Text.Pandoc.Definition</code> (in <code>pandoc-types</code>) defines the types used for representing a pandoc document.</li>
<li><code>Text.Pandoc.Builder</code> (in <code>pandoc-types</code>) provides functions for building pandoc documents programatically.</li>
<li><code>Text.Pandoc.Generics</code> (in <code>pandoc-types</code>) provides functions allowing you to promote functions that operate on parts of pandoc documents to functions that operate on whole pandoc documents, walking the tree automatically.</li>
<li><code>Text.Pandoc.Readers.*</code> are the readers, and <code>Text.Pandoc.Writers.*</code> are the writers.</li>
<li><code>Text.Pandoc.Biblio</code> is a utility module for formatting citations using citeproc-hs.</li>
<li><code>Text.Pandoc.Data</code> is used to embed data files when the <code>embed_data_files</code> cabal flag is used. It is generated from <code>src/Text/Pandoc/Data.hsb</code> using the preprocessor <a href="http://hackage.haskell.org/package/hsb2hs">hsb2hs</a>.</li>
<li><code>Text.Pandoc.Highlighting</code> contains the interface to the highlighting-kate library, which is used for code syntax highlighting.</li>
<li><code>Text.Pandoc.ImageSize</code> is a utility module containing functions for calculating image sizes from the contents of image files.</li>
<li><code>Text.Pandoc.MIME</code> contains functions for associating MIME types with extensions.</li>
<li><code>Text.Pandoc.Options</code> defines reader and writer options.</li>
<li><code>Text.Pandoc.PDF</code> contains functions for producing a PDF from a LaTeX source.</li>
<li><code>Text.Pandoc.Parsing</code> contains parsing functions used in multiple readers.</li>
<li><code>Text.Pandoc.Pretty</code> is a pretty-printing library specialized to the needs of pandoc.</li>
<li><code>Text.Pandoc.SelfContained</code> contains functions for making an HTML file “self-contained,” by importing remotely linked images, CSS, and javascript and turning them into <code>data:</code> URLs.</li>
<li><code>Text.Pandoc.Shared</code> is a grab-bag of shared utility functions.</li>
<li><code>Text.Pandoc.Slides</code> contains functions for splitting a markdown document into slides, using the conventions described in the README.</li>
<li><code>Text.Pandoc.Templates</code> defines pandoc’s templating system.</li>
<li><code>Text.Pandoc.UTF8</code> contains functions for converting text to and from UTF8 bytestrings (strict and lazy).</li>
<li><code>Text.Pandoc.UUID</code> contains functions for generating UUIDs.</li>
<li><code>Text.Pandoc.XML</code> contains functions for formatting XML.</li>
</ul>
        </div>
      </div>
      <div id="nav" class="yui-b">
        <ul class="nav">
                <li><a href="index.html">About</a></li>
                <li><a href="installing.html">Installing</a></li>
                <li>Demos
                <ul>
                  <li><a href="/pandoc/try">Try pandoc online</a></li>
                  <li><a href="demos.html">Examples</a></li>
                </ul>
                </li>
                <li>Documentation
                <ul>
                  <li><a href="README.html">User's Guide</a></li>
                  <li><a href="faqs.html">FAQ</a></li>
                  <li><a href="http://hackage.haskell.org/package/pandoc">API documentation</a></li>
                  <li><a href="CONTRIBUTING.html">Contributing</a></li>
                  <li><a href="lists.html">Mailing lists</a></li>
                  <li><a href="scripting.html">Scripting</a></li>
                  <li><a href="epub.html">Making an ebook</a></li>
                </ul>
                </li>
                <li><a href="https://github.com/jgm/pandoc/wiki/Pandoc-Extras">Extras</a></li>
                <li><a href="releases.html">Releases</a></li>
                </ul>
        <div id="toc">
<ul>
<li><a href="#contributing-to-pandoc">Contributing to pandoc</a><ul>
<li><a href="#found-a-bug">Found a bug?</a></li>
<li><a href="#have-an-idea-for-a-new-feature">Have an idea for a new feature?</a></li>
<li><a href="#patches-and-pull-requests">Patches and pull requests</a></li>
<li><a href="#tests">Tests</a></li>
<li><a href="#the-code">The code</a></li>
</ul></li>
</ul>
        </div>
      </div>
    </div>
    <div id="ft">
    </div>
  </div>
</body>
</html>
