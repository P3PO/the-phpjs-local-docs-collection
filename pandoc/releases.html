<html>
<head>
  <title>Pandoc - Releases</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" href="css/screen.css" />
  <link rel="stylesheet" type="text/css" media="print" href="css/print.css" />
  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2234613-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
  <script type="text/javascript">
  /* <![CDATA[ */
    (function() {
        var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
        t.parentNode.insertBefore(s, t);
    })();
  /* ]]> */
  </script>
</head>
<body>
  <div id="doc" class="yui-t2">
    <div id="hd" role="banner">
        <div id="flattr"><a class="FlattrButton" style="display:none;" rev="flattr;button:compact;" href="http://johnmacfarlane.net/pandoc"></a>
<noscript><a href="http://flattr.com/thing/936364/Pandoc" target="_blank">
    <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" /></a></noscript></div>

        <span class="big">Pandoc</span>
        &nbsp;
        <span class="small">a universal document converter</span>
    </div>
    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <h1 class="title">Releases</h1>
<h1 id="pandoc-1.11.1-2013-03-17"><a href="#pandoc-1.11.1-2013-03-17">pandoc 1.11.1 (2013-03-17)</a></h1>
<ul>
<li><p>Markdown reader:</p>
<ul>
<li>Fixed regression in which parentheses were lost in link URLs. Added tests. Closes #786.</li>
<li>Better handling of unmatched double quotes in <code>--smart</code> mode. These occur frequently in fiction, since it is customary not to close quotes in dialogue if the speaker does not change between paragraphs. The unmatched quotes now get turned into literal left double quotes. (No <code>Quoted</code> inline is generated, however.) Closes #99 (again).</li>
</ul></li>
<li><p>HTML writer: Fixed numbering mismatch between TOC and sections. <code>--number-offset</code> now affects TOC numbering as well as section numbering, as it should have all along. Closes #789.</p></li>
<li><p>Markdown writer: Reverted 1.11 change that caused citations to be rendered as markdown citations, even if <code>--bibliography</code> was specified, unless <code>citation</code> extension is disabled. Now, formatted citations are always printed if <code>--bibliography</code> was specified. If you want to reformat markdown keeping pandoc markdown citations intact, don’t use <code>--bibliography</code>. Note that citations parsed from LaTeX documents will be rendered as pandoc markdown citations when <code>--bibliography</code> is not specified.</p></li>
<li><p>ODT writer: Fixed regression leading to corrupt ODTs. This was due to a change in the <code>Show</code> instance for <code>Text.Pandoc.Pretty.Doc</code>. Closes #780.</p></li>
<li><p>Fixed spacing bugs involving code block attributes in RST reader and Markdown writer. Closes #763.</p></li>
<li><p>Windows package: Various improvements due to Fyodor Sheremetyev.</p>
<ul>
<li>Automatically set installation path (Program Files or Local App Data).</li>
<li>Set system PATH environment variable when installing for all users.</li>
<li>Pandoc can installed for all users using the following command. <code>msiexec /i pandoc-1.11.msi ALLUSERS=1</code>.</li>
</ul></li>
<li><p>Bumped QuickCheck version bound.</p></li>
</ul>
<h1 id="pandoc-1.11-2013-03-09"><a href="#pandoc-1.11-2013-03-09">pandoc 1.11 (2013-03-09)</a></h1>
<ul>
<li><p>Added <code>--number-offset</code> option. (See README for description.)</p></li>
<li><p>Added <code>--default-image-extension</code> option. (See README for description.)</p></li>
<li><p><code>--number-sections</code> behavior change: headers with class <code>unnumbered</code> will not be numbered.</p></li>
<li><p><code>--version</code> now reports the default data directory.</p></li>
<li><p><code>Text.Pandoc.Parsing</code> is no longer exposed. (API change.)</p></li>
<li><p><code>Text.Pandoc.Highlighting</code> is no longer exposed. (API change.)</p></li>
<li><p><code>Text.Pandoc.Shared</code>: Changed type of <code>Element</code>. <code>Sec</code> now includes a field for <code>Attr</code> rather than just <code>String</code>. (API change.)</p></li>
<li><p>Added <code>markdown_github</code> as input format. This was an accidental omission in 1.10.</p></li>
<li><p>Added <code>readerDefaultImageExtension</code> field to <code>ReaderOptions</code>. (API change.)</p></li>
<li><p>Added <code>writerNumberOffset</code> field in <code>WriterOptions</code>. (API change.)</p></li>
<li><p>Beamer template:</p>
<ul>
<li>Fixed captions with longtable. Thanks to Joost Kremers.</li>
<li>Provide <code>\Oldincludegraphics</code> as in LaTeX template (Benjamin Bannier).</li>
</ul></li>
<li><p>LaTeX template:</p>
<ul>
<li>Load microtype after fonts. Microtype needs to know what fonts are being used. Thanks to dfc for the patch.</li>
<li>Set <code>secnumdepth</code> to 5 if <code>--number-sections</code> specified. This yields behavior equivalent to the other writers, numbering level 4 and 5 headers too. Closes #753.</li>
</ul></li>
<li><p>HTML reader:</p>
<ul>
<li>Handle <code>&lt;colgroup&gt;</code> tag.</li>
<li>Preserve all header attributes.</li>
</ul></li>
<li><p>LaTeX reader:</p>
<ul>
<li>Parse <code>\hrule</code> as <code>HorizontalRule</code>. Closes #746.</li>
<li>Parse starred variants of <code>\section</code> etc. as headers with attribute <code>unnumbered</code>.</li>
<li>Read optional attributes in <code>lstlisting</code> and <code>Verbatim</code> environments. We convert these to pandoc standard names, e.g. <code>numberLines</code> for <code>numbers=left</code>, <code>startFrom=100</code> from <code>firstnumber=100</code>.</li>
<li>Handle language attribute for lstlistings.</li>
<li>Better support for Verbatim and minted environments. Closes #763.</li>
</ul></li>
<li><p>Markdown reader:</p>
<ul>
<li><code>-</code> in an attribute context = <code>.unnumbered</code>. The point of this is to provide a way to specify unnumbered headers in non-English documents.</li>
<li>Fixed bug parsing key/value attributes. Parsing failed if you had an unquoted attribute immediately before the final ‘}’.</li>
<li>Make backslash escape work in attributes.</li>
<li>Fix title block parsing. Now if <code>mmd_title_blocks</code> is specified, pandoc will parse a MMD title block if it sees one, even if <code>pandoc_title_blocks</code> is enabled.</li>
<li>Refactoring: <code>litChar</code> now includes entities, so we don’t need to use <code>fromEntities</code> e.g. on titles.</li>
<li>Allow spaces around borders in pipe tables. Closes #772.</li>
<li>Allow all punctuation in angle-bracket autolinks. Previously things like <code>----</code> were disallowed, because the uri parser treated them as trailing punctuation. Closes #768.</li>
<li>Make <code>implicit_header_references</code> work properly when headers are given explicit identifiers.</li>
<li>Check for tables before line blocks. Otherwise some pipe tables get treated as line blocks.</li>
<li>Allow <code>&amp;</code> in emails (for entities).</li>
<li>Properly handle entities in titles and links. A markdown link <code>&lt;http://g&amp;ouml;ogle.com&gt;</code> should be a link to <code>http://göogle.com</code>. Closes #723.</li>
</ul></li>
<li><p>Textile reader:</p>
<ul>
<li>Handle attributes on headers.</li>
</ul></li>
<li><p>LaTeX reader:</p>
<ul>
<li>Add <code>fig:</code> as title for images with captions. This is needed for them to be rendered as figures. Closes #766.</li>
<li>Never emit an empty paragraph. See #761.</li>
<li>Handle <code>\caption</code> for images in figures. Closes #766.</li>
<li>Parse <code>\section*</code>, etc. as unnumbered sections.</li>
</ul></li>
<li><p>HTML writer:</p>
<ul>
<li>Support header attributes. The attributes go on the enclosing <code>section</code> or <code>div</code> tag if <code>--section-divs</code> is specified.</li>
<li>Fixed a regression (only now noticed) in html+lhs output. Previously the bird tracks were being omitted.</li>
</ul></li>
<li><p>LaTeX writer:</p>
<ul>
<li>Omit lists with no items to avoid LaTeX errors.</li>
<li>Support line numbering with <code>--listings</code>. If <code>numberLines</code> class is present, we add <code>numbers=left</code>; if <code>startFrom</code> is present, we add <code>firstnumber=</code>. (#763)</li>
</ul></li>
<li><p>ConTeXt writer:</p>
<ul>
<li>Removed <code>\placecontent</code>. This produced a duplicate toc, in conjunction with <code>\placelist</code>.</li>
<li>Use <code>\title</code>, <code>\subject</code> etc. for headers with <code>unnumbered</code> class.</li>
</ul></li>
<li><p>Textile writer:</p>
<ul>
<li>Support header attributes.</li>
</ul></li>
<li><p>Markdown writer:</p>
<ul>
<li>Use grid tables when needed, and if enabled. Closes #740.</li>
<li>Render citations as pandoc-markdown citations. Previously citations were rendered as citeproc-formatted citations by default. Now we render them as pandoc citations, e.g. <code>[@item1]</code>, unless the <code>citations</code> extension is disabled. If you still want formatted citations in your markdown output, use <code>pandoc -t markdown-citations</code>.</li>
</ul></li>
<li><p>RST writer:</p>
<ul>
<li>Support <code>:number-lines:</code> in code blocks.</li>
</ul></li>
<li><p>Docx writer:</p>
<ul>
<li>Better treatment of display math. Display math inside a paragraph is now put in a separate paragraph, so it will render properly (centered and without extra blank lines around it). Partially addresses #742.</li>
<li>Content types and document rels xml files are now created from scratch, rather than being taken over from <code>reference.docx</code>. This fixes problems that arise when you edit the <code>reference.docx</code> with Word.</li>
<li>We also now encode mime types for each individual image rather than using defaults. This should allow us to handle a wider range of image types (including PDF). Closes #414.</li>
<li>Changed style names in <code>reference docx</code>. <code>FootnoteReference</code> -&gt; <code>FootnoteRef</code>, <code>Hyperlink</code> -&gt; <code>Link</code>. The old names got changed by Word when the <code>reference.docx</code> was edited. Closes #414.</li>
</ul></li>
<li><p>EPUB writer:</p>
<ul>
<li>Fix section numbering. Previously the numbering restarted from 1 in each chapter (with <code>--number-sections</code>), though the numbers in the table of contents were correct.</li>
<li>Headers with “unnumbered” attribute are not numbered. (Nor do they cause an increment in running numbering.) Section numbers now work properly, even when there is material before the first numbered section.</li>
<li>Include HTML TOC, even in epub2. The TOC is included in <code>&lt;spine&gt;</code>, but <code>linear</code> is set to <code>no</code> unless the <code>--toc</code> option is specified. Include <code>&lt;guide&gt;</code> element in OPF. This should allow the TOC to be useable in Kindles when converted with kindlegen. Closes #773.</li>
</ul></li>
<li><p><code>Text.Pandoc.Parsing</code>: Optimized <code>oneOfStringsCI</code>. This dramatically reduces the speed penalty that comes from enabling the <code>autolink_bare_uris</code> extension. The penalty is still substantial (in one test, from 0.33s to 0.44s), but nowhere near what it used to be. The RST reader is also much faster now, as it autodetects URIs.</p></li>
<li><p><code>Text.Pandoc.Shared</code>: <code>hierarchicalize</code> will not number section with class “unnumbered”. Unnumbered sections get <code>[]</code> for their section number.</p></li>
<li><p><code>Text.Pandoc.Pretty</code>:</p>
<ul>
<li>Fixed <code>chomp</code> so it works inside <code>Prefixed</code> elements.</li>
<li>Changed <code>Show</code> instance so it is better for debugging.</li>
</ul></li>
<li><p><code>Text.Pandoc.ImageSize</code>: Added <code>Pdf</code> to <code>ImageType</code>.</p></li>
<li><p><code>Text.Pandoc.UTF8</code>: Strip off BOM if present. Closes #743.</p></li>
<li><p>Windows installer improvements:</p>
<ul>
<li>The installer is now signed with a certificate (thanks to Fyodor Sheremetyev).</li>
<li>WiX is used instead of InnoSetup. The installer is now a standard msi file.</li>
<li>The version number is now auto-detected, and need not be updated separately.</li>
</ul></li>
<li><p>OSX installer improvements:</p>
<ul>
<li>The package and pandoc executable are now signed with a certificate (thanks to Fyodor Sheremetyev).</li>
<li>RTF version of license is used.</li>
<li>Use full path for sysctl in <code>InstallationCheck</code> script (jonahbull). Closes #580.</li>
</ul></li>
<li><p>Converted COPYING to markdown.</p></li>
<li><p>pandoc.cabal: Require latest versions of highlighting-kate, texmath, citeproc-hs, zip-archive.</p></li>
</ul>
<h1 id="pandoc-1.10.1-2013-01-23"><a href="#pandoc-1.10.1-2013-01-23">pandoc 1.10.1 (2013-01-23)</a></h1>
<ul>
<li><p>Markdown reader: various optimizations, leading to a significant performance boost.</p></li>
<li><p>RST reader: Allow anonymous form of inline links: <code>`hello &lt;url&gt;`__</code> Closes #724.</p></li>
<li><p>Mediawiki reader: Don’t require newlines after tables. Thanks to jrunningen for the patch. Closes #733.</p></li>
<li><p>Fixed LaTeX macro parsing. Now LaTeX macro definitions are preserved when output is LaTeX, and applied when it is another format. Partially addresses #730.</p></li>
<li><p>Markdown and RST readers: Added parser to <code>block</code> that skips blank lines. This fixes a subtle regression involving grid tables with empty cells. Also added test for grid table with empty cells. Closes #732.</p></li>
<li><p>RST writer: Use <code>.. code:: language</code> for code blocks with language. Closes #721.</p></li>
<li><p>DocBook writer: Fixed output for hard line breaks, adding a newline between <code>&lt;literallayout&gt;</code> tags.</p></li>
<li><p>Markdown writer: Use an autolink when link text matches url. Previously we also checked for a null title, but this test fails for links produced by citeproc-hs in bibliographies. So, if the link has a title, it will be lost on conversion to an autolink, but that seems okay.</p></li>
<li><p>Markdown writer: Set title, author, date variables as before. These are no longer used in the default template, since we use titleblock, but we set them anyway for those who use custom templates.</p></li>
<li><p>LaTeX writer: Avoid extra space at start/end of table cell. Thanks to Nick Bart for the suggestion of using @{}.</p></li>
<li><p><code>Text.Pandoc.Parsing</code>:</p>
<ul>
<li>More efficient version of <code>anyLine</code>.</li>
<li>Type of <code>macro</code> has changed; the parser now returns <code>Blocks</code> instead of <code>Block</code>.</li>
</ul></li>
<li><p>Relaxed old-time version bound, allowing 1.0.*.</p></li>
<li><p>Removed obsolete <code>hsmarkdown</code> script. Those who need <code>hsmarkdown</code> should create a symlink as described in the README.</p></li>
</ul>
<h1 id="pandoc-1.10.0.5-2013-01-23"><a href="#pandoc-1.10.0.5-2013-01-23">pandoc 1.10.0.5 (2013-01-23)</a></h1>
<ul>
<li><p>Markdown reader: Try <code>lhsCodeBlock</code> before <code>rawTeXBlock</code>. Otherwise <code>\begin{code}...\end{code}</code> isn’t handled properly in markdown+lhs. Thanks to Daniel Miot for noticing the bug and suggesting the fix.</p></li>
<li><p>Markdown reader: Fixed bug with headerless grid tables. The 1.10 code assumed that each table header cell contains exactly one block. That failed for headerless tables (0) and also for tables with multiple blocks in a header cell. The code is fixed and tests provided. Thanks to Andrew Lee for pointing out the bug.</p></li>
<li><p>Markdown reader: Fixed regressions in fenced code blocks. Closes #722.</p>
<ul>
<li>Tilde code fences can again take a bare language string (<code>~~~ haskell</code>), not just curly-bracketed attributes (<code>~~~ {.haskell}</code>).</li>
<li>Backtick code blocks can take the curly-bracketed attributes.</li>
<li>Backtick code blocks don’t <em>require</em> a language.</li>
<li>Consolidated code for the two kinds of fenced code blocks.</li>
</ul></li>
<li><p>LaTeX template: Use <code>\urlstyle{same}</code> to avoid monospace URLs.</p></li>
<li><p>Markdown writer: Use proportional font for email autolinks with obfuscation. Closes #714.</p></li>
<li><p>Corrected name of <code>blank_before_blockquote</code> in README. Closes #718.</p></li>
<li><p><code>Text.Pandoc.Shared</code>: Fixed bug in <code>uri</code> parser. The bug prevented an autolink at the end of a string (e.g. at the end of a line block line) from counting as a link. Closes #711.</p></li>
<li><p>Use the <code>hsb2hs</code> preprocessor instead of TH for embed_data_files. This should work on Windows, unlike the TH solution with file-embed.</p></li>
<li><p>Eliminated use of TH in test suite.</p></li>
<li><p>Added <code>Text.Pandoc.Data</code> (non-exported) to hold the association list of embedded data files, if the <code>embed_data_files</code> flag is selected. This isolates the code that needs special treatment with file-embed or <code>hsb2hs</code>.</p></li>
<li><p>Changes to <code>make-windows-installer.bat</code>.</p>
<ul>
<li>Exit batch file if any of the cabal-dev installs fail.</li>
<li>There’s no longer any need to reinstall <code>highlighting-kate</code>.</li>
<li>Don’t start with a <code>cabal update</code>; leave that to the user.</li>
<li>Force reinstall of pandoc.</li>
</ul></li>
<li><p>Fixed EPUB writer so it builds with blaze-html 0.4.x. Thanks to Jens Petersen.</p></li>
</ul>
<h1 id="pandoc-1.10.0.4-2013-01-20"><a href="#pandoc-1.10.0.4-2013-01-20">pandoc 1.10.0.4 (2013-01-20)</a></h1>
<ul>
<li>Fixed bug with escaped % in LaTeX reader. Closes #710.</li>
</ul>
<h1 id="pandoc-1.10.0.3-2013-01-20"><a href="#pandoc-1.10.0.3-2013-01-20">pandoc 1.10.0.3 (2013-01-20)</a></h1>
<ul>
<li>Added further missing fb2 tests to cabal file.</li>
</ul>
<h1 id="pandoc-1.10.0.2-2013-01-20"><a href="#pandoc-1.10.0.2-2013-01-20">pandoc 1.10.0.2 (2013-01-20)</a></h1>
<ul>
<li>Added fb2 tests to cabal file’s extra-source-files.</li>
</ul>
<h1 id="pandoc-1.10.0.1-2013-01-20"><a href="#pandoc-1.10.0.1-2013-01-20">pandoc 1.10.0.1 (2013-01-20)</a></h1>
<ul>
<li>Bump version bounds on test-framework packages.</li>
</ul>
<h1 id="pandoc-1.10-2013-01-19"><a href="#pandoc-1.10-2013-01-19">pandoc 1.10 (2013-01-19)</a></h1>
<h2 id="new-features"><a href="#new-features">New features</a></h2>
<ul>
<li><p>New input formats: <code>mediawiki</code> (MediaWiki markup).</p></li>
<li><p>New output formats: <code>epub3</code> (EPUB v3 with MathML), <code>fb2</code> (FictionBook2 ebooks).</p></li>
<li><p>New <code>--toc-depth</code> option, specifying how many levels of headers to include in a table of contents.</p></li>
<li><p>New <code>--epub-chapter-level</code> option, specifying the header level at which to divide EPUBs into separate files. Note that this normally affects only performance, not the visual presentation of the EPUB in a reader.</p></li>
<li><p>Removed the <code>--strict</code> option. Instead of using <code>--strict</code>, one can now use the format name <code>markdown_strict</code> for either input or output. This gives more fine-grained control that <code>--strict</code> did, allowing one to convert from pandoc’s markdown to strict markdown or vice versa.</p></li>
<li><p>It is now possible to enable or disable specific syntax extensions by appending them (with <code>+</code> or <code>-</code>) to the writer or reader name. For example,</p>
<pre><code>pandoc -f markdown-footnotes+hard_line_breaks</code></pre>
<p>disables footnotes and enables treating newlines as hard line breaks. The literate Haskell extensions are now implemented this way as well, using either <code>+lhs</code> or <code>+literate_haskell</code>. For a list of extension names, see the README under “Pandoc’s Markdown.”</p></li>
<li><p>The following aliases have been introduced for specific combinations of markdown extensions: <code>markdown_phpextra</code>, <code>markdown_github</code>, <code>markdown_mmd</code>, <code>markdown_strict</code>. These aliases work just like regular reader and writer names, and can be modified with extension modifiers as described above. (Note that conversion from one markdown dialect to another does not work perfectly, because there are differences in markdown parsers besides just the extensions, and because pandoc’s internal document model is not rich enough to capture all of the extensions.)</p></li>
<li><p>New <code>--html-q-tags</code> option. The previous default was to use <code>&lt;q&gt;</code> tags for smart quotes in HTML5. But <code>&lt;q&gt;</code> tags are also valid HTML4. Moreover, they are not a robust way of typesetting quotes, since some user agents don’t support them, and some CSS resets (e.g. bootstrap) prevent pandoc’s quotes CSS from working properly. We now just insert literal quote characters by default in both <code>html</code> and <code>html5</code> output, but this option is provided for those who still want <code>&lt;q&gt;</code> tags.</p></li>
<li><p>The markdown reader now prints warnings (to stderr) about duplicate link and note references. Closes #375.</p></li>
<li><p>Markdown syntax extensions:</p>
<ul>
<li><p>Added pipe tables. Thanks to François Gannaz for the initial patch. These conform to PHP Markdown Extra’s pipe table syntax. A subset of org-mode table syntax is also supported, which means that you can use org-mode’s nice table editor to create tables.</p></li>
<li><p>Added support for RST-style line blocks. These are useful for verse and addresses.</p></li>
<li><p>Attributes can now be specified for headers, using the same syntax as in code blocks. (However, currently only the identifier has any effect in most writers.) For example,</p>
<pre><code># My header {#foo}

See [the header above](#foo).</code></pre></li>
<li><p>Pandoc will now act as if link references have been defined for all headers without explicit identifiers. So, you can do this:</p>
<pre><code># My header

Link to [My header].
Another link to [it][My header].</code></pre></li>
</ul>
<p>Closes #691.</p></li>
<li><p>LaTeX reader:</p>
<ul>
<li>Command macros now work everywhere, including non-math. Environment macros still not supported.</li>
<li><code>\input</code> now works, as well as <code>\include</code>. TEXINPUTS is used. Pandoc looks recursively into included files for more included files.</li>
</ul></li>
</ul>
<h2 id="behavior-changes"><a href="#behavior-changes">Behavior changes</a></h2>
<ul>
<li><p>The Markdown reader no longer puts the text of autolinks in a <code>Code</code> inline. This means that autolinks will no longer appear in a monospace font.</p></li>
<li><p>The character <code>/</code> can now appear in markdown citation keys.</p></li>
<li><p>HTML blocks in strict_markdown are no longer required to begin at the left margin. Technically this is required, according to the markdown syntax document, but <code>Markdown.pl</code> and other markdown processors are more liberal.</p></li>
<li><p>The <code>-V</code> option has been changed so that if there are duplicate variables, those specified later on the command line take precedence.</p></li>
<li><p>Tight lists now work in LaTeX and ConTeXt output.</p></li>
<li><p>The LaTeX writer no longer relien on the <code>enumerate</code> package. Instead, it uses standard LaTeX commands to change the list numbering style.</p></li>
<li><p>The LaTeX writer now uses <code>longtable</code> instead of <code>ctable</code>. This allows tables to be split over page boundaries.</p></li>
<li><p>The RST writer now uses a line block to render paragraphs containing linebreaks (which previously weren’t supported at all).</p></li>
<li><p>The markdown writer now applies the <code>--id-prefix</code> to footnote IDs. Closes #614.</p></li>
<li><p>The plain writer no longer uses backslash-escaped line breaks (which are not very “plain”).</p></li>
<li><p><code>Text.Pandoc.UTF8</code>: Better error message for invalid UTF8. Read bytestring and use <code>Text</code>’s decodeUtf8 instead of using <code>System.IO.hGetContents</code>. This way you get a message saying “invalid UTF-8 stream” instead of “invalid byte sequence.” You are also told which byte caused the problem.</p></li>
<li><p>Docx, ODT, and EPUB writers now download images specified by a URL instead of skipping them or raising an error.</p></li>
<li><p>EPUB writer:</p>
<ul>
<li>The default CSS now left-aligns headers by default, instead of centering. This is more consistent with the rest of the writers.</li>
<li>A proper multi-level table of contents is now used in <code>toc.ncx</code>. There is no longer a subsidiary table of contents at the beginning of each chapter.</li>
<li>Code highlighting now works by default.</li>
<li>Section divs are used by default for better semantic markup.</li>
<li>The title is used instead of “Title Page” in the table of contents. Otherwise we have a hard-coded English string, which looks strange in ebooks written in other languages. Closes #572.</li>
</ul></li>
<li><p>HTML writer:</p>
<ul>
<li>Put mathjax in span with class “math”. Closes #562.</li>
<li>Put citations in a span with class “citation.” In HTML5, also include a <code>data-cite</code> attribute with a space-separated list of citation keys.</li>
</ul></li>
<li><p><code>Text.Pandoc.UTF8</code>: use universalNewlineMode in reading. This treats both <code>\r\n</code> and <code>\n</code> as <code>\n</code> on input, no matter what platform we’re running on.</p></li>
<li><p>Citation processing is now done in the Markdown and LaTeX readers, not in <code>pandoc.hs</code>. This makes it easier for library users to use citations.</p></li>
</ul>
<h2 id="template-changes"><a href="#template-changes">Template changes</a></h2>
<ul>
<li><p>HTML: Added css to template to preserve spaces in <code>&lt;code&gt;</code> tags. Thanks to Dirk Laurie.</p></li>
<li><p>Beamer: Remove English-centric strings in section pages. Section pages used to have “Section” and a number as well as the section title. Now they just have the title. Similarly for part and subsection. Closes #566.</p></li>
<li><p>LaTeX, ConTeXt: Added papersize variable.</p></li>
<li><p>LaTeX, Beamer templates: Use longtable instead of ctable.</p></li>
<li><p>LaTeX, Beamer templates: Don’t require ‘float’ package for tables. We don’t actually seem to use the ‘[H]’ option.</p></li>
<li><p>Markdown, plain: Fixed titleblock so it is just a single string. Previously separate title, author, and date variables were used, but this didn’t allow different kinds of title blocks.</p></li>
<li><p>EPUB:</p>
<ul>
<li>Rationalized templates. Previously there were three different templates involved in epub production. There is now just one template, <code>default.epub</code> or <code>default.epub3</code>. It can now be overridden using <code>--template</code>, just like other templates. The titlepage is now folded into the default template. A <code>titlepage</code> variable selects it.</li>
<li>UTF-8, lang tag, meta tags, title element.</li>
</ul></li>
<li><p>Added scale-to-width feature to beamer template</p></li>
</ul>
<h2 id="api-changes"><a href="#api-changes">API changes</a></h2>
<ul>
<li><p><code>Text.Pandoc.Definition</code>: Added <code>Attr</code> field to <code>Header</code>. Previously header identifers were autogenerated by the writers. Now they are added in the readers (either automatically or explicitly).</p></li>
<li><p><code>Text.Pandoc.Builder</code>:</p>
<ul>
<li><code>Inlines</code> and <code>Blocks</code> are now synonyms for <code>Many Inline</code> and <code>Many Block</code>. <code>Many</code> is a newtype wrapper around <code>Seq</code>, with custom Monoid instances for <code>Many Inline</code> and <code>Many Block.  This   allows</code>Many<code>to be made an instance of</code>Foldable<code>and</code>Traversable`.</li>
<li>The old <code>Listable</code> class has been removed.</li>
<li>The module now exports <code>isNull</code>, <code>toList</code>, <code>fromList</code>.</li>
<li>The old <code>Read</code> and <code>Show</code> instances have been removed; derived instances are now used.</li>
<li>Added <code>headerWith</code>.</li>
</ul></li>
<li><p>The readers now take a <code>ReaderOptions</code> rather than a <code>ParserState</code> as a parameter. Indeed, not all parsers use the <code>ParserState</code> type; some have a custom state. The motivation for this change was to separate user-specifiable options from the accounting functions of parser state.</p></li>
<li><p>New module <code>Text.Pandoc.Options</code>. This includes the <code>WriterOptions</code> formerly in <code>Text.Pandoc.Shared</code>, and its associated data types. It also includes a new type <code>ReaderOptions</code>, which contains many options formerly in <code>ParserState</code>, and its associated data types:</p>
<ul>
<li><code>ParserState.stateParseRaw</code> -&gt; <code>ReaderOptions.readerParseRaw</code>.</li>
<li><code>ParserState.stateColumns</code> -&gt; <code>ReaderOptions.readerColumns</code>.</li>
<li><code>ParserState.stateTabStop</code> -&gt; <code>ReaderOptions.readerTabStop</code>.</li>
<li><code>ParserState.stateOldDashes</code> -&gt; <code>ReaderOptions.readerOldDashes</code>.</li>
<li><code>ParserState.stateLiterateHaskell</code> -&gt; <code>ReaderOptions.readerLiterateHaskell</code>.</li>
<li><code>ParserState.stateCitations</code> -&gt; <code>ReaderOptions.readerReferences</code>.</li>
<li><code>ParserState.stateApplyMacros</code> -&gt; <code>ReaderOptions.readerApplyMacros</code>.</li>
<li><code>ParserState.stateIndentedCodeClasses</code> -&gt; <code>ReaderOptions.readerIndentedCodeClasses</code>.</li>
<li>Added <code>ReaderOptions.readerCitationStyle</code>.</li>
</ul></li>
<li><p><code>WriterOptions</code> now includes <code>writerEpubVersion</code>, <code>writerEpubChapterLevel</code>, <code>writerEpubStylesheet</code>, <code>writerEpubFonts</code>, <code>writerReferenceODT</code>, <code>writerReferenceDocx</code>, and <code>writerTOCDepth</code>. <code>writerEPUBMetadata</code> has been renamed <code>writerEpubMetadata</code> for consistency.</p></li>
<li><p>Changed signatures of <code>writeODT</code>, <code>writeDocx</code>, <code>writeEPUB</code>, since they no longer stylesheet, fonts, reference files as separate parameters.</p></li>
<li><p>Removed <code>writerLiterateHaskell</code> from <code>WriterOptions</code>, and <code>readerLiterateHaskell</code> from <code>ReaderOptions</code>. LHS is now handled by an extension (<code>Ext_literate_haskell</code>).</p></li>
<li><p>Removed deprecated <code>writerXeTeX</code>.</p></li>
<li><p>Removed <code>writerStrict</code> from <code>WriterOptions</code>. Added <code>writerExtensions</code>. Strict is now handled through extensions.</p></li>
<li><p><code>Text.Pandoc.Options</code> exports <code>pandocExtensions</code>, <code>strictExtensions</code>, <code>phpMarkdownExtraExtensions</code>, <code>githubMarkdownExtensions</code>, and <code>multimarkdownExtensions</code>, as well as the <code>Extensions</code> type.</p></li>
<li><p>New <code>Text.Pandoc.Readers.MediaWiki</code> module, exporting <code>readMediaWiki</code>.</p></li>
<li><p>New <code>Text.Pandoc.Writers.FB2</code> module, exporting <code>writeFB2</code> (thanks to Sergey Astanin).</p></li>
<li><p><code>Text.Pandoc</code>:</p>
<ul>
<li>Added <code>getReader</code>, <code>getWriter</code> to <code>Text.Pandoc</code>.</li>
<li><code>writers</code> is now an association list <code>(String, Writer)</code>. A <code>Writer</code> can be a <code>PureStringWriter</code>, an <code>IOStringWriter</code>, or an <code>IOByteStringWriter</code>. ALL writers are now in the ‘writers’ list, including the binary writers and FB2 writer. This allows code in <code>pandoc.hs</code> to be simplified.</li>
<li>Changed type of <code>readers</code>, so all readers are in IO. Users who want pure readers can still get them form the reader modules; this just affects the function <code>getReader</code> that looks up a reader based on the format name. The point of this change is to make it possible to print warnings from the parser.</li>
</ul></li>
<li><p><code>Text.Pandoc.Parsing</code>:</p>
<ul>
<li><code>Text.Parsec</code> now exports all Parsec functions used in pandoc code. No other module directly imports Parsec. This will make it easier to change the parsing backend in the future, if we want to.</li>
<li><code>Text.Parsec</code> is used instead of <code>Text.ParserCombinators.Parsec</code>.</li>
<li>Export the type synonym <code>Parser</code>.</li>
<li>Export <code>widthsFromIndices</code>, <code>NoteTable'</code>, <code>KeyTable'</code>, <code>Key'</code>, <code>toKey'</code>, <code>withQuoteContext</code>, <code>singleQuoteStart</code>, <code>singleQuoteEnd</code>, <code>doubleQuoteStart</code>, <code>doubleQuoteEnd</code>, <code>ellipses</code>, <code>apostrophe</code>, <code>dash</code>, <code>nested</code>, <code>F(..)</code>, <code>askF</code>, <code>asksF</code>, <code>runF</code>, <code>lineBlockLines</code>.</li>
<li><code>ParserState</code> is no longer an instance of <code>Show</code>.</li>
<li>Added <code>stateSubstitutions</code> and <code>stateWarnings</code> to <code>ParserState</code>.</li>
<li>Generalized type of <code>withQuoteContext</code>.</li>
<li>Added <code>guardEnabled</code>, <code>guardDisabled</code>, <code>getOption</code>.</li>
<li>Removed <code>failIfStrict</code>.</li>
<li><code>lookupKeySrc</code> and <code>fromKey</code> are no longer exported.</li>
</ul></li>
<li><p><code>Data.Default</code> instances are now provided for <code>ReaderOptions</code>, <code>WriterOptions</code>, and <code>ParserState</code>. <code>Text.Pandoc</code> re-exports <code>def</code>. Now you can use <code>def</code> (which is re-exported by <code>Text.Pandoc</code>) instead of <code>defaultWriterOptions</code> (which is still defined). Closes #546.</p></li>
<li><p><code>Text.Pandoc.Shared</code>:</p>
<ul>
<li>Added <code>safeRead</code>.</li>
<li>Renamed <code>removedLeadingTrailingSpace</code> to <code>trim</code>, <code>removeLeadingSpace</code> to <code>triml</code>, and <code>removeTrailingSpace</code> to <code>trimr</code>.</li>
<li>Count <code>\r</code> as space in <code>trim</code> functions.</li>
<li>Moved <code>renderTags'</code> from HTML reader and <code>Text.Pandoc.SelfContained</code> to <code>Shared</code>.</li>
<li>Removed <code>failUnlessLHS</code>.</li>
<li>Export <code>compactify'</code>, formerly in Markdown reader.</li>
<li>Export <code>isTightList</code>.</li>
<li>Do not export <code>findDataFile</code>.</li>
<li><code>readDataFile</code> now returns a strict ByteString.</li>
<li>Export <code>readDataFileUTF8</code> which returns a String, like the old <code>readDataFile</code>.</li>
<li>Export <code>fetchItem</code> and <code>openURL</code>.</li>
</ul></li>
<li><p><code>Text.Pandoc.ImageSize</code>: Use strict, not lazy bytestrings. Removed <code>readImageSize</code>.</p></li>
<li><p><code>Text.Pandoc.UTF8</code>: Export <code>encodePath</code>, <code>decodePath</code>, <code>decodeArg</code>, <code>toString</code>, <code>fromString</code>, <code>toStringLazy</code>, <code>fromStringLazy</code>.</p></li>
<li><p><code>Text.Pandoc.UTF8</code> is now an exposed module.</p></li>
<li><p><code>Text.Pandoc.Biblio</code>:</p>
<ul>
<li>csl parameter now a <code>String</code> rather than a <code>FilePath</code>.</li>
<li>Changed type of <code>processBiblio</code>. It is no longer in the IO monad. It now takes a <code>Maybe Style</code> argument rather than parameters for CSL and abbrev filenames. (<code>pandoc.hs</code> now calls the functions to parse the style file and add abbreviations.)</li>
</ul></li>
<li><p>Markdown reader now exports <code>readMarkdownWithWarnings</code>.</p></li>
<li><p><code>Text.Pandoc.RTF</code> now exports <code>writeRTFWithEmbeddedImages</code> instead of <code>rtfEmbedImage</code>.</p></li>
</ul>
<h2 id="bug-fixes"><a href="#bug-fixes">Bug fixes</a></h2>
<ul>
<li><p>Make <code>--ascii</code> work properly with <code>--self-contained</code>. Closes #568.</p></li>
<li><p>Markdown reader:</p>
<ul>
<li><p>Fixed link parser to avoid exponential slowdowns. Closes #620. Previously the parser would hang on input like this:</p>
<pre><code>[[[[[[[[[[[[[[[[[[hi</code></pre></li>
</ul>
<p>We fixed this by making the link parser parser characters between balanced brackets (skipping brackets in inline code spans), then parsing the result as an inline list. One change is that</p>
<pre><code>    [hi *there]* bud](/url)</code></pre>
<p>is now no longer parsed as a link. But in this respect pandoc behaved differently from most other implementations anyway, so that seems okay.</p>
<ul>
<li><p>Look for raw html/latex blocks before tables. Otherwise the following gets parsed as a table:</p>
<pre><code>\begin{code}
--------------
-- My comment.
\end{code}</code></pre></li>
</ul>
<p>Closes #578.</p></li>
<li><p>RST reader:</p>
<ul>
<li>Added support for <code>:target:</code> on <code>.. image::</code> blocks and substitutions.</li>
<li><p>Field list fixes:</p>
<ul>
<li>Fixed field lists items with body beginning after a new line (Denis Laxalde).</li>
<li>Allow any char but ‘:’ in names of field lists in RST reader (Denis Laxalde).</li>
<li>Don’t allow line breaks in field names.</li>
<li>Require whitespace after field list field names.</li>
<li>Don’t create empty definition list for metadata field lists. Previously a field list consisting only of metadata fields (author, title, date) would be parsed as an empty DefinitionList, which is not legal in LaTeX and not needed in any format.</li>
</ul></li>
<li>Don’t recognize inline-markup starts inside words. For example, <code>2*2 = 4*1</code> should not contain an emphasized section. Added test case for “Literal symbols”. Closes #569.</li>
<li>Allow dashes as separator in simple tables. Closes #555.</li>
<li>Added support for <code>container</code>, <code>compound</code>, <code>epigraph</code>, <code>rubric</code>, <code>highlights</code>, <code>pull-quote</code>.</li>
<li>Added support for <code>.. code::</code>.</li>
<li>Made directive labels case-insensitive.</li>
<li>Removed requirement that directives begin at left margin. This was (correctly) not in earlier releases; docutils doesn’t make the requirement.</li>
<li>Added support for <code>replace::</code> and <code>unicode::</code> substitutions.</li>
<li>Ignore unknown interpreted roles.</li>
<li><p>Renamed image parser to <code>subst</code>, since it now handles all substitution references.</p></li>
</ul></li>
<li><p>Textile reader:</p>
<ul>
<li>Allow newlines before pipes in table. Closes #654.</li>
<li>Fixed bug with list items containing line breaks. Now pandoc correctly handles hard line breaks inside list items. Previously they broke list parsing.</li>
<li>Implemented comment blocks.</li>
<li>Fixed bug affected words ending in hyphen.</li>
<li>Properly handle links with surrounding brackets. Square brackets need to be used when the link isn’t surrounded by spaces or punctuation, or when the URL ending may be ambiguous. Closes #564.</li>
<li>Removed nullBlock. Better to know about parsing problems than to skip stuff when we get stuck.</li>
<li>Allow ID attributes on headers.</li>
<li><p>Textile reader: Avoid parsing dashes as strikeout. Previously the input</p>
<pre><code>text--
text--
text--
text--</code></pre></li>
</ul>
would be parsed with strikeouts rather than dashes. This fixes the problem by requiring that a strikeout delimiting - not be followed by a -. Closes #631.
<ul>
<li>Expanded list of <code>stringBreakers</code>. This fixes a bug on input like “(<em>hello</em>)” which should be a parenthesized emphasized “hello”. The new list is taken from the PHP source of textile 2.4.</li>
<li>Fixed autolinks. Previously the textile reader and writer incorrectly implented RST-style autolinks for URLs and email addresses. This has been fixed. Now an autolink is done this way: <code>&quot;$&quot;:http://myurl.com</code>.</li>
<li>Fixed footnotes bug in textile. This affected notes occuring before punctuation, e.g. <code>foo[1].</code>. Closes #518.</li>
</ul></li>
<li><p>LaTeX reader:</p>
<ul>
<li>Better handling of citation commands.</li>
<li>Better handling of <code>\noindent</code>.</li>
<li>Added a ‘try’ in rawLaTeXBlock, so we can handle <code>\begin</code> without <code>{</code>. Closes #622.</li>
<li>Made <code>rawLaTeXInline</code> try to parse block commands as well. This is usually what we want, given how <code>rawLaTeXInline</code> is used in the markdown and textile readers. If a block-level LaTeX command is used in the middle of a paragraph (e.g. <code>\subtitle</code> inside a title), we can treat it as raw inline LaTeX.</li>
<li>Handle command. Closes #605.</li>
<li>Basic <code>\enquote</code> support.</li>
<li>Fixed parsing of paragraphs beginning with a group. Closes #606.</li>
<li>Use curly quotes for bare straight quotes.</li>
<li>Support obeylines environment. Closes #604.</li>
<li>Guard against “begin”, “end” in inlineCommand and blockCommand.</li>
<li>Better error messages for environments. Now it should tell you that it was looking for \end{env}, instead of giving “unknown parse error.”</li>
</ul></li>
<li><p>HTML reader:</p>
<ul>
<li>Added HTML 5 tags to list of block-level tags.</li>
<li>HTML reader: Fixed bug in <code>htmlBalanced</code>, which caused hangs in parsing certain markdown input using strict mode.</li>
<li>Parse <code>&lt;q&gt;</code> as <code>Quoted DoubleQuote</code>.</li>
<li>Handle nested <code>&lt;q&gt;</code> tags properly.</li>
<li>Modified <code>htmlTag</code> for fewer false positives. A tag must start with <code>&lt;</code> followed by <code>!</code>,<code>?</code>, <code>/</code>, or a letter. This makes it more useful in the wikimedia and markdown parsers.</li>
</ul></li>
<li><p>DocBook reader: Support title in “figure” element. Closes #650.</p></li>
<li><p>MediaWiki writer:</p>
<ul>
<li>Remove newline after <code>&lt;br/&gt;</code> in translation of <code>LineBreak</code> There’s no particular need for a newline (other than making the generated MediaWiki source look nice to a human), and in fact sometimes it is incorrect: in particular, inside an enumeration, list items cannot have embedded newline characters. (Brent Yorgey)</li>
<li>Use <code>&lt;code&gt;</code> not <code>&lt;tt&gt;</code> for Code.</li>
</ul></li>
<li><p>Man writer: Escape <code>-</code> as <code>\-</code>. Unescaped <code>-</code>’s become hyphens, while <code>\-</code>’s are left as ascii minus signs. That is preferable for use with command-line options. See <a href="http://lintian.debian.org/tags/hyphen-used-as-minus-sign.html">http://lintian.debian.org/tags/hyphen-used-as-minus-sign.html</a>. Thanks to Andrea Bolognani for bringing the issue to our attention.</p></li>
<li><p>RST writer:</p>
<ul>
<li>Improved line block output. Use nonbreaking spaces for initial indent (otherwise lost in HTML and LaTeX). Allow multiple paragraphs in a single line block. Allow soft breaks w continuations in line blocks.</li>
<li>Properly handle images with no alt text. Closes #678.</li>
<li>Fixed bug with links with duplicate text. We now (a) use anonymous links for links with inline URLs, and (b) use an inline link instead of a reference link if the reference link would require a label that has already been used for a different link. Closes #511.</li>
<li>Fixed hyperlinked images. Closes #611. Use <code>:target:</code> field when you have a simple linked image.</li>
<li>Don’t add <code>:align: center</code> to figures.</li>
</ul></li>
<li><p>Texinfo writer: Fixed internal cross-references. Now we insert anchors after each header, and use <code>@ref</code> instead of <code>@uref</code> for links. Commas are now escaped as <code>@comma{}</code> only when needed; previously all commas were escaped. (This change is needed, in part, because <code>@ref</code> commands must be followed by a real comma or period.) Also insert a blank line in from of <code>@verbatim</code> environments.</p></li>
<li><p>DocBook writer:</p>
<ul>
<li>Made –id-prefix work in DocBook as well as HTML. Closes #607.</li>
<li>Don’t include empty captions in figures. Closes #581.</li>
</ul></li>
<li><p>LaTeX writer:</p>
<ul>
<li>Use <code>\hspace*</code> for nonbreaking space after line break, since <code>~</code> spaces after a line break are just ignored. Closes #687.</li>
<li>Don’t escape <code>_</code> in URLs or hyperref identifiers.</li>
<li>Properly escape strings inside . Closes #576.</li>
<li>Use <code>[fragile]</code> only for slides containing code rendered using listings. Closes #649.</li>
<li>Escape <code>|</code> as <code>\vert</code> in LaTeX math. This avoids a clash with highlighting-kate’s macros, which redefine <code>|</code> as a short verbatim delimiter. Thanks to Björn Peemöller for raising this issue.</li>
<li>Use minipage rather than parbox for block containers in tables. This allows verbatim code to be included in grid tables. Closes #663.</li>
<li>Prevent paragraphs containing only linebreaks or spaces.</li>
</ul></li>
<li><p>HTML writer:</p>
<ul>
<li>Included <code>highlighting-css</code> for code spans, too. Previously it was only included if used in a code block. Closes #653.</li>
<li>Improved line breaks with <code>&lt;dd&gt;</code> tags. We now put a newline between <code>&lt;/dd&gt;</code> and <code>&lt;dd&gt;</code> when there are multiple definitions.</li>
<li>Changed mathjax cdn url so it doesn’t use https. (This caused problems when used with <code>--self-contained</code>.) See #609.</li>
</ul></li>
<li><p>EPUB writer:</p>
<ul>
<li><code>--number-sections</code> now works properly.</li>
<li>Don’t strip meta and link elements in epub metadata. Patch from aberrancy. Closes #589.</li>
<li>Fixed a couple validation bugs.</li>
<li>Use ch001, ch002, etc. for chapter filenames. This improves sorting of chapters in some readers, which apparently sort ch2 after ch10. Closes #610.</li>
</ul></li>
<li><p>ODT writer: properly set title property (Arlo O’Keeffe).</p></li>
<li><p>Docx writer:</p>
<ul>
<li><p>Fixed bug with nested lists. Previously a list like</p>
<pre><code>1. one
    - a
    - b
2. two</code></pre></li>
</ul>
would come out with a bullet instead of “2.” Thanks to Russell Allen for reporting the bug.
<ul>
<li>Use <code>w:cr</code> in <code>w:r</code> instead of <code>w:br</code> for linebreaks. This seems to fix a problem viewing pandoc-generated docx files in LibreOffice.</li>
<li>Use integer ids for bookmarks. Closes #626.</li>
<li>Added nsid to abstractNum elements. This helps when merging word documents with numbered or bulleted lists. Closes #627.</li>
<li>Use separate footnotes.xml for notes. This seems to help LibreOffice convert the file, even though it was valid docx before. Closes #637.</li>
<li>Use rIdNN identifiers for r:embed in images.</li>
<li>Avoid reading image files again when we’ve already processed them.</li>
<li>Fixed typo in <code>referenc.docx</code> that prevented image captions from working. Thanks to Huashan Chen.</li>
</ul></li>
<li><p><code>Text.Pandoc.Parsing</code>:</p>
<ul>
<li>Fixed bug in <code>withRaw</code>, which didn’t correctly handle the case where nothing is parsed.</li>
<li>Made <code>emailAddress</code> parser more correct. Now it is based on RFC 822, though it still doesn’t implement quoted strings in email addresses.</li>
<li>Revised URI parser. It now allows many more schemes, allows uppercase URIs, and better handles trailing punctuation and trailing slashes in bare URIs. Added many tests.</li>
<li>Simplified and improved singleQuoteStart. This makes <code>'s'</code>, <code>'l'</code>, etc. parse properly. Formerly we had some English-centric heuristics, but they are no longer needed. Closes #698.</li>
</ul></li>
<li><p><code>Text.Pandoc.Pretty</code>: Added wide punctuation range to <code>charWidth</code>. This fixes bug with Chinese commas in markdown and reST tables, and a bug that caused combining characters to be dropped.</p></li>
<li><p><code>Text.Pandoc.MIME</code>: Added MIME types for .wof and .eot. Closes #640.</p></li>
<li><p><code>Text.Pandoc.Biblio</code>:</p>
<ul>
<li>Run <code>mvPunc</code> and <code>deNote</code> on metadata too. This fixed a bug with notes on titles using footnote styles.</li>
<li>Fixed bug in fetching CSL files from CSL data directory.</li>
</ul></li>
<li><p><code>pandoc.hs</code>: Give correct value to <code>writerSourceDirectory</code> when a URL is provided. It should be the URL up to the path.</p></li>
<li><p>Fixed/simplified diff output for tests. Biblio: Make sure mvPunc and deNote run on metadata too. This fixed a bug with notes on titles using footnote styles.</p></li>
</ul>
<h2 id="under-the-hood-improvements"><a href="#under-the-hood-improvements">Under the hood improvements</a></h2>
<ul>
<li><p>We no longer depend on <code>utf8-string</code>. Instead we use functions defined in <code>Text.Pandoc.UTF8</code> that use <code>Data.Text</code>’s conversions.</p></li>
<li><p>Use <code>safeRead</code> instead of using <code>reads</code> directly (various modules).</p></li>
<li><p>“Implicit figures” (images alone in a paragraph) are now handled differently. The markdown reader gives their titles the prefix <code>fig:</code>; the writers look for this before treating the image as a figure. Though this is a bit of a hack, it has two advantages: (i) implicit figures can be limited to the markdown reader, and (ii) they can be deactivated by turning off the <code>implicit_figures</code> extension.</p></li>
<li><p><code>catch</code> from <code>Control.Exception</code> is now used instead of the old Preface <code>catch</code>.</p></li>
<li><p><code>Text.Pandoc.Shared</code>: Improved algorithm for <code>normalizeSpaces</code> and <code>oneOfStrings</code> (which is now non-backtracking).</p></li>
<li><p><code>Text.Pandoc.Biblio</code>: Remove workaround for <code>toCapital</code>. Now citeproc-hs is fixed upstream, so this is no longer needed. Closes #531.</p></li>
<li><p>Textile reader: Improved speed of <code>hyphenedWords</code>. This speeds up the textile reader by about a factor of 4.</p></li>
<li><p>Use <code>Text.Pandoc.Builder</code> in RST reader, for more flexibility, better performance, and automatic normalization.</p></li>
<li><p>Major rewrite of markdown reader:</p>
<ul>
<li>Use <code>Text.Pandoc.Builder</code> instead of lists. This also means that everything is normalized automatically.</li>
<li>Move to a one-pass parsing strategy, returning values in the reader monad, which are then run (at the end of parsing) against the final parser state.</li>
</ul></li>
<li><p>In HTML writer, we now use <code>toHtml</code> instead of pre-escaping. We work around the problem that blaze-html unnecessarily escapes <code>'</code> by pre-escaping just the <code>'</code> characters, instead of the whole string. If blaze-html later stops escaping <code>'</code> characters, we can simplify <code>strToHtml</code> to <code>toHtml</code>. Closes #629.</p></li>
<li><p>Moved code for embedding images in RTFs from <code>pandoc.hs</code> to the RTF writer (which now exports <code>writeRTFWithEmbeddedImages</code>).</p></li>
<li><p>Moved citation processing from <code>pandoc.hs</code> into the readers. This makes things more convenient for library users.</p></li>
<li><p>The man pages are now built by an executable <code>make-pandoc-man-pages</code>, which has its own stanza in the cabal file so that dependencies can be handled by Cabal. Special treatment in <code>Setup.hs</code> ensures that this executable never gets installed; it is only used to create the man pages.</p></li>
<li><p>The cabal file has been modified so that the pandoc library is used in building the pandoc executable. (This required moving <code>pandoc.hs</code> from <code>src</code> to <code>.</code>.) This cuts compile time in half.</p></li>
<li><p>The <code>executable</code> and <code>library</code> flags have been removed.</p></li>
<li><p><code>-threaded</code> has been removed from ghc-options.</p></li>
<li><p>Version bounds of dependencies have been raised, and the <code>blaze_html_0_5</code> flag now defaults to True. Pandoc now compiles on GHC 7.6.</p></li>
<li><p>We now require base &gt;= 4.2.</p></li>
<li><p>Integrated the benchmark program into cabal. One can now do:</p>
<pre><code>cabal configure --enable-benchmarks &amp;&amp; cabal build
cabal bench --benchmark-option=&#39;markdown&#39; --benchmark-option=&#39;-s 20&#39;</code></pre>
<p>The benchmark now uses README + testsuite, so benchmark results from older versions aren’t comparable.</p></li>
<li><p>Integrated test suite with cabal. To run tests, configure with <code>--enable-tests</code>, then <code>cabal test</code>. You can specify particular tests using <code>--test-options='-t markdown'</code>. No output is shown unless tests fail. The Haskell test modules have been moved from <code>src/</code> to <code>tests/</code>.</p></li>
<li><p>Moved all data files and templates to the <code>data/</code> subdirectory.</p></li>
<li><p>Added an <code>embed_data_files</code> cabal flag. This causes all data files to be embedded in the binary, so that the binary is self-sufficient and can be relocated anywhere, copied on a USB key, etc. The Windows installer now uses this. (Since we no longer have the option to build the executable without the library, this is the only way to get a relocatable binary on Windows.)</p></li>
<li><p>Removed pcre3.dll from windows package. It isn’t needed unless highlighting-kate is compiled with the <code>pcre-light</code> flag. By default, regex-prce-builtin is used.</p></li>
</ul>
<h1 id="pandoc-1.9.4.5-2012-10-21"><a href="#pandoc-1.9.4.5-2012-10-21">pandoc 1.9.4.5 (2012-10-21)</a></h1>
<ul>
<li>Raised version bounds on network, base64-bytestring, json, and template-haskell.</li>
</ul>
<h1 id="pandoc-1.9.4.4-2012-10-20"><a href="#pandoc-1.9.4.4-2012-10-20">pandoc 1.9.4.4 (2012-10-20)</a></h1>
<ul>
<li><p>Removed <code>tests</code> flag and made test suite into a proper cabal test suite, which can now be enabled using <code>--enable-tests</code> and run with <code>cabal test</code>.</p></li>
<li><p>Moved man page creation out of <code>Setup.hs</code> and into an executable built by Cabal, but never installed. This allows dependencies to be specified, and solves a problem with 1.9.4.3, which could only be installed if <code>data-default</code> had already been installed.</p></li>
<li><p>Updated <code>lhs-latex.tex</code> test for latest highlighting-kate representation of backticks.</p></li>
</ul>
<h1 id="pandoc-1.9.4.3-2012-10-20"><a href="#pandoc-1.9.4.3-2012-10-20">pandoc 1.9.4.3 (2012-10-20)</a></h1>
<ul>
<li><p>Removed <code>-threaded</code> from default compile flags.</p></li>
<li><p>Modified modules to compile with GHC 7.6 and latest version of time package.</p></li>
</ul>
<h1 id="pandoc-1.9.4.2-2012-06-29"><a href="#pandoc-1.9.4.2-2012-06-29">pandoc 1.9.4.2 (2012-06-29)</a></h1>
<ul>
<li><p>Don’t encode/decode file paths if base &gt;= 4.4. Prior to base 4.4, filepaths and command line arguments were treated as unencoded lists of bytes, not unicode strings, so we had to work around that by encoding and decoding them. This commit adds CPP checks for the base version that intelligibly enable encoding/decoding when needed. Fixes a bug with multilingual filenames when pandoc was compiled with ghc 7.4 (#540).</p></li>
<li><p>Don’t generate an empty H1 after hrule slide breaks. We now use a slide-level header with contents <code>[Str &quot;\0&quot;]</code> to mark an hrule break. This avoids creation of an empty H1 in these contexts. Closes #484.</p></li>
<li><p>Docbook reader: Added support for “bold” emphasis. Thanks to mb21.</p></li>
<li><p>In make_osx_package.sh, ensure citeproc-hs is built with the embed_data_files flag.</p></li>
<li><p>MediaWiki writer: Avoid extra blank lines after sublists (Gavin Beatty).</p></li>
<li><p>ConTeXt writer: Don’t escape <code>&amp;</code>, <code>^</code>, <code>&lt;</code>, <code>&gt;</code>, <code>_</code>, simplified escapes for <code>}</code> and <code>{</code> to <code>\{</code> and <code>\}</code> (Aditya Mahajan).</p></li>
<li><p>Fixed handling of absolute URLs in CSS imports with <code>--self-contained</code>. Closes #535.</p></li>
<li><p>Added webm to mime types. Closes #543.</p></li>
<li><p>Added some missing exports and tests to the cabal file (Alexander V Vershilov).</p></li>
<li><p>Compile with <code>-rtsopts</code> and <code>-threaded</code> by default.</p></li>
</ul>
<h1 id="pandoc-1.9.4.1-2012-06-08"><a href="#pandoc-1.9.4.1-2012-06-08">pandoc 1.9.4.1 (2012-06-08)</a></h1>
<ul>
<li><p>Markdown reader: Added <code>cf.</code> and <code>cp.</code> to list of likely abbreviations.</p></li>
<li><p>LaTeX template: Added <code>linkcolor</code>, <code>urlcolor</code> and <code>links-as-notes</code> variables. Make TOC links black.</p></li>
<li><p>LaTeX template improvements.</p>
<ul>
<li>Don’t print date unless one is given explicitly in the document.</li>
<li>Simplified templates.</li>
<li>Use fontenc [T1] by default, and lmodern.</li>
<li>Use microtype if available.</li>
</ul></li>
<li><p>Biblio:</p>
<ul>
<li>Add comma to beginning of bare suffix, e.g. <code>@item1 [50]</code>. Motivation: <code>@item1 [50]</code> should be as close as possible to <code>[@item1, 50]</code>.</li>
<li>Added workaround for a bug in citeproc-hs 0.3.4 that causes footnotes beginning with a citation to be empty. Closes #531.</li>
</ul></li>
<li><p>Fixed documentation on mixed lists. Closes #533.</p></li>
</ul>
<h1 id="pandoc-1.9.4-2012-06-03"><a href="#pandoc-1.9.4-2012-06-03">pandoc 1.9.4 (2012-06-03)</a></h1>
<ul>
<li><p>Simplified <code>Text.Pandoc.Biblio</code> and fixed bugs with citations inside footnotes and captions. We now handle note citations by inserting footnotes during initial citation processing, and doing a separate pass later to remove notes inside notes.</p></li>
<li><p>Added ‘zenburn’ highlight style from highlighting-kate.</p></li>
<li><p>Added Slideous writer. Slideous is an HTML + javascript slide show format, similar to Slidy, but works with IE 7. (Jonas Smedegaard)</p></li>
<li><p>LaTeX writer:</p>
<ul>
<li>Ensure we don’t have extra blank lines at ends of cells. This can cause LaTeX errors, as they are interpreted as new paragraphs.</li>
<li>More consistent interblock spacing.</li>
<li>Require highlighting-kate &gt;= 0.5.1, for proper highlighted inline code in LaTeX. Closes #527.</li>
<li>Ensure that a Verbatim at the end of a footnote is followed by a newline. (Fixes a regression in the previous version.)</li>
<li>In default template, use black for internal links and TOC. Added commented-out code to use footnotes for links, as would be suitable in print output.</li>
</ul></li>
<li><p>Beamer writer: When <code>--incremental</code> is used, lists inside a block quote should appear all at once. (This makes Beamer output consistent with the HTML slide show formats.)</p></li>
<li><p>ConTeXt writer:</p>
<ul>
<li>Escape <code>%</code> as <code>\letterpercent{}</code> not <code>\letterpercent</code>, to avoid gobbling spaces after the <code>%</code> sign.</li>
<li>Ensure space after <code>\stopformula</code>.</li>
</ul></li>
<li><p>Markdown writer:</p>
<ul>
<li>Use <code>:</code> form instead of <code>~</code> in definition lists, for better compatibility with other markdown implementations.</li>
<li>Don’t wrap the term, because it breaks definition lists.</li>
<li>Use a nonzero space to prevent false recognition of list marker in ordered lists. Closes #516.</li>
</ul></li>
<li><p>Org writer: Add space before language name. Closes #523.</p></li>
<li><p>Docx writer: Simplified bullet characters so they work properly with Word 2007. Closes #520.</p></li>
<li><p>LaTeX reader: Support <code>\centerline</code>.</p></li>
<li><p>RST reader: handle figures. Closes #522.</p></li>
<li><p>Textile reader: fix for <code>&lt;notextile&gt;</code> and <code>==</code>. Closes #517. (Paul Rivier)</p></li>
</ul>
<h1 id="pandoc-1.9.3-2012-05-12"><a href="#pandoc-1.9.3-2012-05-12">pandoc 1.9.3 (2012-05-12)</a></h1>
<ul>
<li><p>Added docbook reader (with contributions from Mauro Bieg).</p></li>
<li><p>Fixed bug in <code>fromEntities</code>. The previous version would turn <code>hi &amp; low you know;</code> into <code>hi &amp;</code>.</p></li>
<li><p>HTML reader:</p>
<ul>
<li>Don’t skip nonbreaking spaces. Previously a paragraph containing just <code>&amp;nbsp;</code> would be rendered as an empty paragraph. Thanks to Paul Vorbach for pointing out the bug.</li>
<li>Support <code>&lt;col&gt;</code> and <code>&lt;caption&gt;</code> in tables. Closes #486.</li>
</ul></li>
<li><p>Markdown reader:</p>
<ul>
<li>Don’t recognize references inside delimited code blocks.</li>
<li>Allow list items to begin with lists.</li>
</ul></li>
<li><p>LaTeX reader:</p>
<ul>
<li>Handle <code>\bgroup</code>, <code>\egroup</code>, <code>\begingroup</code>, <code>\endgroup</code>.</li>
<li>Control sequences can’t be followed by a letter. This fixes a bug where <code>\begingroup</code> was parsed as <code>\begin</code> followed by <code>group</code>.</li>
<li>Parse ‘dimension’ arguments to unknown commands. e.g. <code>\parindent0pt</code></li>
<li>Make <code>\label</code> and <code>\ref</code> sensitive to <code>--parse-raw</code>. If <code>--parse-raw</code> is selected, these will be parsed as raw latex inlines, rather than bracketed text.</li>
<li>Don’t crash on unknown block commands (like <code>\vspace{10pt}</code>) inside <code>\author</code>; just skip them. Closes #505.</li>
</ul></li>
<li><p>Textile reader:</p>
<ul>
<li>Implemented literal escapes with <code>==</code> and <code>&lt;notextile&gt;</code>. Closes #473.</li>
<li>Added support for LaTeX blocks and inlines (Paul Rivier).</li>
<li>Better conformance to RedCloth inline parsing (Paul Rivier).</li>
<li>Parse ‘+text+’ as emphasized (should be underlined, but this is better than leaving literal plus characters in the output.</li>
</ul></li>
<li><p>Docx writer: Fixed multi-paragraph list items. Previously they each got a list marker. Closes #457.</p></li>
<li><p>LaTeX writer:</p>
<ul>
<li>Added <code>--no-tex-ligatures</code> option to avoid replacing quotation marks and dashes with TeX ligatures.</li>
<li>Use <code>fixltx2e</code> package to provide ‘’.</li>
<li>Improve spacing around LaTeX block environments: quote, verbatim, itemize, description, enumerate. Closes #502.</li>
<li>Use blue instead of pink for URL links in latex/pdf output.</li>
</ul></li>
<li><p>ConTeXt writer: Fixed escaping of <code>%</code>. In text, <code>%</code> needs to be escaped as <code>\letterpercent</code>, not <code>\%</code> Inside URLs, <code>%</code> needs to be escaped as <code>\%</code> Thanks to jmarca and adityam for the fix. Closes #492.</p></li>
<li><p>Texinfo writer: Escape special characters in node titles. This fixes a problem pointed out by Joost Kremers. Pandoc used to escape an ‘@’ in a chapter title, but not in the corresponding node title, leading to invalid texinfo.</p></li>
<li><p>Fixed document encoding in texinfo template. Resolves Debian Bug #667816.</p></li>
<li><p>Markdown writer:</p>
<ul>
<li>Don’t force delimited code blocks to be flush left. Fixes bug with delimited code blocks inside lists etc.</li>
<li>Escape <code>&lt;</code> and <code>$</code>.</li>
</ul></li>
<li><p>LaTeX writer: Use <code>\hyperref[ident]{text}</code> for internal links. Previously we used <code>\href{\#ident}{text}</code>, which didn’t work on all systems. Thanks to Dirk Laurie.</p></li>
<li><p>RST writer: Don’t wrap link references. Closes #487.</p></li>
<li><p>Updated to use latest versions of blaze-html, mtl.</p></li>
</ul>
<h1 id="pandoc-1.9.2-2012-04-05"><a href="#pandoc-1.9.2-2012-04-05">pandoc 1.9.2 (2012-04-05)</a></h1>
<ul>
<li><p>LaTeX reader:</p>
<ul>
<li>Made <code>lstlisting</code> work as a proper verbatim environment.</li>
<li>Fixed bug parsing LaTeX tables with one column.</li>
</ul></li>
<li><p>LaTeX writer:</p>
<ul>
<li>Use <code>{}</code> around <code>ctable</code> caption, so that formatting can be used.</li>
<li>Don’t require eurosym package unless document has a €.</li>
</ul></li>
<li><p>LaTeX template: Added variables for <code>geometry</code>, <code>romanfont</code>, <code>sansfont</code>, <code>mathfont</code>, <code>mainfont</code> so users can more easily customize fonts.</p></li>
<li><p>PDF writer:</p>
<ul>
<li>Run latex engine at least two times, to ensure that PDFs will have hyperlinked bookmarks.</li>
<li>Added PDF metadata (title,author) in LaTeX standalone + PDF output.</li>
</ul></li>
<li><p>Texinfo writer: retain directories in image paths. (Peter Wang)</p></li>
<li><p>RST writer: Better handling of inline formatting, in accord with docutils’ “inline markup recognition rules” (though we don’t implement the unicode rules fully). Now <code>hi*there*hi</code> gets rendered properly as <code>hi\ *there*\ hi</code>, and unnecessary <code>\</code> are avoided around <code>:math:</code>, <code>:sub:</code>, <code>:sup:</code>.</p></li>
<li><p>RST reader:</p>
<ul>
<li>Parse <code>\</code> as null, not escaped space.</li>
<li>Allow <code>:math:`...`</code> even when not followed by blank or <code>\</code>. This does not implement the complex rule docutils follows, but it should be good enough for most purposes.</li>
<li>Add support for the rST default-role directive. (Greg Maslov)</li>
</ul></li>
<li><p>Text.Pandoc.Parsing: Added <code>stateRstDefaultRole</code> field to <code>ParserState</code>. (Greg Maslov)</p></li>
<li><p>Markdown reader: Properly handle citations nested in other inline elements.</p></li>
<li><p>Markdown writer: don’t replace empty alt in image with “image”.</p></li>
<li><p>DZSlides: Updated template.html and styles in default template. Removed bizarre CSS for <code>q</code> in dzslides template.</p></li>
<li><p>Avoid repeated <code>id</code> attribute in section and header in HTML slides.</p></li>
<li><p>README improvements: new instructions on internal links, removed misleading note on reST math.</p></li>
<li><p>Build system:</p>
<ul>
<li>Fixed Windows installer so that dzslides works.</li>
<li>Removed stripansi.sh.</li>
<li>Added .travis.yml for Travis continuous integration support..</li>
<li>Fixed upper bound for zlib (Sergei Trofimovich).</li>
<li>Fixed upper bound for test-framework.</li>
<li>Updated haddocks for haddock-2.10 (Sergei Trofimovich).</li>
</ul></li>
</ul>
<h1 id="pandoc-1.9.1.2-2012-03-09"><a href="#pandoc-1.9.1.2-2012-03-09">pandoc 1.9.1.2 (2012-03-09)</a></h1>
<ul>
<li><p>Added <code>beamer+lhs</code> as output format.</p></li>
<li><p>Don’t escape <code>&lt;</code> in <code>&lt;style&gt;</code> tags with <code>--self-contained</code>. This fixes a bug which prevented highlighting from working when using <code>--self-contained</code>.</p></li>
<li><p>PDF: run latex engine three times if <code>--toc</code> specified. This fixes page numbers in the table of contents.</p></li>
<li><p>Docx writer: Added TableNormal style to tables.</p></li>
<li><p>LaTeX math environment fixes. <code>aligned</code> is now used instead of the nonexistent <code>aligned*</code>. <code>multline</code> instead of the nonexistent <code>multiline</code>.</p></li>
<li><p>LaTeX writer: Use <code>\textasciitilde</code> for literal <code>~</code>.</p></li>
<li><p>HTML writer: Don’t escape contents of EQ tags with –gladtex. This fixes a regression from 1.8.</p></li>
<li><p>Use <code>&lt;q&gt;</code> tags for Quoted items for HTML5 output. The quote style can be changed by modifying the template or including a css file. A default quote style is included.</p></li>
<li><p>LaTeX reader: Fixed accents (~{a}, <code>\c{c}</code>). Correctly handle ^{}. Support “minted” as a LaTeX verbatim block.</p></li>
<li><p>Updated LaTeX template for better language support. Use <code>polyglossia</code> instead of <code>babel</code> with xetex. Set <code>lang</code> as documentclass option. <code>\setmainlanguage</code> will use the last of a comma-separated list of languages. Thanks to François Gannaz.</p></li>
<li><p>Fixed default LaTeX template so <code>\euro</code> and <code>€</code> work. The <code>eurosym</code> package is needed if you are using pdflatex.</p></li>
<li><p>Fixed escaping of period in man writer (thanks to Michael Thompson).</p></li>
<li><p>Fixed list label positions in beamer.</p></li>
<li><p>Set <code>mainlang</code> variable in context writer. This parallels behavior of latex writer. <code>mainlang</code> is the last of a comma-separated list of languages in lang.</p></li>
<li><p>EPUB language metadat: convert e.g. <code>en_US</code> from locale to <code>en-US</code>.</p></li>
<li><p>Changed <code>-V</code> so that you can specify a key without a value. Such keys get the value <code>true</code>.</p></li>
<li><p>Fixed permissions on installed man pages - thanks Magnus Therning.</p></li>
<li><p>Windows installer: require XP or higher. The installer is now compiled on a Windows 7 machine, which fixes a problem using citation functions on Windows 7.</p></li>
<li><p>OSX package: Check for 64-bit Intel CPU before installing.</p></li>
</ul>
<h1 id="pandoc-1.9.1.1-2012-02-11"><a href="#pandoc-1.9.1.1-2012-02-11">pandoc 1.9.1.1 (2012-02-11)</a></h1>
<ul>
<li><p>Better handling of raw latex environments in markdown. Now</p>
<pre><code>\begin{equation}
a_1
\end{equation}</code></pre>
<p>turns into a raw latex block as expected.</p></li>
<li><p>Improvements to LaTeX reader:</p>
<ul>
<li>Skip options after block commands.</li>
<li>Correctly handle <code>{\\}</code> in braced.</li>
<li>Added a needed ‘try’.</li>
<li>Citations: add <code>,</code> to suffix if it doesn’t start with space or punctuation. Otherwise we get no space between the year and the suffix in author-date styles.</li>
</ul></li>
<li><p>Added two needed data files for S5. This fixes a problem with <code>pandoc -t s5 --self-contained</code>. Also removed <code>slides.min.js</code>, which was no longer being used.</p></li>
<li><p>Fixed some minor problems in <code>reference.docx</code>: name on “Date” style, <code>xCs</code> instead of <code>xIs</code>.</p></li>
<li><p>Fixed a problem creating docx files using a reference docx modified using Word. The problem seems to be that Word modifies <code>_rels/.rels</code>, changing the Type of the Relationship to <code>docProps/core.xml</code>. Pandoc now changes this back to the correct value if it has been altered, fixing the problem.</p></li>
<li><p>Fixed html5 template so it works properly with highlighting.</p></li>
</ul>
<h1 id="pandoc-1.9.1-2012-02-09"><a href="#pandoc-1.9.1-2012-02-09">pandoc 1.9.1 (2012-02-09)</a></h1>
<ul>
<li><p>LaTeX reader:</p>
<ul>
<li>Fixed regression in 1.9; properly handle escaped $ in latex math.</li>
<li>Put LaTeX verse environments in blockquotes.</li>
</ul></li>
<li><p>Markdown reader:</p>
<ul>
<li>Limit nesting of strong/emph. This avoids exponential lookahead in parasitic cases, like <code>a**a*a**a*a**a*a**a*a**a*a**a*a**a*a**</code>.</li>
<li>Improved attributes syntax (in code blocks/spans): (1) Attributes can contain line breaks. (2) Values in key-value attributes can be surrounded by either double or single quotes, or left unquoted if they contain no spaces.</li>
</ul></li>
<li><p>Headers no longer wrap in markdown or RST writers.</p></li>
<li><p>Added <code>stateMaxNestingLevel</code> to <code>ParserState</code>. We set this to 6, so you can still have <code>Emph</code> inside <code>Emph</code>, just not indefinitely.</p></li>
<li><p>More efficient implementation of <code>nowrap</code> in <code>Text.Pandoc.Pretty</code>.</p></li>
<li><p><code>Text.Pandoc.PDF</code>: Only run latex twice if <code>\tableofcontents</code> is present.</p></li>
<li><p>Require highlighting-kate &gt;= 0.5.0.2, texmath &gt;= 0.6.0.2.</p></li>
</ul>
<h1 id="pandoc-1.9.0.5-2012-02-06"><a href="#pandoc-1.9.0.5-2012-02-06">pandoc 1.9.0.5 (2012-02-06)</a></h1>
<ul>
<li><p>Changed cabal file so that build-depends for the test program are not required unless the tests flag is used.</p></li>
<li><p>LaTeX writer: insert <code>{}</code> between adjacent hyphens so they don’t form ligatures (dashes) in code spans.</p></li>
</ul>
<h1 id="pandoc-1.9.0.4-2012-02-06"><a href="#pandoc-1.9.0.4-2012-02-06">pandoc 1.9.0.4 (2012-02-06)</a></h1>
<ul>
<li><p>Raised version bound on test-framework to avoid problems compiling tests on GHC 7.4.1.</p></li>
<li><p>LaTeX reader: Use raw LaTeX as fallback inline text for Cites, so citations don’t just disappear unless you process with citeproc. Ignore <code>\bibliographystyle</code>, <code>\nocite</code>.</p></li>
<li><p>Simplified tex2pdf; it will always run latex twice to resolve table of contents and hyperrefs.</p></li>
</ul>
<h1 id="pandoc-1.9.0.3-2012-02-06"><a href="#pandoc-1.9.0.3-2012-02-06">pandoc 1.9.0.3 (2012-02-06)</a></h1>
<ul>
<li><p>Require Cabal &gt;= 1.10.</p></li>
<li><p>Tweaked cabal file to meet Cabal 1.10 requirements.</p></li>
</ul>
<h1 id="pandoc-1.9.0.2-2012-02-05"><a href="#pandoc-1.9.0.2-2012-02-05">pandoc 1.9.0.2 (2012-02-05)</a></h1>
<ul>
<li>Allow build with json 0.4 or 0.5. Otherwise we can’t build with ghc 6.12.</li>
</ul>
<h1 id="pandoc-1.9-2012-02-05"><a href="#pandoc-1.9-2012-02-05">pandoc 1.9 (2012-02-05)</a></h1>
<h2 id="new-features-1"><a href="#new-features-1">New features</a></h2>
<ul>
<li><p>Added a Microsoft Word <code>docx</code> writer. The writer includes support for highlighted code and for math (which is converted from TeX to OMML, Office’s native math markup language, using texmath’s new OMML module). A new option <code>--reference-docx</code> allows the user to customize the styles.</p></li>
<li><p>Added an <code>asciidoc</code> writer (<a href="http://www.methods.co.nz/asciidoc/">http://www.methods.co.nz/asciidoc/</a>).</p></li>
<li><p>Better support for slide shows:</p>
<ul>
<li><p>Added a <code>dzslides</code> writer. DZSlides is a lightweight HTML5/javascript slide show format due to Paul Rouget (<a href="http://paulrouget.com/dzslides/">http://paulrouget.com/dzslides/</a>).</p></li>
<li><p>Added a LaTeX <code>beamer</code> writer. Beamer is a LaTeX package for creating slide presentations.</p></li>
<li><p>New, flexible rules for dividing documents into sections and slides (see the “Structuring the slide show” in the User’s Guide). These are backward-compatible with the old rules, but they allow slide shows to be organized into sections and subsections containing multiple slides.</p></li>
<li><p>A new <code>--slide-level</code> option allows users to override defaults and select a slide level below the first header level with content.</p></li>
</ul></li>
<li><p>A new <code>--self-contained</code> option produces HTML output that does not depend on an internet connection or the presence of any external files. Linked images, CSS, and javascript is downloaded (or fetched locally) and encoded in <code>data:</code> URIs. This is useful for making portable <code>HTML slide shows. The --offline</code> option has been deprecated and is now <code>treated as a synonym or --self-contained</code>.</p></li>
<li><p>Support for PDF output:</p>
<ul>
<li>Removed the old <code>markdown2pdf</code>.</li>
<li><code>pandoc</code> can now create PDFs (assuming you have latex and a set of appropriate packages installed): just specify an output file with the <code>.pdf</code> extension.</li>
<li>A new option <code>--latex-engine</code> allows you to specify <code>pdflatex</code>, <code>xelatex</code>, or <code>lualatex</code> as the processor.</li>
</ul></li>
<li><p>Highlighting changes:</p>
<ul>
<li>Syntax highlighting is now a standard feature; the <code>highlighting</code> flag is no longer needed when compiling.</li>
<li>A new <code>--no-highlight</code> option allows highlighting to be disabled.</li>
<li>Highlighting now works in <code>docx</code>, <code>latex</code>, and <code>epub</code>, as well as <code>html</code>, <code>html5</code>, <code>dzslides</code>, <code>s5</code>, and <code>slidy</code>.</li>
<li>A new <code>--highlight-style</code> option selects between various highlighting color themes.</li>
</ul></li>
<li><p>Internal links to sections now work in ConTeXt and LaTeX as well as HTML.</p></li>
<li><p>LaTeX <code>\include</code> and <code>\usepackage</code> commands are now processed, provided the files are in the working directory.</p></li>
<li><p>EPUB improvements:</p>
<ul>
<li>Internal and external links now work in EPUB.</li>
<li>Raw HTML is allowed.</li>
<li>New <code>--epub-embed-font</code> option.</li>
<li>Customizable templates for EPUB pages offer more control over formatting: <code>epub-page.html</code>, <code>epub-coverimage.html</code>, <code>epub-titlepage.html</code>.</li>
</ul></li>
<li><p><code>--mathml</code> now works with DocBook.</p></li>
<li><p>Added support for math in RST reader and writer. Inline math uses the <code>:math:`...`</code> construct. Display math uses</p>
<pre><code>.. math:: ...</code></pre>
<p>or if the math is multiline,</p>
<pre><code>.. math::

   ...</code></pre>
<p>These constructions are now supported now by <code>rst2latex.py</code>.</p></li>
<li><p>Github syntax for fenced code blocks is supported in pandoc’s markdown. You can now write</p>
<pre><code>```ruby
x = 2
```</code></pre>
<p>instead of</p>
<pre><code>~~~ {.ruby}
x = 2
~~~~</code></pre></li>
<li><p>Easier scripting: a new <code>toJsonFilter</code> function makes it easier to write Haskell scripts to manipulate the Pandoc AST. See <a href="scripting.html#pandoc-1.9-changes">Scripting with pandoc</a>.</p></li>
</ul>
<h2 id="behavior-changes-1"><a href="#behavior-changes-1">Behavior changes</a></h2>
<ul>
<li><p>Fixed parsing of consecutive lists in markdown. Pandoc previously behaved like Markdown.pl for consecutive lists of different styles. Thus, the following would be parsed as a single ordered list, rather than an ordered list followed by an unordered list:</p>
<pre><code>1. one
2. two

- one
- two</code></pre>
<p>This change makes pandoc behave more sensibly, parsing this as two lists. Any change in list type (ordered/unordered) or in list number style will trigger a new list. Thus, the following will also be parsed as two lists:</p>
<pre><code>1. one
2. two

a. one
b. two</code></pre>
<p>Since we regard this as a bug in Markdown.pl, and not something anyone would ever rely on, we do not preserve the old behavior even when <code>--strict</code> is selected.</p></li>
<li><p>Dashes work differently with <code>--smart</code>: <code>---</code> is always em-dash, and <code>--</code> is always en-dash. Pandoc no longer tries to guess when <code>-</code> should be en-dash. <em>Note:</em> This may change how existing documents look when processed with pandoc. A new option, <code>--old-dashes</code>, is provided for legacy documents.</p></li>
<li><p>The markdown writer now uses setext headers for levels 1-2. The old behavior (ATX headers for all levels) can be restored using the new <code>--atx-headers</code> option.</p></li>
<li><p>Links are now allowed in markdown image captions. They are also allowed in links, but will appear there as regular text. So,</p>
<pre><code>[link with [link](/url)](/url)</code></pre>
<p>will turn into</p>
<pre><code>&lt;p&gt;&lt;a href=&quot;/url&quot;&gt;link with link&lt;/a&gt;&lt;/p&gt;</code></pre></li>
<li><p>Improved handling of citations using <code>citeproc-hs-0.3.4</code>. Added <code>--citation-abbreviations</code> option.</p></li>
<li><p>Citation keys can no longer end with a punctuation character. This means that <code>@item1.</code> will be parsed as a citation with key ‘item1’, followed by a period, instead of a citation with key ‘item1.’, as was the case previously.</p></li>
<li><p>In HTML output, citations are now put in a span with class <code>citation</code>.</p></li>
<li><p>The markdown reader now recognizes DocBook block and inline tags. It was always possible to include raw DocBook tags in a markdown document, but now pandoc will be able to distinguish block from inline tags and behave accordingly. Thus, for example,</p>
<pre><code>&lt;sidebar&gt;
hello
&lt;/sidebar&gt;</code></pre>
<p>will not be wrapped in <code>&lt;para&gt;</code> tags.</p></li>
<li><p>The LaTeX parser has been completely rewritten; it is now much more accurate, robust, and extensible. However, there are two important changes in how it treats unknown LaTeX. (1) Previously, unknown environments became BlockQuote elements; now, they are treated as “transparent”, so <code>\begin{unknown}xyz\end{unknown}</code> is the same as <code>xyz</code>. (2) Previously, arguments of unknown commands were passed through with their braces; now the braces are stripped off.</p></li>
<li><p><code>--smart</code> is no longer selected automatically with <code>man</code> output.</p></li>
<li><p>The deprecated <code>--xetex</code> option has been removed.</p></li>
<li><p>The <code>--html5</code>/<code>-5</code> option has been deprecated. Use <code>-t html5</code> instead. <code>html5</code> and <code>html5+lhs</code> are now separate output formats.</p></li>
<li><p>Single quotes are no longer escaped in HTML output. They do not need to be escaped outside of attributes.</p></li>
<li><p>Pandoc will no longer transform leading newlines in code blocks to <code>&lt;br/&gt;</code> tags.</p></li>
<li><p>The ODT writer now sizes images appropriately, using the image size and DPI information embedded in the image.</p></li>
<li><p><code>--standalone</code> is once again implicitly for a non-text output format (ODT, EPUB). You can again do <code>pandoc test.txt -o test.odt</code> and get a standalone ODT file.</p></li>
<li><p>The Docbook writer now uses <code>&lt;sect1&gt;</code>, <code>&lt;sect2&gt;</code>, etc. instead of <code>&lt;section&gt;</code>.</p></li>
<li><p>The HTML writer now uses <code>&lt;del&gt;</code> for strikeout.</p></li>
<li><p>In HTML output with <code>--section-divs</code>, the classes <code>section</code> and <code>level[1,2,..6]</code> are put on the <code>div</code> tags so they can be styled. In HTML 5 output with <code>--section-divs</code>, the classes <code>level[1,2,...6]</code> are put on <code>section</code> tags.</p></li>
<li><p>EPUB writer changes:</p>
<ul>
<li>The <code>lang</code> variable now sets the language in the metadata (if it is not set, we default to the locale).</li>
<li>EPUB: UTF-8 is used rather than decimal entities.</li>
</ul></li>
<li><p>Added <code>titleslide</code> class to title slide in S5 template.</p></li>
<li><p>In HTML, EPUB, and docx metadata, the date is normalized into YYYY-MM-DD format if possible. (This is required for validation.)</p></li>
<li><p>Attributes in highlighted code blocks are now preserved in HTML. The container element will have the classes, id, and key-value attributes you specified in the delimited code block. Previously these were stripped off.</p></li>
<li><p>The reference backlink in the HTML writer no longer has a special <code>footnoteBacklink</code> class.</p></li>
<li><p>The HTML template has been split into <code>html</code> and <code>html5</code> templates.</p></li>
<li><p>Author and date are treated more consistently in HTML templates. Authors are now <code>&lt;h2&gt;</code>, date <code>&lt;h3&gt;</code>.</p></li>
<li><p>URLs are hyphenated in the ConTeXt writer (B. Scott Michel).</p></li>
<li><p>In <code>Text.Pandoc.Builder</code>, <code>+++</code> has been replaced by <code>&lt;&gt;</code>.</p></li>
</ul>
<h2 id="bug-fixes-1"><a href="#bug-fixes-1">Bug fixes</a></h2>
<ul>
<li><p>Better support for combining characters and East Asian wide characters in markdown and reST.</p></li>
<li><p>Better handling of single quotes with <code>--smart</code>. Previously <code>D'oh l'*aide*</code> would be parsed with left and right single quotes instead of apostrophes. This kind of error is now fixed.</p></li>
<li><p>Highlighting: Use <code>reads</code> instead of <code>read</code> for better error handling. Fixes crash on <code>startNum=&quot;abc&quot;</code>.</p></li>
<li><p>Added blank comment after directives in rst template.</p></li>
<li><p>Unescape entities in citation <code>refId</code>. The <code>refId</code>s coming from citeproc contain XML numeric entities, and these don’t match with the citation keys parsed by pandoc. Solution is to unescape them.</p></li>
<li><p>HTML reader: Fixed bug parsing tables with both thead and tbody.</p></li>
<li><p>Markdown reader:</p>
<ul>
<li>Better handling of escapes in link URLs and titles.</li>
<li>Fixed backslash escapes in reference links.</li>
<li>Fixed bug in table/hrule parsing, by checking that the top line of a table is not followed by a blank line. This bug caused slowdowns on some files with hrules and tables, as pandoc tried to interpret the hrules as the tops of multiline tables.</li>
<li>Fixed bug in code block attribute parser. Previously the ID attribute got lost if it didn’t come first. Now attributes can come in any order.</li>
</ul></li>
<li><p>RST reader: allow footnotes followed by newline without space characters.</p></li>
<li><p>LaTeX reader:</p>
<ul>
<li>Ignore empty groups {}, { }.</li>
<li>LaTeX reader: Handle <code>\@</code>.</li>
<li>LaTeX reader: Don’t crash on commands like <code>\itemsep</code>.</li>
<li>LaTeX reader: Better handling of letter environments.</li>
</ul></li>
<li><p>RST writer: Fixed bug involving empty table cells. isSimple was being calculated in a way that assumed there were no non-empty cells.</p></li>
<li><p>ConTeXt writer:</p>
<ul>
<li>Made <code>--toc</code> work even without <code>--number-sections</code>.</li>
<li>Escape # in link URLs.</li>
<li>Use buffering for footnotes containing code blocks.</li>
<li>Changed ‘descr’ to ‘description’, fixed alignment.</li>
</ul></li>
<li><p>LaTeX writer:</p>
<ul>
<li>Escape euro character.</li>
<li>Don’t escape <code>~</code> inside <code>\href{...}</code>.</li>
<li>Escape <code>#</code> in href URLs.</li>
<li>Improved detection of book classes. We now check the <code>documentclass</code> variable, and if that is not set, we look through the template itself. Also, we have added the KOMA classes scrreprt and scrbook. You can now make a book using <code>pandoc -V documentclass:book mybook.txt -o mybook.pdf</code></li>
<li>LHS files now set the “listings” variable, so that the definition of the <code>code</code> environment will be included in the template.</li>
<li>Links are colored blue by default (this can be changed by modifying <code>hyperref</code> settings in the template).</li>
<li>Added <code>lang</code> variable to LaTeX template.</li>
</ul></li>
<li><p>HTML writer:</p>
<ul>
<li>Fixed bug in HTML template with html5 and mathml.</li>
<li>Don’t use self-closing img, br, hr tags for HTML5.</li>
<li>Use <code>&lt;section&gt;</code> for footnotes if HTML5.</li>
<li>Update HTML templates to use Content-Style-Type meta tag.</li>
<li>Use separate variables for meta-date, meta-author. This makes footnotes work in author and date fields.</li>
<li>Use ‘vertical-align:middle’ in WebTeX math for better alignment.</li>
</ul></li>
<li><p>S5/slidy writer: Make footnotes appear on separate slide at end.</p></li>
<li><p>MIME: Added ‘layout-cache’ to getMimeType. This ensures that the META-INF/manifest.xml for ODT files will have everything it needs, so that ODT files modified by LibreOffice can be used as <code>--reference-odt</code>.</p></li>
<li><p><code>Text.Pandoc.Templates</code>: Return empty string for json template.</p></li>
<li><p><code>Text.Pandoc.Biblio</code>:</p>
<ul>
<li>Expand citations recursively inside nested inlines.</li>
<li>Treat <code>\160</code> as space when parsing locator and suffix. This fixes a bug with “p. 33” when <code>--smart</code> is used. Previously the whole “p. 33” would be included in the suffix, with no locator.</li>
<li>Put whole author-in-text citation in a Cite. Previously just the date and other info went in the Cite.</li>
<li>Don’t add comma+space to prefix if it ends in punctuation.</li>
</ul></li>
<li><p>Updated chicago-author-date.csl. The old version did not work properly for edited volumes with no author.</p></li>
<li><p>EPUB writer:</p>
<ul>
<li>Add date to EPUB titlepage and metadata.</li>
<li>Added TOC identifier in EPUB page template.</li>
<li>Don’t generate superfluous file <code>cover-image.jpg</code>.</li>
</ul></li>
</ul>
<h2 id="under-the-hood-improvements-1"><a href="#under-the-hood-improvements-1">Under the hood improvements</a></h2>
<ul>
<li><p>Modified <code>make_osx_package.sh</code> to use cabal-dev. Items are no longer installed as root. Man pages are zipped and given proper permissions.</p></li>
<li><p>Modified windows installer generater to use cabal-dev.</p></li>
<li><p>Setup: Making man pages now works with cabal-dev (at least on OSX). In Setup.hs we now invoke ‘runghc’ in a way that points it to the correct package databases, instead of always falling back to the default user package db.</p></li>
<li><p>Updated to work with GHC 7.4.1.</p></li>
<li><p>Removed dependency on old-time.</p></li>
<li><p>Removed dependency on dlist.</p></li>
<li><p>New slidy directory for “self-contained.”</p></li>
<li><p>TeXMath writer: Use unicode thin spaces for thin spaces.</p></li>
<li><p>Markdown citations: don’t strip off initial space in locator.</p></li>
</ul>
<h2 id="api-changes-1"><a href="#api-changes-1">API changes</a></h2>
<ul>
<li><p>Removed <code>Apostrophe</code>, <code>EmDash</code>, <code>EnDash</code>, and <code>Ellipses</code> from the native <code>Inline</code> type in pandoc-types. Now we use <code>Str</code> elements with unicode.</p></li>
<li><p>Improvements to <code>Text.Pandoc.Builder</code>:</p>
<ul>
<li><code>Inlines</code> and <code>Blocks</code> are now newtypes (not synonyms for sequences).</li>
<li>Instances are defined for <code>IsString</code>, <code>Show</code>, <code>Read</code>, <code>Monoid</code>, and a new <code>Listable</code> class, which allows these to be manipulated to some extent like lists. Monoid append includes automatic normalization.</li>
<li><code>+++</code> has been replaced by <code>&lt;&gt;</code> (mappend).</li>
</ul></li>
<li><p>Use blaze-html instead of xhtml for HTML generation. This changes the type of <code>writeHtml</code>.</p></li>
<li><p><code>Text.Pandoc.Shared</code>:</p>
<ul>
<li>Added <code>warn</code> and <code>err</code>.</li>
<li>Removed <code>unescapeURI</code>, modified <code>escapeURI</code>. (See under [behavior changes], above.)</li>
</ul></li>
<li><p>Changes in URI escaping: Previously the readers escaped URIs by converting unicode characters to octets and then percent encoding. Now unicode characters are left as they are, and <code>escapeURI</code> only percent-encodes space characters. This gives more readable URIs, and works well with modern user agents. URIs are no longer unescaped at all on conversion to <code>markdown</code>, <code>asciidoc</code>, <code>rst</code>, <code>org</code>.</p></li>
<li><p>New module <code>Text.Pandoc.SelfContained</code>.</p></li>
<li><p>New module <code>Text.Pandoc.Docx</code>.</p></li>
<li><p>New module <code>Text.Pandoc.PDF</code>.</p></li>
<li><p>Added <code>writerBeamer</code> to <code>WriterOptions</code>.</p></li>
<li><p>Added <code>normalizeDate</code> to <code>Text.Pandoc.Shared</code>.</p></li>
<li><p>Added <code>splitStringWithIndices</code> in <code>Text.Pandoc.Shared</code>. This is like <code>splitWithIndices</code>, but it is sensitive to distinctions between wide, combining, and regular characters.</p></li>
<li><p><code>Text.Pandoc.Pretty</code>:</p>
<ul>
<li>Added <code>chomp</code> combinator.</li>
<li>Added <code>beforeNonBreak</code> combinator. This allows you to include something conditionally on it being before a nonblank. Used for RST inline math.</li>
<li>Added <code>charWidth</code> function. All characters marked W or F in the unicode spec EastAsianWidth.txt get width 2.</li>
<li>Added <code>realLength</code>, based on <code>charWidth</code>. <code>realLength</code> is now used in calculating offsets.</li>
</ul></li>
<li><p>New module <code>Text.Pandoc.Slides</code>, for common functions for breaking a document into slides.</p></li>
<li><p>Removed <code>Text.Pandoc.S5</code>, which is no longer needed.</p></li>
<li><p>Removed <code>Text.Pandoc.CharacterReferences</code>. Moved <code>characterReference</code> to <code>Text.Pandoc.Parsing</code>. <code>decodeCharacterReferences</code> is replaced by <code>fromEntities</code> in <code>Text.Pandoc.XML</code>.</p></li>
<li><p>Added <code>Text.Pandoc.ImageSize</code>. This is intened for use in <code>docx</code> and <code>odt</code> writers, so the size and dpi of images can be calculated.</p></li>
<li><p>Removed <code>writerAscii</code> in <code>WriterOptions</code>.</p></li>
<li><p>Added <code>writerHighlight</code> to <code>WriterOptions</code>.</p></li>
<li><p>Added <code>DZSlides</code> to <code>HTMLSlideVariant</code>.</p></li>
<li><p><code>writeEPUB</code> has a new argument for font files to embed.</p></li>
<li><p>Added <code>stateLastStrPos</code> to <code>ParserState</code>. This lets us keep track of whether we’re parsing the position immediately after a regular (non-space, non-symbol) string, which is useful for distinguishing apostrophes from single quote starts.</p></li>
<li><p><code>Text.Pandoc.Parsing</code>:</p>
<ul>
<li><code>escaped</code> now returns a <code>Char</code>.</li>
<li>Removed <code>charsInBalanced'</code>, added a character parser as a parameter of <code>charsInBalanced</code>. This is needed for proper handling of escapes, etc.</li>
<li>Added <code>withRaw</code>.</li>
</ul></li>
<li><p>Added <code>toEntities</code> to <code>Text.Pandoc.XML</code>.</p></li>
<li><p><code>Text.Pandoc.Readers.LaTeX</code>:</p>
<ul>
<li>Export <code>handleIncludes</code>.</li>
<li>Export <code>rawLaTeXBlock</code> instead of <code>rawLaTeXEnvironment'</code>.</li>
</ul></li>
<li><p>Added <code>ToJsonFilter</code> class and <code>toJsonFilter</code> function to <code>Text.Pandoc</code>, deprecating the old <code>jsonFilter</code> function.</p></li>
<li><p><code>Text.Pandoc.Highlighting</code>:</p>
<ul>
<li>Removed <code>highlightHtml</code>, <code>defaultHighlightingCss</code>.</li>
<li>Export <code>formatLaTeXInline</code>, <code>formatLaTeXBlock</code>, and <code>highlight</code>, plus key functions from highlighting-kate.</li>
<li>Changed types of highlighting function. <code>highlight</code> returns a <code>Maybe</code>, not an <code>Either</code>.</li>
</ul></li>
</ul>
<h1 id="pandoc-1.8.2.1-2011-08-01"><a href="#pandoc-1.8.2.1-2011-08-01">pandoc 1.8.2.1 (2011-08-01)</a></h1>
<ul>
<li><p>Adjusted Arbitrary instance to help avoid timeouts in tests.</p></li>
<li><p>Added <code>Tests.Writers.Markdown</code> to cabal file.</p></li>
<li><p>Relaxed version bounds on pandoc-types, test-framework.</p></li>
</ul>
<h1 id="pandoc-1.8.2-2011-07-30"><a href="#pandoc-1.8.2-2011-07-30">pandoc 1.8.2 (2011-07-30)</a></h1>
<ul>
<li><p>Added script to produce OS X package.</p></li>
<li><p>Made <code>templates</code> directory a git submodule. This should make it easier for people to revise their custom templates when the default templates change.</p></li>
<li><p>Changed template naming scheme: <code>FORMAT.template</code> -&gt; <code>default.FORMAT</code>. <strong>Note:</strong> If you have existing templates in <code>~/.pandoc/templates</code>, you must rename them to conform to the new scheme!</p></li>
<li><p>Default template improvements:</p>
<ul>
<li>HTML: Display author and date after title.</li>
<li>HTML: Made table of contents more customizable. The container for the TOC is now in the template, so users can insert a header or other styling. (Thanks to Bruce D’Arcus for the suggestion.)</li>
<li>HTML, Slidy, S5: Enclose scripts in CDATA tags.</li>
<li>Slidy, S5: Added <code>s5-url</code> and <code>slidy-url</code> variables, instead of hard-coding. If you want to put your slidy files in the slidy subdirectory, for example, you can do <code>pandoc -t slidy -V slidy-url=slidy -s</code>.</li>
<li>LaTeX: Use <code>\and</code> to separate authors in LaTeX documents (reader &amp; writer). Closes #279.</li>
<li>LaTeX: Set <code>\emergencystretch</code> to prevent overfull lines.</li>
<li>LaTeX: Use different <code>hyperref</code> options for <code>xetex</code>, fixing problems with unicode bookmarks (thanks to CircleCode).</li>
<li>LaTeX: Removed <code>ucs</code> package, use <code>utf8</code> rather than <code>utf8x</code> with <code>inputenc</code>. This covers fewer characters but is more robust with other packages, and <code>ucs</code> is unmaintained. Users who need better unicode support should use xelatex or lualatex.</li>
</ul></li>
<li><p>If a template specified with <code>--template</code> is not found, look for it in <code>datadir</code>. Also, if no extension is provided, supply one based on the writer. So now you can put your <code>special.latex</code> template in <code>~/.pandoc/templates</code>, and use it from any directory via <code>pandoc -t latex --template special</code>.</p></li>
<li><p>Added <code>nonspaceChar</code> to <code>Text.Pandoc.Parsing</code>.</p></li>
<li><p>Fixed smart quotes bug, now handling <code>'...hi'</code> properly.</p></li>
<li><p>RST reader:</p>
<ul>
<li>Partial support for labeled footnotes.</li>
<li>Improved accuracy of <code>simpleReferenceName</code> parser.</li>
</ul></li>
<li><p>HTML reader:</p>
<ul>
<li>Substitute correct unicode characters for characters in the 128..159 range, which are often found even in HTML that purports to be UTF-8.</li>
</ul></li>
<li><p>LaTeX reader: Handle <code>\subtitle</code> command (a subtitle is added to the title, after a colon and linebreak). Closes #280.</p></li>
<li><p>Leaner <code>reference.odt</code>.</p></li>
<li><p>Added unexported module <code>Text.Pandoc.MIME</code> for use in the ODT writer.</p></li>
<li><p>ODT writer: Construct <code>manifest.xml</code> based on archive contents. This fixes a bug in ODTs containing images. Recent versions of LibreOffice would reject these as corrupt, because <code>manifest.xml</code> did not contain a reference to the image files.</p></li>
<li><p>LaTeX writer:</p>
<ul>
<li>Make verbatim environments flush to avoid spurious blank lines. Closes #277.</li>
<li>Use <code>\texttt</code> and escapes insntead of <code>\verb!...!</code>, which is too fragile (doesn’t work in command arguments).</li>
<li>Use <code>\enquote{}</code> for quotes if the template includes the <code>csquotes</code> package. This provides better support for local quoting styles. (Thanks to Andreas Wagner for the idea.)</li>
</ul></li>
<li><p>ConTeXt writer: Make <code>\starttyping</code>/<code>\stoptyping</code> flush with margin, preventing spurious blank lines.</p></li>
<li><p>Slidy writer:</p>
<ul>
<li>Use non-minimized version of <code>slidy.css</code> with <code>--offline</code> option, so users can more easily edit it.</li>
<li>Also fixed a bug in the CSS that prevented proper centering of title (now reported and fixed upstream).</li>
</ul></li>
<li><p>S5 writer:</p>
<ul>
<li>Replaced <code>s5/default/slides.js.{comment,packed}</code> with new compressed <code>s5/default/slides.min.js</code>.</li>
<li>Use <code>data:</code> protocol to embed S5 CSS in <code>&lt;link&gt;</code> tags, when <code>--offline</code> is specified. Using inline CSS didn’t work with Chrome or Safari. This fixes offline S5 on those browsers.</li>
</ul></li>
<li><p>HTML writer: Removed English title on footnote backlinks. This is incongrous in non-English documents.</p></li>
<li><p>Docbook writer:</p>
<ul>
<li>Use CALS tables. (Some older docbook software does not work well with XHTML tables.) Closes #77.</li>
<li>Use <code>programlisting</code> tags (instead of <code>screen</code>) for code blocks.</li>
</ul></li>
<li><p><code>markdown2pdf</code>:</p>
<ul>
<li>Calls latex with <code>-halt-on-error -interaction nonstopmode</code> instead of <code>-interaction=batchmode</code>, which essentially just ignored errors, leading to bad results. Better to know when something is wrong.</li>
<li>Fixed issues with non-UTF-8 output of <code>pdflatex</code>.</li>
<li>Better error reporting.</li>
</ul></li>
<li><p><code>--mathjax</code> now takes an optional URL argument. If it is not provided, pandoc links directly to the (secure) mathjax CDN, as now recommended (thanks to dsanson).</p></li>
<li><p>Deprecated <code>--xetex</code> option in <code>pandoc</code>. It is no longer needed, since the LaTeX writer now produces a file that can be processed by <code>latex</code>, <code>pdflatex</code>, <code>lualatex</code>, or <code>xelatex</code>.</p></li>
<li><p>Introduced <code>--luatex</code> option to <code>markdown2pdf</code>. This causes <code>lualatex</code> to be used to create the PDF.</p></li>
</ul>
<h1 id="pandoc-1.8.1.2-2011-07-16"><a href="#pandoc-1.8.1.2-2011-07-16">pandoc 1.8.1.2 (2011-07-16)</a></h1>
<ul>
<li><p>Added <code>--epub-cover-image</code> option.</p></li>
<li><p>Documented <code>--biblatex</code> and <code>--natbib</code> options.</p></li>
<li><p>Allow <code>--section-divs</code> with slidy output. Resolves Issue #296.</p></li>
<li><p>Disallow notes within notes in reST and markdown. These previously caused infinite looping and stack overflows. For example:</p>
<pre><code>[^1]

[^1]: See [^1]</code></pre>
<p>Note references are allowed in reST notes, so this isn’t a full implementation of reST. That can come later. For now we need to prevent the stack overflows. Partially resolves Issue #297.</p></li>
<li><p>EPUB writer: Allow non-plain math methods.</p></li>
<li><p>Forbid ()s in citation item keys. Resolves Issue #304: problems with <code>(@item1; @item2)</code> because the final paren was being parsed as part of the item key.</p></li>
<li><p>Changed URI parser so it doesn’t include trailing punctuation. So, in RST, <code>http://google.com.</code> should be parsed as a link followed by a period. The parser is smart enough to recognize balanced parentheses, as often occur in wikipedia links: <code>http://foo.bar/baz_(bam)</code>.</p></li>
<li><p>Markdown+lhs reader: Require space after inverse bird tracks, so that HTML tags can be used freely at the left margin of a markdown+lhs document. Thanks to Conal Elliot for the suggestion.</p></li>
<li><p>Markdown reader: Fixed bug in footnote order (reported by CircleCode).</p></li>
<li>RST reader:
<ul>
<li>Fixed bug in in field lists with multi-line items at the end of the list.</li>
<li>Added parentheses to RST <code>specialChars</code>, so <code>(http://google.com)</code> will be parsed as a link in parens. Resolves Issue #291.</li>
<li>Allow <code>|</code> followed by newline in RST line block.</li>
</ul></li>
<li>LaTeX reader:
<ul>
<li>Support <code>\dots</code>.</li>
<li>Gobble option &amp; space after linebreak <code>\\[10pt]</code>.</li>
</ul></li>
<li>Textile reader:
<ul>
<li>Make it possible to have colons after links. (qerub)</li>
<li>Make it possible to have colons after links. (Christoffer Sawicki)</li>
</ul></li>
<li>HTML reader:
<ul>
<li>Skip spaces after <code>&lt;b&gt;</code>, <code>&lt;emph&gt;</code>, etc.</li>
<li>Handle tbody, thead in simple tables. Closes #274.</li>
<li>Implicit <code>Para</code>s instead of <code>Plains</code> in some contexts.</li>
</ul></li>
<li><p>OpenDocument writer: Use special <code>First paragraph</code> style for first paragraph after most non-paragraph blocks. This allows users to specify e.g. that only paragraphs after the first paragraph of a block are to be indented. Thanks to Andrea Rossato for the patch. Closes #20.</p></li>
<li><p>LaTeX writer: use <code>deVerb</code> on table and picture captions. Otherwise LaTeX complains about <code>\verb</code> inside command argument. Thanks to bbanier for reporting the bug.</p></li>
<li><p>Markdown writer: Insert HTML comment btw list and indented code block. This prevents the code block from being interpreted as part of the list.</p></li>
<li><p>EPUB writer: Add a meta element specify the cover. Some EPUB e-readers, such as the Nook, require a meta element inside the OPF metadata block to ensure the cover image is properly displayed. (Kelsey Hightower)</p></li>
<li><p>HTML writer: Use embed tag for images with non-image extensions. (e.g. PDFs). Closes #264.</p></li>
<li><p>LaTeX writer: Improved tables.</p>
<ul>
<li>More space between lines, top-align cells.</li>
<li>Use ctable package, which allows footnotes and provides additional options.</li>
<li>Made cell alignments work in multiline tables.</li>
<li>Closes #271, #272.</li>
</ul></li>
<li><p>Un-URI-escape image filenames in LaTeX, ConTeXt, RTF, Texinfo. Also do this when copying image files into EPUBs and ODTs. Closes #263.</p></li>
<li><p>Changed to github issue tracker.</p></li>
<li><p>Added failing emph/strong markdown test case due to Perry Wagle.</p></li>
<li>Slidy improvements:
<ul>
<li>Updated to use Slidy2.</li>
<li>Fixed bug, unclosed div tag.</li>
<li>Added <code>duration</code> variable in template. Setting this activates the timer.</li>
<li>Use ‘titlepage’ instead of ‘cover’ for title div.</li>
</ul></li>
</ul>
<h1 id="pandoc-1.8.1.1-2011-02-13"><a href="#pandoc-1.8.1.1-2011-02-13">pandoc 1.8.1.1 (2011-02-13)</a></h1>
<ul>
<li><code>markdown2pdf</code>: Removed some debugging lines accidentally included in the 1.8.1 release. With those lines, the temp directory is created in the working directory, and it is not deleted. This fix restores the original behavior.</li>
</ul>
<h1 id="pandoc-1.8.1-2011-02-13"><a href="#pandoc-1.8.1-2011-02-13">pandoc 1.8.1 (2011-02-13)</a></h1>
<ul>
<li><p>Added <code>--ascii</code> option. Currently supported only in HTML writer, which it causes to use numerical entities instead of UTF-8.</p></li>
<li><p>EPUB writer: <code>--toc</code> now works to provide a table of contents at the beginning of each chapter.</p></li>
<li><p>LaTeX writer: Change figure defaults to <code>htbp</code>. This prevents “too many unprocessed floats.” Resolves Issue #285.</p></li>
<li><p><code>Text.Pandoc.UTF8</code>: Encode filenames even when using recent base.</p></li>
<li><p><code>markdown2pdf</code>: Fixed filename encoding issues. With help from Paulo Tanimoto. Resolves Issue #286.</p></li>
<li><p>HTML writer: Put line breaks in section divs.</p></li>
<li><p><code>Text.Pandoc.Shared</code>: Make <code>writerSectionDivs</code> default to False.</p></li>
</ul>
<h1 id="pandoc-1.8.0.3-2011-02-05"><a href="#pandoc-1.8.0.3-2011-02-05">pandoc 1.8.0.3 (2011-02-05)</a></h1>
<ul>
<li>Fixed Source-repository stanza in cabal file.</li>
</ul>
<h1 id="pandoc-1.8.0.2-2011-02-05"><a href="#pandoc-1.8.0.2-2011-02-05">pandoc 1.8.0.2 (2011-02-05)</a></h1>
<ul>
<li><p>HTML writer:</p>
<ul>
<li>Stringify alt text instead of converting to HTML.</li>
<li>Break lines after block elements, not inside tags. HTML output now closely resembles that of tidy. Resolves Issue #134.</li>
</ul></li>
<li><p>Markdown reader: Fixed bug in footnote block parser (pointed out by Jesse Rosenthal). The problem arose when the blank line at the end of a footnote block contained indenting spaces.</p></li>
<li><p>Shared: Improved ‘normalize’ function so it normalizes Spaces too. In normal form, Space elements only occur to separate two non-Space elements. So, we never have [Space], or [, …, Space].</p></li>
<li><p>Tests:</p>
<ul>
<li>Improved Arbitrary instance.</li>
<li>Added timeout for test instances.</li>
</ul></li>
<li><p>README:</p>
<ul>
<li>Added section on four-space rule for lists. Resolves Issue #283.</li>
<li>Clarified optional arguments on math options.</li>
</ul></li>
<li><p>markdown2pdf: Fixed bug with output file extensions. Previously <code>markdown2pdf test.txt -o test.en.pdf</code> would produce <code>test.pdf</code>, not <code>test.en.pdf</code>. Thanks to Paolo Tanimoto for the fix.</p></li>
</ul>
<h1 id="pandoc-1.8.0.1-2001-01-31"><a href="#pandoc-1.8.0.1-2001-01-31">pandoc 1.8.0.1 (2001-01-31)</a></h1>
<ul>
<li><p>Revised Interact.hs so that it works with the CPP macros in the UTF8 module.</p></li>
<li><p>Revised Setup.hs so that we don’t call MakeManPage.hs unless the man pages are out of date.</p></li>
</ul>
<h1 id="pandoc-1.8-2011-01-30"><a href="#pandoc-1.8-2011-01-30">pandoc 1.8 (2011-01-30)</a></h1>
<h2 id="new-features-2"><a href="#new-features-2">New features</a></h2>
<ul>
<li><p>Support for citations using Andrea Rossato’s <code>citeproc-hs</code> 0.3. You can now write, for example,</p>
<pre><code>Water is wet [see @doe99, pp. 33-35; also @smith04, ch. 1].</code></pre>
<p>and, when you process your document using <code>pandoc</code>, specifying a citation style using <code>--csl</code> and a bibliography using <code>--bibliography</code>, the citation will be replaced by an appropriately formatted citation, and a list of works cited will be added to the end of the document.</p>
<p>This means that you can switch effortlessly between different citation and bibliography styles, including footnote, numerical, and author-date formats. The bibliography can be in any of the following formats: MODS, BibTeX, BibLaTeX, RIS, EndNote, EndNote XML, ISI, MEDLINE, Copac, or JSON. See the README for further details.</p>
<p>Citations are supported in the markdown reader, using a special syntax, and in the LaTeX reader, using natbib or biblatex syntax. (Thanks to Nathan Gass for the natbib and biblatex support.)</p></li>
<li><p>New <code>textile</code> reader and writer. Thanks to Paul Rivier for contributing the <code>textile</code> reader, an almost complete implementation of the textile syntax used by the ruby <a href="http://redcloth.org/textile">RedCloth library</a>. Resolves Issue #51.</p></li>
<li><p>New <code>org</code> writer, for Emacs Org-mode, contributed by Puneeth Chaganti.</p></li>
<li><p>New <code>json</code> reader and writer, for reading and writing a JSON representation of the native Pandoc AST. These are much faster than the <code>native</code> reader and writer, and should be used for serializing Pandoc to text. To convert between the JSON representation and native Pandoc, use <code>encodeJSON</code> and <code>decodeJSON</code> from <code>Text.JSON.Generic</code>.</p></li>
<li><p>A new <code>jsonFilter</code> function in <code>Text.Pandoc</code> makes it easy to write scripts that transform a JSON-encoded pandoc document. For example:</p>
<pre><code>-- removelinks.hs - removes links from document
import Text.Pandoc
main = interact $ jsonFilter $ bottomUp removeLink
         where removeLink (Link xs _) = Emph xs
               removeLink x = x</code></pre>
<p>To use this to remove links while translating markdown to LaTeX:</p>
<pre><code>pandoc -t json | runghc removelinks.hs | pandoc -f json -t latex</code></pre></li>
<li><p>Attributes are now allowed in inline <code>Code</code> elements, for example:</p>
<pre><code>In this code, `ulist ! [theclass &quot;special&quot;] &lt;&lt; elts`{.haskell} is...</code></pre>
<p>The attribute syntax is the same as for delimited code blocks. <code>Code</code> inline has an extra argument place for attributes, just like <code>CodeBlock</code>. Inline code will be highlighted in HTML output, if pandoc is compiled with highlighting support. Resolves Issue #119.</p></li>
<li><p>New <code>RawBlock</code> and <code>RawInline</code> elements (replacing <code>RawHtml</code>, <code>HtmlInline</code>, and <code>TeX</code>) provide lots of flexibility in writing scripts to transform Pandoc documents. Scripts can now change how each element is rendered in each output format.</p></li>
<li><p>You can now define LaTeX macros in markdown documents, and pandoc will apply them to TeX math. For example,</p>
<pre><code>\newcommand{\plus}[2]{#1 + #2}
$\plus{3}{4}$</code></pre>
<p>yields <code>3+4</code>. Since the macros are applied in the reader, they will work in every output format, not just LaTeX.</p></li>
<li><p>LaTeX macros can also be used in LaTeX documents (both in math and in non-math contexts).</p></li>
<li><p>A new <code>--mathjax</code> option has been added for displaying math in HTML using MathJax. Resolves issue #259.</p></li>
<li><p>Footnotes are now supported in the RST reader. (Note, however, that unlike docutils, pandoc ignores the numeral or symbol used in the note; footnotes are put in an auto-numbered ordered list.) Resolves Issue #258.</p></li>
<li><p>A new <code>--normalize</code> option causes pandoc to normalize the AST before writing the document. This means that, for example, <code>*hi**there*</code> will be rendered as <code>&lt;em&gt;hithere&lt;/em&gt;</code> instead of <code>&lt;em&gt;hi&lt;/em&gt;&lt;em&gt;there&lt;/em&gt;</code>. This is not the default, because there is a significant performance penalty.</p></li>
<li><p>A new <code>--chapters</code> command-line option causes headers in DocBook, LaTeX, and ConTeXt to start with “chapter” (level one). Resolves Issue #265.</p></li>
<li><p>In DocBook output, <code>&lt;chapter&gt;</code> is now used for top-level headers if the template contains <code>&lt;book&gt;</code>. Resolves Issue #265.</p></li>
<li><p>A new <code>--listings</code> option in <code>pandoc</code> and <code>markdown2pdf</code> causes the LaTeX writer to use the listings package for code blocks. (Thanks to Josef Svennigsson for the pandoc patch, and Etienne Millon for the markdown2pdf patch.)</p></li>
<li><p><code>markdown2pdf</code> now supports <code>--data-dir</code>.</p></li>
<li><p>URLs in autolinks now have class “url” so they can be styled.</p></li>
<li><p>Improved prettyprinting in most formats. Lines will be wrapped more evenly and duplicate blank lines avoided.</p></li>
<li><p>New <code>--columns</code> command-line option sets the column width for line wrapping and relative width calculations for tables.</p></li>
<li><p>Made <code>--smart</code> work in HTML, RST, and Textile readers, as well as markdown.</p></li>
<li><p>Added <code>--html5</code> option for HTML5 output.</p></li>
<li><p>Added support for listings package in LaTeX reader (Puneeth Chaganti).</p></li>
<li><p>Added support for simple tables in the LaTeX reader.</p></li>
<li><p>Added support for simple tables in the HTML reader.</p></li>
<li><p>Significant performance improvements in many readers and writers.</p></li>
</ul>
<h2 id="api-and-program-changes"><a href="#api-and-program-changes">API and program changes</a></h2>
<ul>
<li><p>Moved <code>Text.Pandoc.Definition</code> from the <code>pandoc</code> package to a new auxiliary package, <code>pandoc-types</code>. This will make it possible for other programs to supply output in Pandoc format, without depending on the whole pandoc package.</p></li>
<li><p>Added <code>Attr</code> field to <code>Code</code>.</p></li>
<li><p>Removed <code>RawHtml</code>, <code>HtmlInline</code>, and <code>TeX</code> elements; added generic <code>RawBlock</code> and <code>RawInline</code>.</p></li>
<li><p>Moved generic functions to <code>Text.Pandoc.Generic</code>. Deprecated <code>processWith</code>, replacing it with two functions, <code>bottomUp</code> and <code>topDown</code>. Removed previously deprecated functions <code>processPandoc</code> and <code>queryPandoc</code>.</p></li>
<li><p>Added <code>Text.Pandoc.Builder</code>, for building <code>Pandoc</code> structures.</p></li>
<li><p><code>Text.Pandoc</code> now exports association lists <code>readers</code> and <code>writers</code>.</p></li>
<li><p>Added <code>Text.Pandoc.Readers.Native</code>, which exports <code>readNative</code>. <code>readNative</code> can now read full pandoc documents, block lists, blocks, inline lists, or inlines. It will interpret <code>Str &quot;hi&quot;</code> as if it were <code>Pandoc (Meta [] [] []) [Plain [Str &quot;hi&quot;]]</code>. This should make testing easier.</p></li>
<li><p>Removed deprecated <code>-C/--custom-header</code> option. Use <code>--template</code> instead.</p></li>
<li><p><code>--biblio-file</code> has been replaced by <code>--bibliography</code>. <code>--biblio-format</code> has been removed; pandoc now guesses the format from the file extension (see README).</p></li>
<li><p>pandoc will treat an argument as a URI only if it has an <code>http(s)</code> scheme. Previously pandoc would treat some Windows pathnames beginning with <code>C:/</code> as URIs.</p></li>
<li><p>The <code>--sanitize-html</code> option and the <code>stateSanitize</code> field in <code>ParserState</code> have been removed. Sanitization is better done in the resulting HTML using <code>xss-sanitize</code>, which is based on pandoc’s sanitization, but improved.</p></li>
<li><p>pandoc now adds a newline to the end of its output in fragment mode (= not <code>--standalone</code>).</p></li>
<li><p>Added support for <code>lang</code> in <code>html</code> tag in the HTML template, so you can do <code>pandoc -s -V lang=es</code>, for example.</p></li>
<li><p><code>highlightHtml</code> in <code>Text.Pandoc.Highlighting</code> now takes a boolean argument that selects between “inline” and “block” HTML.</p></li>
<li><p><code>Text.Pandoc.Writers.RTF</code> now exports <code>rtfEmbedImage</code>. Images are embedded in RTF output when possible (png, jpeg). Resolves Issue #275.</p></li>
<li><p>Added <code>Text.Pandoc.Pretty</code>. This is better suited for pandoc than the <code>pretty</code> package. Changed all writers that used <code>Text.PrettyPrint.HughesPJ</code> to use <code>Text.Pandoc.Pretty</code> instead.</p></li>
<li><p>Rewrote <code>writeNative</code> using the new prettyprinting module. It is now much faster. The output has been made more consistent and compressed. <code>writeNative</code> is also now sensitive to writerStandalone<code>, and will simply</code>print a block list if writerStandalone` is False.</p></li>
<li><p>Removed <code>Text.Pandoc.Blocks</code>. <code>Text.Pandoc.Pretty</code> allows you to define blocks and concatenate them, so a separate module is no longer needed.</p></li>
<li><p><code>Text.Pandoc.Shared</code>:</p>
<ul>
<li>Added <code>writerColumns</code>, <code>writerChapters</code>, and <code>writerHtml5</code> to <code>WriterOptions</code>.</li>
<li>Added <code>normalize</code>.</li>
<li>Removed unneeded prettyprinting functions: <code>wrapped</code>, <code>wrapIfNeeded</code>, <code>wrappedTeX</code>, <code>wrapTeXIfNeeded</code>, <code>hang'</code>, <code>BlockWrapper</code>, <code>wrappedBlocksToDoc</code>.</li>
<li>Made <code>splitBy</code> take a test instead of an element.</li>
<li>Added <code>findDataFile</code>, refactored <code>readDataFile</code>.</li>
<li>Added <code>stringify</code>. Rewrote <code>inlineListToIdentifier</code> using <code>stringify</code>.</li>
<li>Fixed <code>inlineListToIdentifier</code> to treat ‘60’ as ‘’.</li>
</ul></li>
<li><p><code>Text.Pandoc.Readers.HTML</code>:</p>
<ul>
<li>Removed <code>rawHtmlBlock</code>, <code>anyHtmlBlockTag</code>, <code>anyHtmlInlineTag</code>, <code>anyHtmlTag</code>, <code>anyHtmlEndTag</code>, <code>htmlEndTag</code>, <code>extractTagType</code>, <code>htmlBlockElement</code>, <code>htmlComment</code></li>
<li>Added <code>htmlTag</code>, <code>htmlInBalanced</code>, <code>isInlineTag</code>, <code>isBlockTag</code>, <code>isTextTag</code></li>
</ul></li>
<li><p>Moved <code>smartPunctuation</code> from <code>Text.Pandoc.Readers.Markdown</code> to <code>Text.Pandoc.Readers.Parsing</code>, and parameterized it with an inline parser.</p></li>
<li><p>Ellipses are no longer allowed to contain spaces. Previously we allowed ‘. . .’, ‘. . .’, etc. This caused too many complications, and removed author’s flexibility in combining ellipses with spaces and periods.</p></li>
<li><p>Allow linebreaks in URLs (treat as spaces). Also, a string of consecutive spaces or tabs is now parsed as a single space. If you have multiple spaces in your URL, use <code>%20%20</code>.</p></li>
<li><p><code>Text.Pandoc.Parsing</code>:</p>
<ul>
<li>Removed <code>refsMatch</code>.</li>
<li>Hid <code>Key</code> constructor.</li>
<li>Removed custom <code>Ord</code> and <code>Eq</code> instances for <code>Key</code>.</li>
<li>Added <code>toKey</code> and <code>fromKey</code> to convert between <code>Key</code> and <code>[Inline]</code>.</li>
<li>Generalized type on <code>readWith</code>.</li>
</ul></li>
<li><p>Small change in calculation of relative widths of table columns. If the size of the header &gt; the specified column width, use the header size as 100% for purposes of calculating relative widths of columns.</p></li>
<li><p>Markdown writer now uses some pandoc-specific features when <code>--strict</code> is not specified: <code>\</code> newline is used for a hard linebreak instead of two spaces then a newline. And delimited code blocks are used when there are attributes.</p></li>
<li><p>HTML writer: improved gladTeX output by setting ENV appropriately for display or inline math (Jonathan Daugherty).</p></li>
<li><p>LaTeX writer: Use <code>\paragraph</code>, <code>\subparagraph</code> for level 4,5 headers.</p></li>
<li><p>LaTeX reader:</p>
<ul>
<li><code>\label{foo}</code> and <code>\ref{foo}</code> now become <code>{foo}</code> instead of <code>(foo)</code>.</li>
<li><code>\index{}</code> commands are skipped.</li>
</ul></li>
<li><p>Added <code>fontsize</code> variable to default LaTeX template. This makes it easy to set the font size using <code>markdown2pdf</code>: <code>markdown2pdf -V fontsize=12pt input.txt</code>.</p></li>
<li><p>Fixed problem with strikeout in LaTeX headers when using hyperref, by adding a command to the default LaTeX template that disables <code>\sout</code> inside pdf strings. Thanks to Joost Kremers for the fix.</p></li>
<li><p>The <code>COLUMNS</code> environment variable no longer has any effect.</p></li>
</ul>
<h2 id="under-the-hood-improvements-2"><a href="#under-the-hood-improvements-2">Under-the-hood improvements</a></h2>
<ul>
<li><p>Pandoc now compiles with GHC 7. (This alone leads to a significant performance improvement, 15-20%.)</p></li>
<li><p>Completely rewrote HTML reader using tagsoup as a lexer. The new reader is faster and more accurate. Unlike the old reader, it does not get bogged down on some input (Issues #277, 255). And it handles namespaces in tags (Issue #274).</p></li>
<li><p>Replaced <code>escapeStringAsXML</code> with a faster version.</p></li>
<li><p>Rewrote <code>spaceChar</code> and some other parsers in Text.Pandoc.Parsing for a significant performance boost.</p></li>
<li><p>Improved performance of all readers by rewriting parsers.</p></li>
<li><p>Simplified Text.Pandoc.CharacterReferences by using entity lookup functions from TagSoup.</p></li>
<li><p><code>Text.Pandoc.UTF8</code> now uses the unicode-aware IO functions from <code>System.IO</code> if base &gt;= 4.2. This gives support for windows line endings on windows.</p></li>
<li><p>Remove duplications in documentation by generating the pandoc man page from README, using <code>MakeManPage.hs</code>.</p></li>
<li><p>README now includes a full description of markdown syntax, including non-pandoc-specific parts. A new <code>pandoc_markdown</code> man page is extracted from this, so you can look up markdown syntax by doing <code>man pandoc_markdown</code>.</p></li>
<li><p>Completely revised test framework (with help from Nathan Gass). The new test framework is built when the <code>tests</code> Cabal flag is set. It includes the old integration tests, but also some new unit and quickcheck tests. Test output has been much improved, and you can now specify a glob pattern after <code>cabal test</code> to indicate which tests should be run; for example <code>cabal test citations</code> will run all the citation tests.</p></li>
<li><p>Added a shell script, <code>stripansi.sh</code>, for filtering ANSI control sequences from test output: <code>cabal test | ./stripansi.sh &gt; test.log</code>.</p></li>
<li><p>Added <code>Interact.hs</code> to make it easier to use ghci while developing. <code>Interact.hs</code> loads <code>ghci</code> from the <code>src</code> directory, specifying all the options needed to load pandoc modules (including specific package dependencies, which it gets by parsing dist/setup-config).</p></li>
<li><p>Added <code>Benchmark.hs</code>, testing all readers + writers using criterion.</p></li>
<li><p>Added <code>stats.sh</code>, to make it easier to collect and archive benchmark and lines-of-code stats.</p></li>
<li><p>Added upper bounds to all cabal dependencies.</p></li>
<li><p>Include man pages in extra-source-files. This allows users to install pandoc from the tarball without needing to build the man pages.</p></li>
</ul>
<h2 id="bug-fixes-2"><a href="#bug-fixes-2">Bug fixes</a></h2>
<ul>
<li><p>Filenames are encoded as UTF8. Resolves Issue #252.</p></li>
<li><p>Handle curly quotes better in <code>--smart</code> mode. Previously, curly quotes were just parsed literally, leading to problems in some output formats. Now they are parsed as <code>Quoted</code> inlines, if <code>--smart</code> is specified. Resolves Issue #270.</p></li>
<li><p>Text.Pandoc.Parsing: Fixed bug in grid table parser. Spaces at end of line were not being stripped properly, resulting in unintended LineBreaks.</p></li>
<li><p>Markdown reader:</p>
<ul>
<li>Allow HTML comments as inline elements in markdown. So, <code>aaa &lt;!-- comment --&gt; bbb</code> can be a single paragraph.</li>
<li>Fixed superscripts with links: <code>^[link](/foo)^</code> gets recognized as a superscripted link, not an inline note followed by garbage.</li>
<li>Fixed regression, making markdown reference keys case-insensitive again. Resolves Issue #272.</li>
<li>Properly handle abbreviations (like <code>Mr.</code>) at the end of a line.</li>
<li>Better handling of intraword underscores, avoiding exponential slowdowns in some cases. Resolves Issue #182.</li>
<li>Fixed bug in alignments in tables with blank rows in the header.</li>
</ul></li>
<li><p>RST reader:</p>
<ul>
<li>Field lists now allow spaces in field names, and block content in field values. (Thanks to Lachlan Musicman for pointing out the bug.)</li>
<li>Definition list items are now always <code>Para</code> instead of <code>Plain</code>, matching behavior of <code>rst2xml.py</code>.</li>
<li>In image blocks, the description is parsed properly and used for the alt attribute, not also the title.</li>
<li>Skip blank lines at beginning of file. Resolves Debian #611328.</li>
</ul></li>
<li><p>LaTeX reader:</p>
<ul>
<li>Improved parsing of preamble. Previously you’d get unexpected behavior on a document that contained <code>\begin{document}</code> in, say, a verbatim block.</li>
<li>Allow spaces between <code>\begin</code> or <code>\end</code> and <code>{</code>.</li>
<li>Support <code>\L</code> and <code>\l</code>.</li>
<li>Skip comments inside paragraphs.</li>
</ul></li>
<li><p>LaTeX writer:</p>
<ul>
<li>Escape strings in <code>\href{..}</code>.</li>
<li>In nonsimple tables, put cells in <code>\parbox</code>.</li>
</ul></li>
<li><p>OpenDocument writer: don’t print raw TeX.</p></li>
<li><p>Markdown writer:</p>
<ul>
<li>Fixed bug in <code>Image</code>. URI was getting unescaped twice!</li>
<li>Avoid printing extra blank lines at the end if there are no notes or references.</li>
</ul></li>
<li><p>LaTeX and ConTeXt: Escape <code>[</code> and <code>]</code> as <code>{[}</code> and <code>{]}</code>. This avoids unwanted interpretation as an optional argument.</p></li>
<li><p>ConTeXt writer: Fixed problem with inline code. Previously <code>}</code> would be rendered <code>\type{}}</code>. Now we check the string for ‘}’ and ‘{’. If it contains neither, use <code>\type{}</code>; otherwise use <code>\mono{}</code> with an escaped version of the string.</p></li>
<li><p><code>:</code> now allowed in HTML tags. Resolves Issue #274.</p></li>
</ul>
<h1 id="pandoc-1.6-2010-07-24"><a href="#pandoc-1.6-2010-07-24">pandoc 1.6 (2010-07-24)</a></h1>
<ul>
<li><p>New EPUB and HTML Slidy writers. (Issue #122)</p>
<ul>
<li><a href="http://en.wikipedia.org/wiki/EPUB">EPUB</a> is a standard ebook format, used in Apple’s iBooks for the iPad and iPhone, Barnes and Noble’s nook reader, the Sony reader, and many other devices, and by online ebook readers like <a href="http://bookworm.oreilly.com/">bookworm</a>. (Amazon’s Kindle uses a different format, MobiPocket, but EPUB books can easily be converted to Kindle format.) Now you can write your book in markdown and produce an ebook with a single command! I’ve put up a short <a href="http://johnmacfarlane.net/pandoc/epub.html">tutorial here</a>.</li>
<li><a href="http://www.w3.org/Talks/Tools/Slidy">Slidy</a>, like S5, is a system for producing HTML+javascript slide shows.</li>
</ul></li>
<li><p>All input is assumed to be UTF-8, no matter what the locale and ghc version, and all output is UTF-8. This reverts to pre-1.5 behavior. Also, a BOM, if present, is stripped from the input.</p></li>
<li><p>Markdown now supports grid tables, whose cells can contain arbitrary block elements. (Issue #43)</p></li>
<li><p>Sequentially numbered example lists in markdown with <code>@</code> marker.</p></li>
<li><p>Markdown table captions can begin with a bare colon and no longer need to include the English word “table.” Also, a caption can now occur either before or after the table. (Issue #227)</p></li>
<li><p>New command-line options:</p>
<ul>
<li><code>--epub-stylesheet</code> allows you to specify a CSS file that will be used to style your ebook.</li>
<li><code>--epub-metadata</code> allows you to specify metadata for the ebook.</li>
<li><code>--offline</code> causes the generated HTML slideshow to include all needed scripts and stylesheets.</li>
<li><code>--webtex</code> causes TeX math to be converted to images using the Google Charts API (unless a different URL is specified).</li>
<li><code>--section-divs</code> causes div tags to be added around each section in an HTML document. (Issue #230, 239)</li>
</ul></li>
<li><p>Default behavior of S5 writer in standalone mode has changed: previously, it would include all needed scripts and stylesheets in the generated HTML; now, only links are included unless the <code>--offline</code> option is used.</p></li>
<li><p>Default behavior of HTML writer has changed. Between 1.2 and 1.5, pandoc would enclose sections in div tags with identifiers on the div tags, so that the sections can be manipulated in javascript. This caused undesirable interactions with raw HTML div tags. So, starting with 1.6, the default is to put the identifiers directly on the header tags, and not to include the divs. The <code>--section-divs</code> option selects the 1.2-1.5 behavior.</p></li>
<li><p>API changes:</p>
<ul>
<li><code>HTMLMathMethod</code>: Added <code>WebTeX</code>, removed <code>MimeTeX</code>.</li>
<li><code>WriterOptions</code>: Added <code>writerUserDataDir</code>, <code>writerSourceDirectory</code>, <code>writerEPUBMetadata</code> fields. Removed <code>writerIncludeBefore</code>, <code>writerIncludeAfter</code>.</li>
<li>Added <code>headerShift</code> to <code>Text.Pandoc.Shared</code>.</li>
<li>Moved parsing code and <code>ParserState</code> from <code>Text.Pandoc.Shared</code> to a new module, <code>Text.Pandoc.Parsing</code>.</li>
<li>Added <code>stateHasChapters</code> to <code>ParserState</code>.</li>
<li>Added <code>HTMLSlideVariant</code>.</li>
<li>Made <code>KeyTable</code> a map instead of an association list.</li>
<li>Added accessors for <code>Meta</code> fields (<code>docTitle</code>, <code>docAuthors</code>, <code>docDate</code>).</li>
<li><code>Pandoc</code>, <code>Meta</code>, <code>Inline</code>, and <code>Block</code> have been given <code>Ord</code> instances.</li>
<li>Reference keys now have a type of their own (<code>Key</code>), with its own <code>Ord</code> instance for case-insensitive comparison.</li>
<li>Added <code>Text.Pandoc.Writers.EPUB</code>.</li>
<li>Added <code>Text.Pandoc.UUID</code>.</li>
<li>Removed <code>Text.Pandoc.ODT</code>, added <code>Text.Pandoc.Writers.ODT</code>. Removed <code>saveOpenDocumentAsODT</code>, added <code>writeODT</code>.</li>
<li>Added <code>Text.Pandoc.Writers.Native</code> and <code>writeNative</code>. Removed <code>prettyPandoc</code>.</li>
<li>Added <code>Text.Pandoc.UTF8</code> for portable UTF8 string IO.</li>
<li>Removed <code>Text.Pandoc.Writers.S5</code> and the <code>writeS5</code> function. Moved <code>s5Includes</code> to a new module, <code>Text.Pandoc.S5</code>. To write S5, you now use <code>writeHtml</code> with <code>writerSlideVariant</code> set to <code>S5Slides</code> or <code>SlidySlides</code>.</li>
</ul></li>
<li><p>Template changes. If you use custom templates, please update them, particularly if you use syntax highlighting with pandoc. The old HTML templates hardcoded highlighting CSS that will no longer work with the most recent version of highlighting-kate.</p>
<ul>
<li>HTML template: avoid empty meta tag if no date.</li>
<li>HTML template: Use default highlighting CSS from highlighting-kate instead of hard-coding the CSS into the template.</li>
<li>HTML template: insert-before text goes before the title, and immediately after the <code>&lt;body&gt;</code> tag, as documented. (Issue #241)</li>
<li>Added slidy and s5 templates.</li>
<li>Added amssymb to preamble of latex template. (github Issue 1)</li>
</ul></li>
<li><p>Removed excess newlines at the end of output. Note: because output will not contain an extra newline, you may need to make adjustments if you are inserting pandoc’s output into a template.</p></li>
<li><p>In S5 and slidy, horizontal rules now cause a new slide, so you are no longer limited to one slide per section.</p></li>
<li><p>Improved handling of code in man writer. Inline code is now monospace, not bold, and code blocks now use .nf (no fill) and .IP (indented para).</p></li>
<li><p>HTML reader parses <code>&lt;tt&gt;</code> as Code. (Issue #247)</p></li>
<li><p>html+lhs output now contains bird tracks, even when compiled without highlighting support. (Issue #242)</p></li>
<li><p>Colons are now no longer allowed in autogenerated XML/HTML identifiers, since they have a special meaning in XML.</p></li>
<li><p>Code improvements in ODT writer. Remote images are now replaced with their alt text rather than a broken link.</p></li>
<li><p>LaTeX reader improvements:</p>
<ul>
<li>Made latex <code>\section</code>, <code>\chapter</code> parsers more forgiving of whitespace.</li>
<li>Parse <code>\chapter{}</code> in latex.</li>
<li>Changed <code>rawLaTeXInline</code> to accept <code>\section</code>, <code>\begin</code>, etc.</li>
<li>Use new <code>rawLaTeXInline'</code> in LaTeX reader, and export <code>rawLaTeXInline</code> for use in markdown reader.</li>
<li>Fixes bug wherein <code>\section{foo}</code> was not recognized as raw TeX in markdown document.</li>
</ul></li>
<li><p>LaTeX writer: images are automatically shrunk if they would extend beyond the page margin.</p></li>
<li><p>Plain, markdown, RST writers now use unicode for smart punctuation.</p></li>
<li><p>Man writer converts math to unicode when possible, as in other writers.</p></li>
<li><p><code>markdown2pdf</code> can now recognize citeproc options.</p></li>
<li><p>Command-line arguments are converted to UTF-8. (Issue #234)</p></li>
<li><p><code>Text.Pandoc.TeXMath</code> has been rewritten to use texmath’s parser. This allows it to handle a wider range of formulas. Also, if a formula cannot be converted, it is left in raw TeX; formulas are no longer partially converted.</p></li>
<li><p>Unicode curly quotes are left alone when parsing smart quotes. (Issue #143)</p></li>
<li><p>Cabal file changes:</p>
<ul>
<li>Removed parsec &lt; 3 restriction.</li>
<li>Added ‘threaded’ flag for architectures where GHC lacks a threaded runtime.</li>
<li>Use ‘threaded’ only for markdown2pdf; it is not needed for pandoc.</li>
<li>Require highlighting-kate 0.2.7.</li>
</ul></li>
<li><p>Use explicit imports from <code>Data.Generics</code>. Otherwise we have a conflict with the ‘empty’ symbol, introduced in syb &gt;= 0.2. (Issue #237)</p></li>
<li><p>New data files: slidy/slidy.min.js, slidy/slidy.min.css, epub.css.</p></li>
</ul>
<h1 id="pandoc-1.5.1.1-2010-03-29"><a href="#pandoc-1.5.1.1-2010-03-29">pandoc 1.5.1.1 (2010-03-29)</a></h1>
<ul>
<li>Fixed header identifiers (uniqueIdent in Shared) so they work as advertized in README and are guaranteed to be valid XHTML names. Thanks to Xyne for reporting the bug.</li>
</ul>
<h1 id="pandoc-1.5.1-2010-03-23"><a href="#pandoc-1.5.1-2010-03-23">pandoc 1.5.1 (2010-03-23)</a></h1>
<ul>
<li>Fixed treatment of unicode characters in URIs.</li>
<li>Revised Setup.hs so it works with debian’s build process.</li>
<li>Fixed bug in OpenDocument writer that led to invalid XML for some input.</li>
</ul>
<h1 id="pandoc-1.5.0.1-2010-03-21"><a href="#pandoc-1.5.0.1-2010-03-21">pandoc 1.5.0.1 (2010-03-21)</a></h1>
<ul>
<li>HTML writer: Fixed error in math writer (with MathML option) that caused an infinite loop for unparsable MathML.</li>
</ul>
<h1 id="pandoc-1.5-2010-03-20"><a href="#pandoc-1.5-2010-03-20">pandoc 1.5 (2010-03-20)</a></h1>
<ul>
<li>Moved repository to <a href="http://github.com/jgm/pandoc">github</a>.</li>
<li>New <code>--mathml</code> option, for display of TeX math as MathML.</li>
<li>New <code>--data-dir</code> option, allowing users to specify a data directory other than <code>~/.pandoc</code>. Files placed in this directory will be used instead of system defaults.</li>
<li>New <code>--base-header-level</code> option. For example, <code>--base-header-level=2</code> changes level 1 headers to level 2, level 2 to level 3, etc.</li>
<li>New ‘plain’ output format: plain text without pictures, hyperlinks, inline formatting, or anything else that looks even vaguely markupish.</li>
<li>Titles and authors in title blocks can now span multiple lines, as long as the continuation lines begin with a space character.</li>
<li>When given an absolute URI as a parameter, pandoc will fetch the content via HTTP.</li>
<li>The HTML reader has been made much more forgiving. It no longer requires well-formed xhtml as input.</li>
<li><code>html2markdown</code> has been removed; it is no longer necessary, given the last two changes. <code>pandoc</code> can be used by itself to convert web pages to markdown or other formats.</li>
<li><code>hsmarkdown</code> has also been removed. Use <code>pandoc --strict</code> instead. Or symlink pandoc’s executable to <code>hsmarkdown</code>; <code>pandoc</code> will then behave like <code>hsmarkdown</code> used to.</li>
<li>An image in a paragraph by itself is now rendered as a figure in most writers, with the alt text as the caption.</li>
<li>Incomplete support for reST tables (simple and grid). Thanks to Eric Kow. Colspans and rowspans not yet supported.</li>
<li>In mediawiki, links with relative URLs are now formatted as wikilinks. Also, headers have been promoted: <code>= head =</code> is now level 1 instead of level 2.</li>
<li>The markdown reader now handles “inverse bird tracks” when parsing literate haskell. These are used for haskell example code that is not part of the literate program.</li>
<li>The <code>-B</code> and <code>-A</code> options now imply <code>-s</code> and no longer work in fragment mode.</li>
<li>Headerless tables are now printed properly in all writers. In addition, tbody, thead, and cols are used in HTML and Docbook tables.</li>
<li>Improved build system; removed obsolete Makefile.</li>
<li>In LaTeX writer, <code>\chapter</code> is now used instead of <code>\section</code>. when the documentclass is book, report, or memoir.</li>
<li>Many small bug fixes. See <a href="changelog.txt">changelog</a> for details.</li>
</ul>
<h1 id="pandoc-1.4-2010-01-02"><a href="#pandoc-1.4-2010-01-02">pandoc 1.4 (2010-01-02)</a></h1>
<ul>
<li>New template system replaces old headers, giving users much more control over pandoc’s output in <code>--standalone</code> mode. Added <code>--template</code> and <code>--variable</code> options. The <code>--print-default-header</code> option is now <code>--print-default-template</code>. See README under “Templates” for details.</li>
<li>The old <code>--custom-header</code> option should still work, but it has been deprecated.</li>
<li>New <code>--reference-odt</code> option allows users to customize styles in ODT output.</li>
<li>Users may now put custom templates, s5 styles, and a reference ODT in the <code>~/.pandoc</code> directory, where they will override system defaults. See README for details.</li>
<li>Unicode is now used whenever possible in HTML and XML output. Entities are used only where necessary (<code>&amp;gt;</code>, <code>&amp;lt;</code>, <code>&amp;quot;</code>, <code>&amp;amp;</code>).</li>
<li>Authors and dates may now include formatting and notes.</li>
<li>Added <code>--xetex</code> option for <code>pandoc</code> and <code>markdown2pdf</code>.</li>
<li>Windows installer now includes highlighting support and <code>markdown2pdf</code> and <code>hsmarkdown</code> wrappers.</li>
<li>Pandoc no longer requires Template Haskell, which should make it more portable.</li>
<li>Pandoc can now be built on GHC 6.12, as well as earlier versions.</li>
<li>See README for other small improvements and bug fixes.</li>
</ul>
<h1 id="pandoc-1.3-2009-12-10"><a href="#pandoc-1.3-2009-12-10">pandoc 1.3 (2009-12-10)</a></h1>
<ul>
<li>Added <code>--id-prefix</code> option to help prevent duplicate identifiers when you’re generating HTML fragments.</li>
<li>Added <code>--indented-code-classes</code> option, which specifies default highlighting syntax for indented code blocks.</li>
<li><code>--number-sections</code> now affects HTML output.</li>
<li>Improved syntax for markdown definition lists.</li>
<li>Better looking simple tables.</li>
<li>Markdown tables without headers are now possible.</li>
<li>New hard line break syntax: backslash followed by newline.</li>
<li>Improved performance of markdown reader by ~10% by eliminating the need for a separate parsing pass for notes.</li>
<li>Improved syntax highlighting for literate Haskell.</li>
<li>Support for “..code-block” directive in RST reader.</li>
<li>Windows binary now includes highlighting support.</li>
<li>Many bug fixes and small improvements. See <a href="changelog.txt">changelog</a> for details.</li>
</ul>
<h1 id="pandoc-1.2.1-2009-07-18"><a href="#pandoc-1.2.1-2009-07-18">pandoc 1.2.1 (2009-07-18)</a></h1>
<ul>
<li>Improved the efficiency of the markdown reader’s abbreviation parsing (should give a big performance boost with <code>--smart</code>).</li>
<li>HTML writer now wraps sections in divs with unique identifiers, for easier manipulation.</li>
<li>Improved LaTeX reader’s coverage of math modes.</li>
<li>Added a portable Haskell version of markdown2pdf (thanks to Paolo Tanimoto).</li>
<li>Made <code>--strict</code> compatible with <code>--standalone</code> and <code>--toc.</code></li>
<li>Many other small improvements and bug fixes. See <a href="changelog.txt">changelog</a> for details.</li>
</ul>
<h1 id="pandoc-1.2-2009-03-01"><a href="#pandoc-1.2-2009-03-01">pandoc 1.2 (2009-03-01)</a></h1>
<ul>
<li>Added support for literate Haskell. lhs support is triggered by ‘+lhs’ suffixes in formats. For example, ‘latex+lhs’ is literate Haskell LaTeX. ‘.lhs’ files are treated by default as literate markdown.</li>
<li>Added <code>--email-obfuscation</code> option.</li>
<li>Brought citeproc support up to date for citeproc-hs-0.2.</li>
<li>Many bugs fixed. See <a href="changelog.txt">changelog</a> for details.</li>
</ul>
<h1 id="pandoc-1.1-2008-11-06"><a href="#pandoc-1.1-2008-11-06">pandoc 1.1 (2008-11-06)</a></h1>
<ul>
<li>New <code>--jsmath</code> option supporting use of pandoc with [jsMath].</li>
<li>Classes on HTML table output for better CSS styling.</li>
<li>Windows installer no longer requires admin privileges.</li>
<li>Many bugs fixed. See <a href="changelog.txt">changelog</a> for details.</li>
</ul>
<h1 id="pandoc-1.0-2008-09-13"><a href="#pandoc-1.0-2008-09-13">pandoc 1.0 (2008-09-13)</a></h1>
<ul>
<li>New writers for MediaWiki, GNU Texinfo (thanks to Peter Wang), OpenDocument XML (thanks to Andrea Rossato), and ODT (OpenOffice document).</li>
<li>New <a href="README.html#delimited-code-blocks">delimited code blocks</a>, with optional syntax highlighting.</li>
<li>Reorganized build system: pandoc can now be built using standard Cabal tools. It can be compiled on Windows without Cygwin. The tests can also be run without perl or unix tools.</li>
<li>LaTeXMathML replaces ASCIIMathML for rendering math in HTML.</li>
<li>Support for “displayed” math.</li>
<li>Common abbreviations are now handled more intelligently, with a non-breaking space (and not a sentence-ending space) after the period.</li>
<li>Code is -Wall clean.</li>
<li>Many bug fixes and small improvements. See <a href="changelog.txt">changelog</a> for full details.</li>
</ul>
<h1 id="pandoc-0.46-2008-01-08"><a href="#pandoc-0.46-2008-01-08">pandoc 0.46 (2008-01-08)</a></h1>
<ul>
<li>Added a <code>--sanitize-html</code> option (and a corresponding parameter in <code>ParserState</code> for those using the pandoc libraries in programs). This option causes pandoc to sanitize HTML (in HTML or Markdown input) using a whitelist method. Possibly harmful HTML elements are replaced with HTML comments. This should be useful in the context of web applications, where pandoc may be used to convert user input into HTML.</li>
<li>Made -H, -A, and -B options cumulative: if they are specified multiple times, multiple files will be included.</li>
<li>Many bug fixes and small improvements. See <a href="changelog.txt">changelog</a> for full details.</li>
</ul>
<h1 id="pandoc-0.45-2007-12-09"><a href="#pandoc-0.45-2007-12-09">pandoc 0.45 (2007-12-09)</a></h1>
<ul>
<li>Many bug fixes and structural improvements. See <a href="changelog.txt">changelog</a> for full details.</li>
<li>Improved treatment of math. Math is now rendered using unicode by default in HTML, RTF, and DocBook output. For more accurate display of math in HTML, <code>--gladtex</code>, <code>--mimetex</code>, and <code>--asciimathml</code> options are provided. See the <a href="README.html#math">User’s Guide</a> for details.</li>
<li>Removed support for box-style block quotes in markdown.</li>
<li>More idiomatic ConTeXt output.</li>
<li>Text wrapping in ConTeXt and LaTeX output.</li>
<li>Pandoc now correctly handles all standard line endings (CR, LF, CRLF).</li>
<li>New <code>--no-wrap</code> option that disables line wrapping and minimizes whitespace in HTML output.</li>
<li>Build process is now compatible with both GHC 6.8 and GHC 6.6. GHC and GHC_PKG environment variables may be used to specify which version of the compiler to use, when multiple versions are installed.</li>
</ul>
        </div>
      </div>
      <div id="nav" class="yui-b">
        <ul class="nav">
                <li><a href="index.html">About</a></li>
                <li><a href="installing.html">Installing</a></li>
                <li>Demos
                <ul>
                  <li><a href="/pandoc/try">Try pandoc online</a></li>
                  <li><a href="demos.html">Examples</a></li>
                </ul>
                </li>
                <li>Documentation
                <ul>
                  <li><a href="README.html">User's Guide</a></li>
                  <li><a href="faqs.html">FAQ</a></li>
                  <li><a href="http://hackage.haskell.org/package/pandoc">API documentation</a></li>
                  <li><a href="CONTRIBUTING.html">Contributing</a></li>
                  <li><a href="lists.html">Mailing lists</a></li>
                  <li><a href="scripting.html">Scripting</a></li>
                  <li><a href="epub.html">Making an ebook</a></li>
                </ul>
                </li>
                <li><a href="https://github.com/jgm/pandoc/wiki/Pandoc-Extras">Extras</a></li>
                <li><a href="releases.html">Releases</a></li>
                </ul>
        <div id="toc">
<ul>
<li><a href="#pandoc-1.11.1-2013-03-17">pandoc 1.11.1 (2013-03-17)</a></li>
<li><a href="#pandoc-1.11-2013-03-09">pandoc 1.11 (2013-03-09)</a></li>
<li><a href="#pandoc-1.10.1-2013-01-23">pandoc 1.10.1 (2013-01-23)</a></li>
<li><a href="#pandoc-1.10.0.5-2013-01-23">pandoc 1.10.0.5 (2013-01-23)</a></li>
<li><a href="#pandoc-1.10.0.4-2013-01-20">pandoc 1.10.0.4 (2013-01-20)</a></li>
<li><a href="#pandoc-1.10.0.3-2013-01-20">pandoc 1.10.0.3 (2013-01-20)</a></li>
<li><a href="#pandoc-1.10.0.2-2013-01-20">pandoc 1.10.0.2 (2013-01-20)</a></li>
<li><a href="#pandoc-1.10.0.1-2013-01-20">pandoc 1.10.0.1 (2013-01-20)</a></li>
<li><a href="#pandoc-1.10-2013-01-19">pandoc 1.10 (2013-01-19)</a><ul>
<li><a href="#new-features">New features</a></li>
<li><a href="#behavior-changes">Behavior changes</a></li>
<li><a href="#template-changes">Template changes</a></li>
<li><a href="#api-changes">API changes</a></li>
<li><a href="#bug-fixes">Bug fixes</a></li>
<li><a href="#under-the-hood-improvements">Under the hood improvements</a></li>
</ul></li>
<li><a href="#pandoc-1.9.4.5-2012-10-21">pandoc 1.9.4.5 (2012-10-21)</a></li>
<li><a href="#pandoc-1.9.4.4-2012-10-20">pandoc 1.9.4.4 (2012-10-20)</a></li>
<li><a href="#pandoc-1.9.4.3-2012-10-20">pandoc 1.9.4.3 (2012-10-20)</a></li>
<li><a href="#pandoc-1.9.4.2-2012-06-29">pandoc 1.9.4.2 (2012-06-29)</a></li>
<li><a href="#pandoc-1.9.4.1-2012-06-08">pandoc 1.9.4.1 (2012-06-08)</a></li>
<li><a href="#pandoc-1.9.4-2012-06-03">pandoc 1.9.4 (2012-06-03)</a></li>
<li><a href="#pandoc-1.9.3-2012-05-12">pandoc 1.9.3 (2012-05-12)</a></li>
<li><a href="#pandoc-1.9.2-2012-04-05">pandoc 1.9.2 (2012-04-05)</a></li>
<li><a href="#pandoc-1.9.1.2-2012-03-09">pandoc 1.9.1.2 (2012-03-09)</a></li>
<li><a href="#pandoc-1.9.1.1-2012-02-11">pandoc 1.9.1.1 (2012-02-11)</a></li>
<li><a href="#pandoc-1.9.1-2012-02-09">pandoc 1.9.1 (2012-02-09)</a></li>
<li><a href="#pandoc-1.9.0.5-2012-02-06">pandoc 1.9.0.5 (2012-02-06)</a></li>
<li><a href="#pandoc-1.9.0.4-2012-02-06">pandoc 1.9.0.4 (2012-02-06)</a></li>
<li><a href="#pandoc-1.9.0.3-2012-02-06">pandoc 1.9.0.3 (2012-02-06)</a></li>
<li><a href="#pandoc-1.9.0.2-2012-02-05">pandoc 1.9.0.2 (2012-02-05)</a></li>
<li><a href="#pandoc-1.9-2012-02-05">pandoc 1.9 (2012-02-05)</a><ul>
<li><a href="#new-features-1">New features</a></li>
<li><a href="#behavior-changes-1">Behavior changes</a></li>
<li><a href="#bug-fixes-1">Bug fixes</a></li>
<li><a href="#under-the-hood-improvements-1">Under the hood improvements</a></li>
<li><a href="#api-changes-1">API changes</a></li>
</ul></li>
<li><a href="#pandoc-1.8.2.1-2011-08-01">pandoc 1.8.2.1 (2011-08-01)</a></li>
<li><a href="#pandoc-1.8.2-2011-07-30">pandoc 1.8.2 (2011-07-30)</a></li>
<li><a href="#pandoc-1.8.1.2-2011-07-16">pandoc 1.8.1.2 (2011-07-16)</a></li>
<li><a href="#pandoc-1.8.1.1-2011-02-13">pandoc 1.8.1.1 (2011-02-13)</a></li>
<li><a href="#pandoc-1.8.1-2011-02-13">pandoc 1.8.1 (2011-02-13)</a></li>
<li><a href="#pandoc-1.8.0.3-2011-02-05">pandoc 1.8.0.3 (2011-02-05)</a></li>
<li><a href="#pandoc-1.8.0.2-2011-02-05">pandoc 1.8.0.2 (2011-02-05)</a></li>
<li><a href="#pandoc-1.8.0.1-2001-01-31">pandoc 1.8.0.1 (2001-01-31)</a></li>
<li><a href="#pandoc-1.8-2011-01-30">pandoc 1.8 (2011-01-30)</a><ul>
<li><a href="#new-features-2">New features</a></li>
<li><a href="#api-and-program-changes">API and program changes</a></li>
<li><a href="#under-the-hood-improvements-2">Under-the-hood improvements</a></li>
<li><a href="#bug-fixes-2">Bug fixes</a></li>
</ul></li>
<li><a href="#pandoc-1.6-2010-07-24">pandoc 1.6 (2010-07-24)</a></li>
<li><a href="#pandoc-1.5.1.1-2010-03-29">pandoc 1.5.1.1 (2010-03-29)</a></li>
<li><a href="#pandoc-1.5.1-2010-03-23">pandoc 1.5.1 (2010-03-23)</a></li>
<li><a href="#pandoc-1.5.0.1-2010-03-21">pandoc 1.5.0.1 (2010-03-21)</a></li>
<li><a href="#pandoc-1.5-2010-03-20">pandoc 1.5 (2010-03-20)</a></li>
<li><a href="#pandoc-1.4-2010-01-02">pandoc 1.4 (2010-01-02)</a></li>
<li><a href="#pandoc-1.3-2009-12-10">pandoc 1.3 (2009-12-10)</a></li>
<li><a href="#pandoc-1.2.1-2009-07-18">pandoc 1.2.1 (2009-07-18)</a></li>
<li><a href="#pandoc-1.2-2009-03-01">pandoc 1.2 (2009-03-01)</a></li>
<li><a href="#pandoc-1.1-2008-11-06">pandoc 1.1 (2008-11-06)</a></li>
<li><a href="#pandoc-1.0-2008-09-13">pandoc 1.0 (2008-09-13)</a></li>
<li><a href="#pandoc-0.46-2008-01-08">pandoc 0.46 (2008-01-08)</a></li>
<li><a href="#pandoc-0.45-2007-12-09">pandoc 0.45 (2007-12-09)</a></li>
</ul>
        </div>
      </div>
    </div>
    <div id="ft">
    </div>
  </div>
</body>
</html>
